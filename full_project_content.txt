=========================================
FILE PATH: C:\Users\libasse.dia\Documents\budget\budgetfamille-social-bot\.env
=========================================
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# BUDGET FAMILLE - SOCIAL MEDIA BOT - CONFIGURATION
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# 
# INSTRUCTIONS:
# 1. Copiez ce fichier vers .env : cp .env.example .env
# 2. Remplissez vos identifiants rÃ©els
# 3. NE JAMAIS commiter le fichier .env sur Git
#
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# LINKEDIN
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
LINKEDIN_EMAIL=budgetfamille.lovation@gmail.com
LINKEDIN_PASS=lovation_pour_nou$

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# INSTAGRAM
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
INSTAGRAM_USER=budgetfamille_lovation
INSTAGRAM_PASS=lovation_pour_nou$

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# FACEBOOK (Page)
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
FACEBOOK_EMAIL=budgetfamille.lovation@gmail.com
FACEBOOK_PASS=lovation_pour_nou$
# Nom exact de votre page Facebook (pour la sÃ©lection automatique)
FACEBOOK_PAGE_NAME=BudgetFamille Lovation 

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# X (TWITTER)
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
TWITTER_USER=Budget_Famille
TWITTER_PASS=lovation_pour_nou$


USE_EXISTING_CHROME=true

# Option Google pour X (si ton compte X est liÃ© Ã  Google)
TWITTER_USE_GOOGLE=true

# Tes identifiants Google (optionnel)
GOOGLE_EMAIL=budgetfamille.lovation@gmail.com
GOOGLE_PASS=lovation_pour_nou$


# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# CONFIGURATION GÃ‰NÃ‰RALE
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

# DÃ©lai entre chaque publication (en secondes) - Minimum recommandÃ©: 300 (5 min)
DELAY_BETWEEN_POSTS=5

# Mode debug (true/false) - Affiche plus d'informations
DEBUG_MODE=false

# Chemin vers le dossier des posts
POSTS_FOLDER=posts

# Fuseau horaire
TIMEZONE=Europe/Paris

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# NOTIFICATIONS (Optionnel)
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

# Email pour recevoir les rapports (laisser vide pour dÃ©sactiver)
NOTIFICATION_EMAIL=lovation.pro@gmail.com

# Webhook Discord (laisser vide pour dÃ©sactiver)
DISCORD_WEBHOOK=

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# PROXY (Optionnel - pour utilisateurs avancÃ©s)
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

# Si vous voulez utiliser un proxy
# PROXY_SERVER=http://proxy.example.com:8080
# PROXY_USER=
# PROXY_PASS=




=========================================
FILE PATH: C:\Users\libasse.dia\Documents\budget\budgetfamille-social-bot\.env.example
=========================================
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# BUDGET FAMILLE - SOCIAL MEDIA BOT - CONFIGURATION
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# 
# INSTRUCTIONS:
# 1. Copiez ce fichier vers .env : cp .env.example .env
# 2. Remplissez vos identifiants rÃ©els
# 3. NE JAMAIS commiter le fichier .env sur Git
#
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# LINKEDIN
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
LINKEDIN_EMAIL=votre-email@example.com
LINKEDIN_PASS=votre-mot-de-passe-linkedin

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# INSTAGRAM
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
INSTAGRAM_USER=budgetfamille
INSTAGRAM_PASS=votre-mot-de-passe-instagram

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# FACEBOOK (Page)
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
FACEBOOK_EMAIL=votre-email@example.com
FACEBOOK_PASS=votre-mot-de-passe-facebook
# Nom exact de votre page Facebook (pour la sÃ©lection automatique)
FACEBOOK_PAGE_NAME=Budget Famille

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# X (TWITTER)
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
TWITTER_USER=budgetfamille
TWITTER_PASS=votre-mot-de-passe-twitter

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# CONFIGURATION GÃ‰NÃ‰RALE
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

# DÃ©lai entre chaque publication (en secondes) - Minimum recommandÃ©: 300 (5 min)
DELAY_BETWEEN_POSTS=300

# Mode debug (true/false) - Affiche plus d'informations
DEBUG_MODE=false

# Chemin vers le dossier des posts
POSTS_FOLDER=posts

# Fuseau horaire
TIMEZONE=Europe/Paris

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# NOTIFICATIONS (Optionnel)
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

# Email pour recevoir les rapports (laisser vide pour dÃ©sactiver)
NOTIFICATION_EMAIL=

# Webhook Discord (laisser vide pour dÃ©sactiver)
DISCORD_WEBHOOK=

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# PROXY (Optionnel - pour utilisateurs avancÃ©s)
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

# Si vous voulez utiliser un proxy
# PROXY_SERVER=http://proxy.example.com:8080
# PROXY_USER=
# PROXY_PASS=




=========================================
FILE PATH: C:\Users\libasse.dia\Documents\budget\budgetfamille-social-bot\.gitignore
=========================================
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# BUDGET FAMILLE SOCIAL BOT - GITIGNORE
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# SECRETS - TRÃˆS IMPORTANT
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
.env
*.env
.env.*
!.env.example

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# PYTHON
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
__pycache__/
*.py[cod]
*$py.class
*.so
.Python
build/
develop-eggs/
dist/
downloads/
eggs/
.eggs/
lib/
lib64/
parts/
sdist/
var/
wheels/
*.egg-info/
.installed.cfg
*.egg

# Virtual environments
venv/
ENV/
env/
.venv/

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# PLAYWRIGHT
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Browser state (cookies, sessions)
browser_data/
playwright_state/
*.state.json

# Screenshots de debug
screenshots/
debug_screenshots/

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# LOGS
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
logs/
*.log

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# MEDIA (garder seulement les exemples)
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Ignorer les vraies images/vidÃ©os uploadÃ©es
posts/*/image.jpg
posts/*/image.png
posts/*/video.mp4
posts/*/video.mov
posts/*/*.jpeg
posts/*/*.gif

# Mais garder les fichiers texte
!posts/*/caption.txt
!posts/*/config.json
!posts/exemple-*/

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# IDE
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
.idea/
.vscode/
*.swp
*.swo
*~

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# OS
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
.DS_Store
Thumbs.db
desktop.ini

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# TEMPORAIRE
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
tmp/
temp/
*.tmp
*.bak




=========================================
FILE PATH: C:\Users\libasse.dia\Documents\budget\budgetfamille-social-bot\main.py
=========================================
#!/usr/bin/env python3
"""
Budget Famille - Social Media Bot
==================================
Script principal pour publier automatiquement sur les rÃ©seaux sociaux.

Usage:
    python main.py                      # Publie tous les posts en attente
    python main.py --platform linkedin  # Publie uniquement sur LinkedIn
    python main.py --post 2025-01-20    # Publie un post spÃ©cifique
    python main.py --visible            # Mode visible (debug)
    python main.py --dry-run            # Simule sans publier
"""

import os
import sys
import json
import time
import click
from pathlib import Path
from datetime import datetime
from dotenv import load_dotenv
from rich.console import Console
from rich.table import Table
from rich.progress import Progress, SpinnerColumn, TextColumn
from rich.panel import Panel
from rich import print as rprint

# Import des modules de publication
from platforms.linkedin import LinkedInPoster
from platforms.instagram import InstagramPoster
from platforms.facebook import FacebookPoster
from platforms.twitter import TwitterPoster
from utils.logger import setup_logger
from utils.helpers import load_post, validate_post, get_pending_posts

# Charger les variables d'environnement
load_dotenv()

# Console Rich pour l'affichage
console = Console()

# Configuration des plateformes
PLATFORMS = {
    'linkedin': LinkedInPoster,
    'instagram': InstagramPoster,
    'facebook': FacebookPoster,
    'twitter': TwitterPoster,
}

# Emojis pour chaque plateforme
PLATFORM_EMOJIS = {
    'linkedin': 'ðŸ’¼',
    'instagram': 'ðŸ“¸',
    'facebook': 'ðŸ‘¥',
    'twitter': 'ðŸ¦',
}


def print_banner():
    """Affiche la banniÃ¨re du bot."""
    banner = """
    â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
    â•‘                                                              â•‘
    â•‘   ðŸš€ BUDGET FAMILLE - Social Media Bot                      â•‘
    â•‘                                                              â•‘
    â•‘   Automatisation de publication sur les rÃ©seaux sociaux     â•‘
    â•‘                                                              â•‘
    â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    """
    console.print(banner, style="bold cyan")


def check_credentials():
    """VÃ©rifie que les identifiants sont configurÃ©s."""
    missing = []
    
    credentials_map = {
        'LinkedIn': ['LINKEDIN_EMAIL', 'LINKEDIN_PASS'],
        'Instagram': ['INSTAGRAM_USER', 'INSTAGRAM_PASS'],
        'Facebook': ['FACEBOOK_EMAIL', 'FACEBOOK_PASS'],
        'Twitter': ['TWITTER_USER', 'TWITTER_PASS'],
    }
    
    for platform, creds in credentials_map.items():
        for cred in creds:
            if not os.getenv(cred):
                missing.append(f"{platform}: {cred}")
    
    if missing:
        console.print("\nâš ï¸  [yellow]Identifiants manquants:[/yellow]")
        for m in missing:
            console.print(f"   â€¢ {m}")
        console.print("\nðŸ’¡ Copiez .env.example vers .env et remplissez vos identifiants.\n")
        return False
    
    return True


def display_posts_table(posts: list):
    """Affiche un tableau des posts Ã  publier."""
    table = Table(title="ðŸ“‹ Posts en attente")
    table.add_column("Date", style="cyan")
    table.add_column("Texte (aperÃ§u)", style="white")
    table.add_column("MÃ©dia", style="green")
    table.add_column("Plateformes", style="magenta")
    
    for post in posts:
        text_preview = post['text'][:50] + "..." if len(post['text']) > 50 else post['text']
        media = "ðŸ“·" if post.get('image') else ("ðŸŽ¬" if post.get('video') else "â€”")
        platforms = ", ".join([PLATFORM_EMOJIS.get(p, p) for p in post.get('platforms', PLATFORMS.keys())])
        
        table.add_row(post['date'], text_preview, media, platforms)
    
    console.print(table)


def publish_post(post: dict, platforms: list, headless: bool = True, dry_run: bool = False):
    """
    Publie un post sur les plateformes spÃ©cifiÃ©es.
    
    Args:
        post: Dictionnaire contenant le contenu du post
        platforms: Liste des plateformes cibles
        headless: Si False, affiche le navigateur
        dry_run: Si True, simule sans publier
    """
    results = {}
    delay = int(os.getenv('DELAY_BETWEEN_POSTS', 300))
    
    for i, platform_name in enumerate(platforms):
        if platform_name not in PLATFORMS:
            console.print(f"âŒ Plateforme inconnue: {platform_name}", style="red")
            results[platform_name] = {'success': False, 'error': 'Unknown platform'}
            continue
        
        emoji = PLATFORM_EMOJIS.get(platform_name, 'ðŸ“±')
        
        if dry_run:
            console.print(f"{emoji} [yellow][DRY RUN][/yellow] {platform_name.capitalize()}: Publication simulÃ©e")
            results[platform_name] = {'success': True, 'dry_run': True}
            continue
        
        with Progress(
            SpinnerColumn(),
            TextColumn(f"{emoji} Publication sur {platform_name.capitalize()}..."),
            console=console
        ) as progress:
            task = progress.add_task("posting", total=None)
            
            try:
                poster_class = PLATFORMS[platform_name]
                poster = poster_class(headless=headless)
                
                result = poster.post(
                    text=post['text'],
                    image_path=post.get('image'),
                    video_path=post.get('video')
                )
                
                if result['success']:
                    console.print(f"{emoji} âœ… {platform_name.capitalize()}: PubliÃ© avec succÃ¨s!", style="green")
                else:
                    console.print(f"{emoji} âŒ {platform_name.capitalize()}: {result.get('error', 'Erreur inconnue')}", style="red")
                
                results[platform_name] = result
                
            except Exception as e:
                error_msg = str(e)
                console.print(f"{emoji} âŒ {platform_name.capitalize()}: {error_msg}", style="red")
                results[platform_name] = {'success': False, 'error': error_msg}
        
        # Attendre entre les publications (sauf pour le dernier)
        if i < len(platforms) - 1 and not dry_run:
            console.print(f"\nâ³ Pause de {delay} secondes avant la prochaine publication...\n")
            time.sleep(delay)
    
    return results


def save_results(post_date: str, results: dict):
    """Sauvegarde les rÃ©sultats de publication."""
    logs_dir = Path('logs')
    logs_dir.mkdir(exist_ok=True)
    
    log_file = logs_dir / f"{datetime.now().strftime('%Y-%m-%d')}.json"
    
    log_entry = {
        'timestamp': datetime.now().isoformat(),
        'post_date': post_date,
        'results': results
    }
    
    # Charger les logs existants ou crÃ©er une nouvelle liste
    if log_file.exists():
        with open(log_file, 'r', encoding='utf-8') as f:
            logs = json.load(f)
    else:
        logs = []
    
    logs.append(log_entry)
    
    with open(log_file, 'w', encoding='utf-8') as f:
        json.dump(logs, f, indent=2, ensure_ascii=False)
    
    console.print(f"\nðŸ“ RÃ©sultats sauvegardÃ©s dans {log_file}")


@click.command()
@click.option('--platform', '-p', type=click.Choice(list(PLATFORMS.keys())), 
              help='Publier uniquement sur cette plateforme')
@click.option('--post', '-o', 'post_name', type=str, 
              help='Publier uniquement ce post (nom du dossier)')
@click.option('--visible', '-v', is_flag=True, 
              help='Afficher le navigateur (mode debug)')
@click.option('--dry-run', '-d', is_flag=True, 
              help='Simuler sans publier')
@click.option('--list', '-l', 'list_posts', is_flag=True, 
              help='Lister les posts en attente')
def main(platform, post_name, visible, dry_run, list_posts):
    """
    Budget Famille - Bot de publication sur les rÃ©seaux sociaux.
    
    Publie automatiquement vos posts sur LinkedIn, Instagram, Facebook et X.
    """
    print_banner()
    
    # Setup logger
    logger = setup_logger()
    logger.info("DÃ©marrage du bot")
    
    # VÃ©rifier les identifiants
    if not dry_run and not list_posts:
        if not check_credentials():
            sys.exit(1)
    
    # RÃ©cupÃ©rer les posts
    posts_folder = Path(os.getenv('POSTS_FOLDER', 'posts'))
    
    if post_name:
        # Un seul post spÃ©cifiÃ©
        post_path = posts_folder / post_name
        if not post_path.exists():
            console.print(f"âŒ Post non trouvÃ©: {post_path}", style="red")
            sys.exit(1)
        posts = [load_post(post_path)]
    else:
        # Tous les posts en attente
        posts = get_pending_posts(posts_folder)
    
    if not posts:
        console.print("\nðŸ“­ Aucun post en attente de publication.\n", style="yellow")
        console.print("ðŸ’¡ CrÃ©ez un dossier dans 'posts/' avec un fichier caption.txt")
        sys.exit(0)
    
    # Lister uniquement
    if list_posts:
        display_posts_table(posts)
        sys.exit(0)
    
    # Afficher le rÃ©capitulatif
    display_posts_table(posts)
    
    # Demander confirmation
    if not dry_run:
        if not click.confirm('\nðŸš€ Voulez-vous lancer la publication?', default=True):
            console.print("âŒ Publication annulÃ©e.", style="yellow")
            sys.exit(0)
    
    console.print("\n" + "â•" * 60)
    console.print("ðŸš€ DÃ‰MARRAGE DE LA PUBLICATION", style="bold cyan")
    console.print("â•" * 60 + "\n")
    
    # DÃ©terminer les plateformes cibles
    target_platforms = [platform] if platform else list(PLATFORMS.keys())
    
    # Publier chaque post
    all_results = {}
    
    for i, post in enumerate(posts):
        console.print(Panel(f"ðŸ“ Post {i+1}/{len(posts)}: {post['date']}", style="cyan"))
        
        # Utiliser les plateformes du config.json si disponible
        post_platforms = post.get('platforms', target_platforms)
        if platform:
            post_platforms = [platform]
        
        results = publish_post(
            post=post,
            platforms=post_platforms,
            headless=not visible,
            dry_run=dry_run
        )
        
        all_results[post['date']] = results
        save_results(post['date'], results)
        
        # Pause entre les posts
        if i < len(posts) - 1 and not dry_run:
            console.print(f"\nâ³ Pause de 60 secondes avant le prochain post...\n")
            time.sleep(60)
    
    # RÃ©sumÃ© final
    console.print("\n" + "â•" * 60)
    console.print("ðŸ“Š RÃ‰SUMÃ‰ DE PUBLICATION", style="bold cyan")
    console.print("â•" * 60 + "\n")
    
    success_count = 0
    fail_count = 0
    
    for post_date, results in all_results.items():
        for platform_name, result in results.items():
            if result.get('success'):
                success_count += 1
            else:
                fail_count += 1
    
    summary_table = Table()
    summary_table.add_column("MÃ©trique", style="cyan")
    summary_table.add_column("Valeur", style="white")
    
    summary_table.add_row("âœ… SuccÃ¨s", str(success_count))
    summary_table.add_row("âŒ Ã‰checs", str(fail_count))
    summary_table.add_row("ðŸ“ Posts traitÃ©s", str(len(posts)))
    
    console.print(summary_table)
    
    if fail_count > 0:
        console.print("\nâš ï¸  Certaines publications ont Ã©chouÃ©. Consultez les logs pour plus de dÃ©tails.", style="yellow")
    else:
        console.print("\nðŸŽ‰ Toutes les publications ont rÃ©ussi!", style="green")
    
    logger.info(f"TerminÃ© - SuccÃ¨s: {success_count}, Ã‰checs: {fail_count}")


if __name__ == '__main__':
    main()




=========================================
FILE PATH: C:\Users\libasse.dia\Documents\budget\budgetfamille-social-bot\README.md
=========================================
# ðŸš€ Budget Famille - Social Media Bot

Bot d'automatisation de publication sur les rÃ©seaux sociaux pour Budget Famille.
**CoÃ»t : 0â‚¬** - Utilise l'automatisation de navigateur (Playwright).

## ðŸ“‹ RÃ©seaux supportÃ©s

- âœ… LinkedIn
- âœ… Instagram  
- âœ… Facebook
- âœ… X (Twitter)

## ðŸ› ï¸ Installation

### PrÃ©requis
- Python 3.9+
- Git

### Ã‰tapes

```bash
# 1. Cloner le projet
git clone https://github.com/votre-username/budgetfamille-social-bot.git
cd budgetfamille-social-bot

# 2. CrÃ©er un environnement virtuel
python -m venv venv

# Sur Windows:
venv\Scripts\activate

# Sur Mac/Linux:
source venv/bin/activate

# 3. Installer les dÃ©pendances
pip install -r requirements.txt

# 4. Installer les navigateurs Playwright
playwright install chromium

# 5. Configurer vos identifiants
cp .env.example .env
# Puis Ã©ditez .env avec vos identifiants
```

## âš™ï¸ Configuration

### Fichier .env

Copiez `.env.example` vers `.env` et remplissez vos identifiants :

```env
# LinkedIn
LINKEDIN_EMAIL=votre-email@example.com
LINKEDIN_PASS=votre-mot-de-passe

# Instagram
INSTAGRAM_USER=budgetfamille
INSTAGRAM_PASS=votre-mot-de-passe

# Facebook
FACEBOOK_EMAIL=votre-email@example.com
FACEBOOK_PASS=votre-mot-de-passe

# X (Twitter)
TWITTER_USER=budgetfamille
TWITTER_PASS=votre-mot-de-passe
```

## ðŸ“ CrÃ©er un post

### Structure des dossiers

```
posts/
â”œâ”€â”€ 2025-01-20/
â”‚   â”œâ”€â”€ caption.txt      # Texte du post
â”‚   â”œâ”€â”€ image.jpg        # Image (optionnel)
â”‚   â””â”€â”€ config.json      # Configuration spÃ©cifique (optionnel)
â””â”€â”€ 2025-01-27/
    â”œâ”€â”€ caption.txt
    â””â”€â”€ video.mp4        # VidÃ©o (optionnel)
```

### Fichier caption.txt

```
ðŸŽ‰ Nouvelle fonctionnalitÃ© sur Budget Famille !

DÃ©couvrez notre systÃ¨me de suggestions IA pour Ã©conomiser sur vos factures d'Ã©nergie.

ðŸ‘‰ budgetfamille.com

#BudgetFamille #Ã‰conomies #FinancesPersonnelles #France
```

### Fichier config.json (optionnel)

```json
{
  "platforms": ["linkedin", "instagram", "facebook", "twitter"],
  "schedule": "2025-01-20T10:00:00",
  "hashtags_twitter": "#BudgetFamille #Tech #Finance",
  "hashtags_instagram": "#budgetfamille #Ã©conomies #famille #budget"
}
```

## ðŸš€ Utilisation

### Publier tous les posts en attente

```bash
python main.py
```

### Publier sur une plateforme spÃ©cifique

```bash
python main.py --platform linkedin
python main.py --platform instagram
python main.py --platform facebook
python main.py --platform twitter
```

### Publier un post spÃ©cifique

```bash
python main.py --post 2025-01-20
```

### Mode test (affiche le navigateur)

```bash
python main.py --visible
```

### Mode dry-run (simule sans publier)

```bash
python main.py --dry-run
```

## ðŸ“… Templates de posts

Le dossier `templates/` contient des modÃ¨les prÃªts Ã  l'emploi :

- `nouvelle-fonctionnalite.txt` - Annonce de feature
- `astuce-budget.txt` - Conseil financier
- `temoignage.txt` - Retour utilisateur
- `mise-a-jour.txt` - Changelog
- `promotion.txt` - Offre spÃ©ciale

## ðŸ” SÃ©curitÃ©

âš ï¸ **IMPORTANT** :

1. **Ne jamais commiter `.env`** - Il est dans `.gitignore`
2. **Utilisez des mots de passe forts** - Activez 2FA si possible
3. **ExÃ©cutez localement** - Pas sur un serveur (risque de ban)
4. **Espacez les publications** - Min 5 min entre chaque rÃ©seau
5. **Variez les horaires** - Ne publiez pas Ã  la mÃªme heure chaque semaine

## â° Automatisation recommandÃ©e

### Workflow hebdomadaire

1. **Dimanche soir** : PrÃ©parez vos posts de la semaine dans `posts/`
2. **Lundi matin** : Lancez `python main.py --visible` en prenant votre cafÃ©
3. **VÃ©rifiez** : Ouvrez chaque rÃ©seau pour confirmer les publications

### Avec Task Scheduler (Windows)

```powershell
# CrÃ©er une tÃ¢che planifiÃ©e
schtasks /create /tn "BudgetFamillePost" /tr "python C:\path\to\main.py" /sc weekly /d MON /st 09:00
```

### Avec cron (Mac/Linux)

```bash
# Ã‰diter crontab
crontab -e

# Ajouter (tous les lundis Ã  9h)
0 9 * * 1 cd /path/to/budgetfamille-social-bot && /path/to/venv/bin/python main.py >> logs/cron.log 2>&1
```

## ðŸ› DÃ©pannage

### "Navigateur ne se lance pas"

```bash
playwright install chromium --with-deps
```

### "Connexion Ã©choue"

- VÃ©rifiez vos identifiants dans `.env`
- DÃ©sactivez 2FA temporairement ou utilisez un mot de passe d'application
- Essayez en mode `--visible` pour voir ce qui se passe

### "Compte bloquÃ© temporairement"

- Attendez 24-48h avant de rÃ©essayer
- RÃ©duisez la frÃ©quence de publication
- Connectez-vous manuellement d'abord

## ðŸ“Š Logs

Les logs sont sauvegardÃ©s dans `logs/` :

```
logs/
â”œâ”€â”€ 2025-01-20.log        # Log du jour
â””â”€â”€ errors.log            # Erreurs uniquement
```

## ðŸ¤ Contribution

1. Fork le projet
2. CrÃ©ez une branche (`git checkout -b feature/amelioration`)
3. Committez (`git commit -m 'Ajout de feature'`)
4. Push (`git push origin feature/amelioration`)
5. Ouvrez une Pull Request

## ðŸ“„ Licence

MIT - Libre d'utilisation pour Budget Famille

---

**Note** : Ce bot est conÃ§u pour un usage personnel et raisonnable. L'abus peut entraÃ®ner la suspension de vos comptes sur les rÃ©seaux sociaux.




=========================================
FILE PATH: C:\Users\libasse.dia\Documents\budget\budgetfamille-social-bot\requirements.txt
=========================================
# Budget Famille Social Bot - Dependencies
# Python 3.9+

# Browser automation
playwright==1.40.0

# Environment variables
python-dotenv==1.0.0

# CLI arguments
click==8.1.7

# Rich console output
rich==13.7.0

# Image processing (for resizing)
Pillow==10.2.0

# Date handling
python-dateutil==2.8.2

# YAML config (optional)
PyYAML==6.0.1

# Video metadata (optional)
ffmpeg-python==0.2.0

# Logging
colorlog==6.8.0

# Rate limiting
ratelimit==2.2.1

# Retry logic
tenacity==8.2.3




=========================================
FILE PATH: C:\Users\libasse.dia\Documents\budget\budgetfamille-social-bot\setup.py
=========================================
#!/usr/bin/env python3
"""
Budget Famille - Setup Script
==============================
Script d'installation et de configuration initiale.

Usage:
    python setup.py
"""

import os
import sys
import shutil
from pathlib import Path


def print_banner():
    """Affiche la banniÃ¨re."""
    print("""
    â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
    â•‘                                                              â•‘
    â•‘   ðŸš€ BUDGET FAMILLE - Social Media Bot Setup                â•‘
    â•‘                                                              â•‘
    â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    """)


def check_python_version():
    """VÃ©rifie la version de Python."""
    print("ðŸ“Œ VÃ©rification de Python...")
    
    if sys.version_info < (3, 9):
        print(f"âŒ Python 3.9+ requis, vous avez {sys.version}")
        return False
    
    print(f"âœ… Python {sys.version_info.major}.{sys.version_info.minor} dÃ©tectÃ©")
    return True


def create_directories():
    """CrÃ©e les dossiers nÃ©cessaires."""
    print("\nðŸ“ CrÃ©ation des dossiers...")
    
    directories = [
        'logs',
        'screenshots',
        'browser_data',
        'posts',
        'templates',
    ]
    
    for dir_name in directories:
        path = Path(dir_name)
        path.mkdir(exist_ok=True)
        print(f"   âœ… {dir_name}/")


def setup_env_file():
    """Configure le fichier .env."""
    print("\nâš™ï¸  Configuration de l'environnement...")
    
    env_file = Path('.env')
    env_example = Path('.env.example')
    
    if env_file.exists():
        print("   â„¹ï¸  Le fichier .env existe dÃ©jÃ ")
        response = input("   Voulez-vous le remplacer? (o/N): ").strip().lower()
        if response != 'o':
            return
    
    if env_example.exists():
        shutil.copy(env_example, env_file)
        print("   âœ… Fichier .env crÃ©Ã© depuis .env.example")
        print("   âš ï¸  N'oubliez pas de remplir vos identifiants!")
    else:
        print("   âŒ Fichier .env.example non trouvÃ©")


def install_dependencies():
    """Installe les dÃ©pendances Python."""
    print("\nðŸ“¦ Installation des dÃ©pendances...")
    
    try:
        import subprocess
        
        # Installer les packages
        result = subprocess.run(
            [sys.executable, '-m', 'pip', 'install', '-r', 'requirements.txt'],
            capture_output=True,
            text=True
        )
        
        if result.returncode == 0:
            print("   âœ… DÃ©pendances Python installÃ©es")
        else:
            print(f"   âš ï¸  Erreurs pip: {result.stderr}")
            
    except Exception as e:
        print(f"   âŒ Erreur: {e}")
        return False
    
    return True


def install_playwright():
    """Installe les navigateurs Playwright."""
    print("\nðŸŒ Installation des navigateurs Playwright...")
    
    try:
        import subprocess
        
        result = subprocess.run(
            [sys.executable, '-m', 'playwright', 'install', 'chromium'],
            capture_output=True,
            text=True
        )
        
        if result.returncode == 0:
            print("   âœ… Chromium installÃ©")
        else:
            print(f"   âš ï¸  Essayez manuellement: playwright install chromium")
            
    except Exception as e:
        print(f"   âš ï¸  Installez manuellement: playwright install chromium")


def create_example_post():
    """CrÃ©e un post d'exemple."""
    print("\nðŸ“ CrÃ©ation d'un post d'exemple...")
    
    example_dir = Path('posts/exemple-2025-01-20')
    
    if example_dir.exists():
        print("   â„¹ï¸  Le post d'exemple existe dÃ©jÃ ")
        return
    
    example_dir.mkdir(parents=True, exist_ok=True)
    
    caption = """ðŸš€ Mon premier post automatisÃ© !

Ceci est un exemple de publication crÃ©Ã©e avec Budget Famille Social Bot.

#BudgetFamille #Test #Automatisation
"""
    
    with open(example_dir / 'caption.txt', 'w', encoding='utf-8') as f:
        f.write(caption)
    
    print("   âœ… Post d'exemple crÃ©Ã© dans posts/exemple-2025-01-20/")


def print_next_steps():
    """Affiche les prochaines Ã©tapes."""
    print("""
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    ðŸŽ‰ Installation terminÃ©e !
    
    Prochaines Ã©tapes :
    
    1. Ã‰ditez le fichier .env avec vos identifiants :
       nano .env
    
    2. Ajoutez une image dans votre post :
       cp votre-image.jpg posts/exemple-2025-01-20/image.jpg
    
    3. Testez en mode visible (pour voir ce qui se passe) :
       python main.py --visible --dry-run
    
    4. Lancez une vraie publication :
       python main.py --visible
    
    ðŸ“– Documentation complÃ¨te : README.md
    
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    """)


def main():
    """Fonction principale."""
    print_banner()
    
    # VÃ©rifier Python
    if not check_python_version():
        sys.exit(1)
    
    # CrÃ©er les dossiers
    create_directories()
    
    # Configurer .env
    setup_env_file()
    
    # Installer les dÃ©pendances
    response = input("\nðŸ“¦ Installer les dÃ©pendances Python? (O/n): ").strip().lower()
    if response != 'n':
        if install_dependencies():
            install_playwright()
    
    # CrÃ©er un post d'exemple
    create_example_post()
    
    # Afficher les prochaines Ã©tapes
    print_next_steps()


if __name__ == '__main__':
    main()




=========================================
FILE PATH: C:\Users\libasse.dia\Documents\budget\budgetfamille-social-bot\test_install.py
=========================================
#!/usr/bin/env python3
"""
Budget Famille - Test Script
=============================
Teste que l'installation est correcte.

Usage:
    python test_install.py
"""

import sys
from pathlib import Path


def test_imports():
    """Teste les imports nÃ©cessaires."""
    print("ðŸ“¦ Test des imports...")
    
    errors = []
    
    modules = [
        ('playwright.sync_api', 'playwright'),
        ('dotenv', 'python-dotenv'),
        ('click', 'click'),
        ('rich', 'rich'),
        ('PIL', 'Pillow'),
    ]
    
    for module, package in modules:
        try:
            __import__(module)
            print(f"   âœ… {package}")
        except ImportError:
            print(f"   âŒ {package} - pip install {package}")
            errors.append(package)
    
    return len(errors) == 0


def test_project_structure():
    """Teste la structure du projet."""
    print("\nðŸ“ Test de la structure...")
    
    required_files = [
        'main.py',
        'setup.py',
        'requirements.txt',
        '.env.example',
        '.gitignore',
        'README.md',
        'platforms/__init__.py',
        'platforms/base.py',
        'platforms/linkedin.py',
        'platforms/instagram.py',
        'platforms/facebook.py',
        'platforms/twitter.py',
        'utils/__init__.py',
        'utils/logger.py',
        'utils/helpers.py',
    ]
    
    all_found = True
    
    for file in required_files:
        path = Path(file)
        if path.exists():
            print(f"   âœ… {file}")
        else:
            print(f"   âŒ {file} manquant")
            all_found = False
    
    return all_found


def test_env_config():
    """Teste la configuration .env."""
    print("\nâš™ï¸  Test de la configuration...")
    
    env_file = Path('.env')
    
    if not env_file.exists():
        print("   âš ï¸  Fichier .env non trouvÃ©")
        print("   ðŸ’¡ ExÃ©cutez: cp .env.example .env")
        return False
    
    print("   âœ… Fichier .env trouvÃ©")
    
    # Charger et vÃ©rifier les variables
    try:
        from dotenv import load_dotenv
        import os
        
        load_dotenv()
        
        required_vars = [
            'LINKEDIN_EMAIL',
            'LINKEDIN_PASS',
            'INSTAGRAM_USER',
            'INSTAGRAM_PASS',
            'FACEBOOK_EMAIL',
            'FACEBOOK_PASS',
            'TWITTER_USER',
            'TWITTER_PASS',
        ]
        
        configured = 0
        for var in required_vars:
            value = os.getenv(var, '')
            if value and not value.startswith('votre-'):
                configured += 1
        
        if configured == 0:
            print("   âš ï¸  Aucun identifiant configurÃ© dans .env")
            return False
        elif configured < len(required_vars):
            print(f"   âš ï¸  {configured}/{len(required_vars)} plateformes configurÃ©es")
        else:
            print(f"   âœ… Toutes les plateformes configurÃ©es")
        
    except Exception as e:
        print(f"   âŒ Erreur: {e}")
        return False
    
    return True


def test_playwright():
    """Teste Playwright."""
    print("\nðŸŒ Test de Playwright...")
    
    try:
        from playwright.sync_api import sync_playwright
        
        with sync_playwright() as p:
            # Tester le lancement rapide
            browser = p.chromium.launch(headless=True)
            page = browser.new_page()
            page.goto('https://www.google.com', timeout=10000)
            title = page.title()
            browser.close()
            
            print(f"   âœ… Navigateur fonctionnel (page: {title[:30]}...)")
            return True
            
    except Exception as e:
        error_msg = str(e)
        if 'Executable doesn\'t exist' in error_msg:
            print("   âŒ Navigateur non installÃ©")
            print("   ðŸ’¡ ExÃ©cutez: playwright install chromium")
        else:
            print(f"   âŒ Erreur: {error_msg[:100]}")
        return False


def main():
    """Fonction principale."""
    print("""
    â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
    â•‘   ðŸ§ª TEST D'INSTALLATION - Budget Famille Social Bot        â•‘
    â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    """)
    
    results = {
        'imports': test_imports(),
        'structure': test_project_structure(),
        'config': test_env_config(),
    }
    
    # Test Playwright (optionnel, peut Ãªtre lent)
    response = input("\nðŸŒ Tester Playwright (peut prendre 10s)? (O/n): ").strip().lower()
    if response != 'n':
        results['playwright'] = test_playwright()
    
    # RÃ©sumÃ©
    print("\n" + "â•" * 60)
    print("ðŸ“Š RÃ‰SUMÃ‰")
    print("â•" * 60)
    
    all_passed = True
    for test, passed in results.items():
        status = "âœ…" if passed else "âŒ"
        print(f"   {status} {test}")
        if not passed:
            all_passed = False
    
    if all_passed:
        print("\nðŸŽ‰ Tous les tests sont passÃ©s!")
        print("   Vous pouvez lancer: python main.py --dry-run")
    else:
        print("\nâš ï¸  Certains tests ont Ã©chouÃ©.")
        print("   Corrigez les problÃ¨mes ci-dessus avant de continuer.")
    
    return 0 if all_passed else 1


if __name__ == '__main__':
    sys.exit(main())




=========================================
FILE PATH: C:\Users\libasse.dia\Documents\budget\budgetfamille-social-bot\logs\2026-01-18.json
=========================================
[
  {
    "timestamp": "2026-01-18T14:47:35.935578",
    "post_date": "2025-01-18",
    "results": {
      "linkedin": {
        "success": false,
        "platform": "linkedin",
        "timestamp": "2026-01-18 14:44:10",
        "error": "Ã‰chec de la connexion"
      },
      "instagram": {
        "success": false,
        "platform": "instagram",
        "timestamp": "2026-01-18 14:44:43",
        "error": "Ã‰chec de la connexion"
      },
      "facebook": {
        "success": false,
        "platform": "facebook",
        "timestamp": "2026-01-18 14:45:55",
        "error": "Ã‰chec de la connexion"
      },
      "twitter": {
        "success": false,
        "platform": "twitter",
        "timestamp": "2026-01-18 14:46:47",
        "error": "Ã‰chec de la connexion"
      }
    }
  },
  {
    "timestamp": "2026-01-18T15:07:13.556943",
    "post_date": "2025-01-18",
    "results": {
      "linkedin": {
        "success": false,
        "platform": "linkedin",
        "timestamp": "2026-01-18 15:03:15",
        "error": "Ã‰chec de la connexion"
      },
      "instagram": {
        "success": false,
        "platform": "instagram",
        "timestamp": "2026-01-18 15:04:03",
        "error": "Ã‰chec de la connexion"
      },
      "facebook": {
        "success": false,
        "platform": "facebook",
        "timestamp": "2026-01-18 15:04:49",
        "error": "Ã‰chec de la connexion"
      },
      "twitter": {
        "success": false,
        "platform": "twitter",
        "timestamp": "2026-01-18 15:05:42",
        "error": "Ã‰chec de la connexion"
      }
    }
  },
  {
    "timestamp": "2026-01-18T15:16:15.712370",
    "post_date": "2025-01-18",
    "results": {
      "linkedin": {
        "success": false,
        "platform": "linkedin",
        "timestamp": "2026-01-18 15:11:41",
        "error": "Ã‰chec de la connexion"
      },
      "instagram": {
        "success": true,
        "platform": "instagram",
        "timestamp": "2026-01-18 15:12:25",
        "error": null
      },
      "facebook": {
        "success": false,
        "platform": "facebook",
        "timestamp": "2026-01-18 15:13:51",
        "error": "Ã‰chec de la connexion"
      },
      "twitter": {
        "success": false,
        "platform": "twitter",
        "timestamp": "2026-01-18 15:14:47",
        "error": "Ã‰chec de la connexion"
      }
    }
  }
]



=========================================
FILE PATH: C:\Users\libasse.dia\Documents\budget\budgetfamille-social-bot\logs\2026-01-18.log
=========================================
2026-01-18 12:37:31 - budgetfamille-bot - INFO - DÃ©marrage du bot
2026-01-18 12:37:31 - budgetfamille-bot.utils.helpers - WARNING - Texte de 431 caractÃ¨res sera tronquÃ© pour Twitter
2026-01-18 12:37:31 - budgetfamille-bot.utils.helpers - WARNING - Post exemple-2025-01-20 invalide: ['Instagram nÃ©cessite une image ou une vidÃ©o']
2026-01-18 12:38:01 - budgetfamille-bot - INFO - DÃ©marrage du bot
2026-01-18 12:38:01 - budgetfamille-bot.utils.helpers - WARNING - Texte de 431 caractÃ¨res sera tronquÃ© pour Twitter
2026-01-18 12:38:01 - budgetfamille-bot.utils.helpers - WARNING - Post exemple-2025-01-20 invalide: ['Instagram nÃ©cessite une image ou une vidÃ©o']
2026-01-18 14:39:34 - budgetfamille-bot - INFO - DÃ©marrage du bot
2026-01-18 14:42:10 - budgetfamille-bot - INFO - DÃ©marrage du bot
2026-01-18 14:42:10 - budgetfamille-bot.utils.helpers - WARNING - Texte de 431 caractÃ¨res sera tronquÃ© pour Twitter
2026-01-18 14:42:10 - budgetfamille-bot.utils.helpers - WARNING - Post exemple-2025-01-20 invalide: ['Instagram nÃ©cessite une image ou une vidÃ©o']
2026-01-18 14:42:21 - budgetfamille-bot.platforms.base - INFO - DÃ©marrage de la publication sur linkedin
2026-01-18 14:42:28 - budgetfamille-bot.platforms.base - INFO - Navigateur dÃ©marrÃ© (headless=False)
2026-01-18 14:42:41 - budgetfamille-bot.platforms.base - INFO - Connexion requise...
2026-01-18 14:42:41 - budgetfamille-bot.platforms.linkedin - INFO - Connexion Ã  LinkedIn...
2026-01-18 14:42:53 - budgetfamille-bot.platforms.linkedin - WARNING - âš ï¸ Challenge de sÃ©curitÃ© dÃ©tectÃ©!
2026-01-18 14:42:53 - budgetfamille-bot.platforms.linkedin - WARNING - Veuillez vous connecter manuellement d'abord, puis rÃ©essayez.
2026-01-18 14:42:53 - budgetfamille-bot.platforms.base - ERROR - âŒ Erreur sur linkedin: Ã‰chec de la connexion
2026-01-18 14:44:08 - budgetfamille-bot - INFO - DÃ©marrage du bot
2026-01-18 14:44:08 - budgetfamille-bot.utils.helpers - WARNING - Texte de 431 caractÃ¨res sera tronquÃ© pour Twitter
2026-01-18 14:44:08 - budgetfamille-bot.utils.helpers - WARNING - Post exemple-2025-01-20 invalide: ['Instagram nÃ©cessite une image ou une vidÃ©o']
2026-01-18 14:44:10 - budgetfamille-bot.platforms.base - INFO - DÃ©marrage de la publication sur linkedin
2026-01-18 14:44:14 - budgetfamille-bot.platforms.base - INFO - Navigateur dÃ©marrÃ© (headless=False)
2026-01-18 14:44:24 - budgetfamille-bot.platforms.base - INFO - Connexion requise...
2026-01-18 14:44:24 - budgetfamille-bot.platforms.linkedin - INFO - Connexion Ã  LinkedIn...
2026-01-18 14:44:37 - budgetfamille-bot.platforms.linkedin - WARNING - âš ï¸ Challenge de sÃ©curitÃ© dÃ©tectÃ©!
2026-01-18 14:44:37 - budgetfamille-bot.platforms.linkedin - WARNING - Veuillez vous connecter manuellement d'abord, puis rÃ©essayez.
2026-01-18 14:44:38 - budgetfamille-bot.platforms.base - ERROR - âŒ Erreur sur linkedin: Ã‰chec de la connexion
2026-01-18 14:44:43 - budgetfamille-bot.platforms.base - INFO - DÃ©marrage de la publication sur instagram
2026-01-18 14:44:47 - budgetfamille-bot.platforms.base - INFO - Navigateur dÃ©marrÃ© (headless=False)
2026-01-18 14:44:56 - budgetfamille-bot.platforms.base - INFO - Connexion requise...
2026-01-18 14:44:56 - budgetfamille-bot.platforms.instagram - INFO - Connexion Ã  Instagram...
2026-01-18 14:45:49 - budgetfamille-bot.platforms.instagram - ERROR - Erreur vÃ©rification connexion Instagram: Page.goto: Timeout 30000ms exceeded.
Call log:
  - navigating to "https://www.instagram.com/", waiting until "networkidle"

2026-01-18 14:45:49 - budgetfamille-bot.platforms.instagram - ERROR - Ã‰chec de la connexion Instagram
2026-01-18 14:45:49 - budgetfamille-bot.platforms.base - ERROR - âŒ Erreur sur instagram: Ã‰chec de la connexion
2026-01-18 14:45:55 - budgetfamille-bot.platforms.base - INFO - DÃ©marrage de la publication sur facebook
2026-01-18 14:45:58 - budgetfamille-bot.platforms.base - INFO - Navigateur dÃ©marrÃ© (headless=False)
2026-01-18 14:46:07 - budgetfamille-bot.platforms.base - INFO - Connexion requise...
2026-01-18 14:46:07 - budgetfamille-bot.platforms.facebook - INFO - Connexion Ã  Facebook...
2026-01-18 14:46:41 - budgetfamille-bot.platforms.facebook - ERROR - Erreur connexion Facebook: Locator.click: Timeout 30000ms exceeded.
Call log:
  - waiting for locator("#email")
    - locator resolved to <input value="" id="email" type="text" name="email" tabindex="0" autofocus="1" autocomplete="username webauthn" aria-label="Adresse e-mail ou numÃ©ro de tÃ©l." placeholder="Adresse e-mail ou numÃ©ro de tÃ©l." class="inputtext _55r1 inputtext _1kbt inputtext _1kbt"/>
  - attempting click action
    2 Ã— waiting for element to be visible, enabled and stable
      - element is visible, enabled and stable
      - scrolling into view if needed
      - done scrolling
      - <span dir="auto" id="_r_0_" class="x193iq5w xeuugli x13faqbe x1vvkbs xlh3980 xvmahel x1n0sxbx x1lliihq x1s928wv xhkezso x1gmr53x x1cpjm7i x1fgarty x1943h6x xtoi2st x41vudc xngnso2 x1qb5hxa x1xlr1w8 xzsf02u">Autoriser lâ€™utilisation des cookies de Facebook sâ€¦</span> from <div class="_10 uiLayer _4-hy _3qw" data-testid="cookie-policy-manage-dialog">â€¦</div> subtree intercepts pointer events
    - retrying click action
    - waiting 20ms
    2 Ã— waiting for element to be visible, enabled and stable
      - element is visible, enabled and stable
      - scrolling into view if needed
      - done scrolling
      - <span dir="auto" id="_r_0_" class="x193iq5w xeuugli x13faqbe x1vvkbs xlh3980 xvmahel x1n0sxbx x1lliihq x1s928wv xhkezso x1gmr53x x1cpjm7i x1fgarty x1943h6x xtoi2st x41vudc xngnso2 x1qb5hxa x1xlr1w8 xzsf02u">Autoriser lâ€™utilisation des cookies de Facebook sâ€¦</span> from <div class="_10 uiLayer _4-hy _3qw" data-testid="cookie-policy-manage-dialog">â€¦</div> subtree intercepts pointer events
    - retrying click action
      - waiting 100ms
    5 Ã— waiting for element to be visible, enabled and stable
      - element is visible, enabled and stable
      - scrolling into view if needed
      - done scrolling
      - <span dir="auto" id="_r_0_" class="x193iq5w xeuugli x13faqbe x1vvkbs xlh3980 xvmahel x1n0sxbx x1lliihq x1s928wv xhkezso x1gmr53x x1cpjm7i x1fgarty x1943h6x xtoi2st x41vudc xngnso2 x1qb5hxa x1xlr1w8 xzsf02u">Autoriser lâ€™utilisation des cookies de Facebook sâ€¦</span> from <div class="_10 uiLayer _4-hy _3qw" data-testid="cookie-policy-manage-dialog">â€¦</div> subtree intercepts pointer events
    - retrying click action
      - waiting 500ms
    2 Ã— waiting for element to be visible, enabled and stable
      - element is visible, enabled and stable
      - scrolling into view if needed
      - done scrolling
      - <div class="x9f619 x1n2onr6 x1ja2u2z x78zum5 xdt5ytf x2lah0s x193iq5w xeuugli x1icxu4v x25sj25 x10b6aqq x1yrsyyn">â€¦</div> from <div class="_10 uiLayer _4-hy _3qw" data-testid="cookie-policy-manage-dialog">â€¦</div> subtree intercepts pointer events
    - retrying click action
      - waiting 500ms
    11 Ã— waiting for element to be visible, enabled and stable
       - element is visible, enabled and stable
       - scrolling into view if needed
       - done scrolling
       - <div role="none" class="x1ja2u2z x78zum5 x2lah0s x1n2onr6 xl56j7k x6s0dn4 xozqiw3 x1q0g3np x14ldlfn x1b1wa69 xws8118 x5fzff1 x972fbf x10w94by x1qhh985 x14e42zd x9f619 xpdmqnj x1g0dm76 x1qhmfi1 x1r1pt67">â€¦</div> from <div class="_10 uiLayer _4-hy _3qw" data-testid="cookie-policy-manage-dialog">â€¦</div> subtree intercepts pointer events
     - retrying click action
       - waiting 500ms
    3 Ã— waiting for element to be visible, enabled and stable
      - element is visible, enabled and stable
      - scrolling into view if needed
      - done scrolling
      - <img alt="" width="100%" referrerpolicy="origin-when-cross-origin" class="xz74otr x15mokao x1ga7v0g x16uus16 xbiv7yw" src="/images/cookies/cookie_info_card_image_3.png"/> from <div class="_10 uiLayer _4-hy _3qw" data-testid="cookie-policy-manage-dialog">â€¦</div> subtree intercepts pointer events
    - retrying click action
      - waiting 500ms
    - waiting for element to be visible, enabled and stable
    - element is visible, enabled and stable
    - scrolling into view if needed
    - done scrolling
    - <div class="x9f619 x1n2onr6 x1ja2u2z x78zum5 xdt5ytf x2lah0s x193iq5w xeuugli x1icxu4v x25sj25 x10b6aqq x1yrsyyn">â€¦</div> from <div class="_10 uiLayer _4-hy _3qw" data-testid="cookie-policy-manage-dialog">â€¦</div> subtree intercepts pointer events
  - retrying click action
    - waiting 500ms
    - waiting for element to be visible, enabled and stable
    - element is visible, enabled and stable
    - scrolling into view if needed
    - done scrolling
    - <div class="x9orja2">â€¦</div> from <div class="_10 uiLayer _4-hy _3qw" data-testid="cookie-policy-manage-dialog">â€¦</div> subtree intercepts pointer events
  2 Ã— retrying click action
      - waiting 500ms
      - waiting for element to be visible, enabled and stable
      - element is visible, enabled and stable
      - scrolling into view if needed
      - done scrolling
      - <div class="x9f619 x1n2onr6 x1ja2u2z x78zum5 xdt5ytf x2lah0s x193iq5w xeuugli x1icxu4v x25sj25 x10b6aqq x1yrsyyn">â€¦</div> from <div class="_10 uiLayer _4-hy _3qw" data-testid="cookie-policy-manage-dialog">â€¦</div> subtree intercepts pointer events
  6 Ã— retrying click action
      - waiting 500ms
      - waiting for element to be visible, enabled and stable
      - element is visible, enabled and stable
      - scrolling into view if needed
      - done scrolling
      - <span dir="auto" id="_r_0_" class="x193iq5w xeuugli x13faqbe x1vvkbs xlh3980 xvmahel x1n0sxbx x1lliihq x1s928wv xhkezso x1gmr53x x1cpjm7i x1fgarty x1943h6x xtoi2st x41vudc xngnso2 x1qb5hxa x1xlr1w8 xzsf02u">Autoriser lâ€™utilisation des cookies de Facebook sâ€¦</span> from <div class="_10 uiLayer _4-hy _3qw" data-testid="cookie-policy-manage-dialog">â€¦</div> subtree intercepts pointer events
  18 Ã— retrying click action
       - waiting 500ms
       - waiting for element to be visible, enabled and stable
       - element is visible, enabled and stable
       - scrolling into view if needed
       - done scrolling
       - <div role="none" class="x1ja2u2z x78zum5 x2lah0s x1n2onr6 xl56j7k x6s0dn4 xozqiw3 x1q0g3np x14ldlfn x1b1wa69 xws8118 x5fzff1 x972fbf x10w94by x1qhh985 x14e42zd x9f619 xpdmqnj x1g0dm76 x1qhmfi1 x1r1pt67">â€¦</div> from <div class="_10 uiLayer _4-hy _3qw" data-testid="cookie-policy-manage-dialog">â€¦</div> subtree intercepts pointer events
  - retrying click action
    - waiting 500ms
  - element was detached from the DOM, retrying
    - waiting for" https://www.facebook.com/login" navigation to finish...
    - navigated to "https://www.facebook.com/login"
    - locator resolved to <input value="" id="email" type="text" name="email" tabindex="0" autofocus="1" autocomplete="username webauthn" aria-label="Adresse e-mail ou numÃ©ro de tÃ©l." placeholder="Adresse e-mail ou numÃ©ro de tÃ©l." class="inputtext _55r1 inputtext _1kbt inputtext _1kbt"/>
  - attempting click action
    2 Ã— waiting for element to be visible, enabled and stable
      - element is visible, enabled and stable
      - scrolling into view if needed
      - done scrolling
      - <span dir="auto" id="_r_0_" class="x193iq5w xeuugli x13faqbe x1vvkbs xlh3980 xvmahel x1n0sxbx x1lliihq x1s928wv xhkezso x1gmr53x x1cpjm7i x1fgarty x1943h6x xtoi2st x41vudc xngnso2 x1qb5hxa x1xlr1w8 xzsf02u">Autoriser lâ€™utilisation des cookies de Facebook sâ€¦</span> from <div class="_10 uiLayer _4-hy _3qw" data-testid="cookie-policy-manage-dialog">â€¦</div> subtree intercepts pointer events
    - retrying click action
    - waiting 20ms
    2 Ã— waiting for element to be visible, enabled and stable
      - element is visible, enabled and stable
      - scrolling into view if needed
      - done scrolling
      - <span dir="auto" id="_r_0_" class="x193iq5w xeuugli x13faqbe x1vvkbs xlh3980 xvmahel x1n0sxbx x1lliihq x1s928wv xhkezso x1gmr53x x1cpjm7i x1fgarty x1943h6x xtoi2st x41vudc xngnso2 x1qb5hxa x1xlr1w8 xzsf02u">Autoriser lâ€™utilisation des cookies de Facebook sâ€¦</span> from <div class="_10 uiLayer _4-hy _3qw" data-testid="cookie-policy-manage-dialog">â€¦</div> subtree intercepts pointer events
    - retrying click action
      - waiting 100ms
    4 Ã— waiting for element to be visible, enabled and stable
      - element is visible, enabled and stable
      - scrolling into view if needed
      - done scrolling
      - <span dir="auto" id="_r_0_" class="x193iq5w xeuugli x13faqbe x1vvkbs xlh3980 xvmahel x1n0sxbx x1lliihq x1s928wv xhkezso x1gmr53x x1cpjm7i x1fgarty x1943h6x xtoi2st x41vudc xngnso2 x1qb5hxa x1xlr1w8 xzsf02u">Autoriser lâ€™utilisation des cookies de Facebook sâ€¦</span> from <div class="_10 uiLayer _4-hy _3qw" data-testid="cookie-policy-manage-dialog">â€¦</div> subtree intercepts pointer events
    - retrying click action
      - waiting 500ms

2026-01-18 14:46:41 - budgetfamille-bot.platforms.base - ERROR - âŒ Erreur sur facebook: Ã‰chec de la connexion
2026-01-18 14:46:47 - budgetfamille-bot.platforms.base - INFO - DÃ©marrage de la publication sur twitter
2026-01-18 14:46:50 - budgetfamille-bot.platforms.base - INFO - Navigateur dÃ©marrÃ© (headless=False)
2026-01-18 14:47:02 - budgetfamille-bot.platforms.base - INFO - Connexion requise...
2026-01-18 14:47:02 - budgetfamille-bot.platforms.twitter - INFO - Connexion Ã  X (Twitter)...
2026-01-18 14:47:34 - budgetfamille-bot.platforms.twitter - ERROR - Erreur connexion X: Timeout 30000ms exceeded.
2026-01-18 14:47:35 - budgetfamille-bot.platforms.base - ERROR - âŒ Erreur sur twitter: Ã‰chec de la connexion
2026-01-18 14:47:35 - budgetfamille-bot - INFO - TerminÃ© - SuccÃ¨s: 0, Ã‰checs: 4
2026-01-18 15:03:10 - budgetfamille-bot - INFO - DÃ©marrage du bot
2026-01-18 15:03:10 - budgetfamille-bot.utils.helpers - WARNING - Texte de 431 caractÃ¨res sera tronquÃ© pour Twitter
2026-01-18 15:03:10 - budgetfamille-bot.utils.helpers - WARNING - Post exemple-2025-01-20 invalide: ['Instagram nÃ©cessite une image ou une vidÃ©o']
2026-01-18 15:03:15 - budgetfamille-bot.platforms.base - INFO - DÃ©marrage de la publication sur linkedin
2026-01-18 15:03:23 - budgetfamille-bot.platforms.base - INFO - Navigateur dÃ©marrÃ© (headless=False)
2026-01-18 15:03:38 - budgetfamille-bot.platforms.linkedin - INFO - Popup cookies LinkedIn fermÃ©
2026-01-18 15:03:38 - budgetfamille-bot.platforms.base - INFO - Connexion requise...
2026-01-18 15:03:38 - budgetfamille-bot.platforms.linkedin - INFO - Connexion Ã  LinkedIn...
2026-01-18 15:03:40 - budgetfamille-bot.platforms.linkedin - INFO - Popup cookies LinkedIn fermÃ©
2026-01-18 15:03:56 - budgetfamille-bot.platforms.linkedin - WARNING - âš ï¸ Challenge de sÃ©curitÃ© dÃ©tectÃ©!
2026-01-18 15:03:56 - budgetfamille-bot.platforms.linkedin - WARNING - Connectez-vous manuellement d'abord sur LinkedIn, puis rÃ©essayez.
2026-01-18 15:03:57 - budgetfamille-bot.platforms.base - ERROR - âŒ Erreur sur linkedin: Ã‰chec de la connexion
2026-01-18 15:04:03 - budgetfamille-bot.platforms.base - INFO - DÃ©marrage de la publication sur instagram
2026-01-18 15:04:10 - budgetfamille-bot.platforms.base - INFO - Navigateur dÃ©marrÃ© (headless=False)
2026-01-18 15:04:20 - budgetfamille-bot.platforms.instagram - INFO - Popup cookies Instagram fermÃ©
2026-01-18 15:04:20 - budgetfamille-bot.platforms.base - INFO - Connexion requise...
2026-01-18 15:04:20 - budgetfamille-bot.platforms.instagram - INFO - Connexion Ã  Instagram...
2026-01-18 15:04:41 - budgetfamille-bot.platforms.instagram - ERROR - Erreur connexion Instagram: Page.wait_for_selector: Timeout 15000ms exceeded.
Call log:
  - waiting for locator("input[name=\"username\"]") to be visible

2026-01-18 15:04:42 - budgetfamille-bot.platforms.base - ERROR - âŒ Erreur sur instagram: Ã‰chec de la connexion
2026-01-18 15:04:49 - budgetfamille-bot.platforms.base - INFO - DÃ©marrage de la publication sur facebook
2026-01-18 15:04:54 - budgetfamille-bot.platforms.base - INFO - Navigateur dÃ©marrÃ© (headless=False)
2026-01-18 15:05:03 - budgetfamille-bot.platforms.facebook - INFO - Recherche du popup de cookies...
2026-01-18 15:05:05 - budgetfamille-bot.platforms.facebook - INFO - Popup cookies fermÃ© via JavaScript
2026-01-18 15:05:05 - budgetfamille-bot.platforms.base - INFO - Connexion requise...
2026-01-18 15:05:05 - budgetfamille-bot.platforms.facebook - INFO - Connexion Ã  Facebook...
2026-01-18 15:05:08 - budgetfamille-bot.platforms.facebook - INFO - Recherche du popup de cookies...
2026-01-18 15:05:10 - budgetfamille-bot.platforms.facebook - INFO - Popup cookies fermÃ© via JavaScript
2026-01-18 15:05:24 - budgetfamille-bot.platforms.facebook - INFO - Recherche du popup de cookies...
2026-01-18 15:05:27 - budgetfamille-bot.platforms.facebook - INFO - Popup cookies fermÃ© via JavaScript
2026-01-18 15:05:32 - budgetfamille-bot.platforms.facebook - INFO - Recherche du popup de cookies...
2026-01-18 15:05:35 - budgetfamille-bot.platforms.facebook - INFO - Popup cookies fermÃ© via JavaScript
2026-01-18 15:05:36 - budgetfamille-bot.platforms.facebook - ERROR - Ã‰chec de la connexion Facebook
2026-01-18 15:05:36 - budgetfamille-bot.platforms.base - ERROR - âŒ Erreur sur facebook: Ã‰chec de la connexion
2026-01-18 15:05:42 - budgetfamille-bot.platforms.base - INFO - DÃ©marrage de la publication sur twitter
2026-01-18 15:05:48 - budgetfamille-bot.platforms.base - INFO - Navigateur dÃ©marrÃ© (headless=False)
2026-01-18 15:06:09 - budgetfamille-bot.platforms.base - INFO - Connexion requise...
2026-01-18 15:06:09 - budgetfamille-bot.platforms.twitter - INFO - Connexion Ã  X (Twitter)...
2026-01-18 15:06:16 - budgetfamille-bot.platforms.twitter - INFO - Connexion Ã  X via Google...
2026-01-18 15:06:50 - budgetfamille-bot.platforms.twitter - ERROR - Erreur connexion Google: Timeout 30000ms exceeded while waiting for event "page"
2026-01-18 15:07:11 - budgetfamille-bot.platforms.twitter - ERROR - Erreur connexion X: Locator.wait_for: Timeout 15000ms exceeded.
Call log:
  - waiting for locator("input[type=\"password\"]").first to be visible

2026-01-18 15:07:12 - budgetfamille-bot.platforms.base - ERROR - âŒ Erreur sur twitter: Ã‰chec de la connexion
2026-01-18 15:07:13 - budgetfamille-bot - INFO - TerminÃ© - SuccÃ¨s: 0, Ã‰checs: 4
2026-01-18 15:11:38 - budgetfamille-bot - INFO - DÃ©marrage du bot
2026-01-18 15:11:38 - budgetfamille-bot.utils.helpers - WARNING - Texte de 431 caractÃ¨res sera tronquÃ© pour Twitter
2026-01-18 15:11:38 - budgetfamille-bot.utils.helpers - WARNING - Post exemple-2025-01-20 invalide: ['Instagram nÃ©cessite une image ou une vidÃ©o']
2026-01-18 15:11:41 - budgetfamille-bot.platforms.base - INFO - DÃ©marrage publication sur linkedin
2026-01-18 15:11:45 - budgetfamille-bot.platforms.base - INFO - ðŸ”“ Utilisation du profil Chrome existant (sessions sauvegardÃ©es)
2026-01-18 15:11:47 - budgetfamille-bot.platforms.base - WARNING - âš ï¸ Impossible d'utiliser le profil Chrome: BrowserType.launch_persistent_context: Target page, context or browser has been closed
Browser logs:

<launching> C:\Program Files\Google\Chrome\Application\chrome.exe --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AvoidUnnecessaryBeforeUnloadCheckSync,DestroyProfileOnBrowserClose,DialMediaRouteProvider,GlobalMediaControls,HttpsUpgrades,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate,AutoDeElevate,RenderDocument,OptimizationHints --enable-features=CDPScreenshotNewSurface --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --edge-skip-compat-layer-relaunch --enable-automation --disable-infobars --disable-search-engine-choice-screen --disable-sync --no-sandbox --disable-blink-features=AutomationControlled --no-sandbox --disable-dev-shm-usage --user-data-dir=C:\Users\libasse.dia\AppData\Local\Google\Chrome\User Data --remote-debugging-pipe about:blank
<launched> pid=17180
Call log:
  - <launching> C:\Program Files\Google\Chrome\Application\chrome.exe --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AvoidUnnecessaryBeforeUnloadCheckSync,DestroyProfileOnBrowserClose,DialMediaRouteProvider,GlobalMediaControls,HttpsUpgrades,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate,AutoDeElevate,RenderDocument,OptimizationHints --enable-features=CDPScreenshotNewSurface --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --edge-skip-compat-layer-relaunch --enable-automation --disable-infobars --disable-search-engine-choice-screen --disable-sync --no-sandbox --disable-blink-features=AutomationControlled --no-sandbox --disable-dev-shm-usage --user-data-dir=C:\Users\libasse.dia\AppData\Local\Google\Chrome\User Data --remote-debugging-pipe about:blank
  - <launched> pid=17180
  - [pid=17180] <gracefully close start>
  - [pid=17180] <kill>
  - [pid=17180] <will force kill>
  - [pid=17180] taskkill stderr: Erreurï¿½: le processus "17180" est introuvable.
  - [pid=17180] <process did exit: exitCode=21, signal=null>
  - [pid=17180] starting temporary directories cleanup
  - [pid=17180] finished temporary directories cleanup
  - [pid=17180] <gracefully close end>

2026-01-18 15:11:47 - budgetfamille-bot.platforms.base - INFO - Fallback vers navigateur isolÃ©...
2026-01-18 15:12:01 - budgetfamille-bot.platforms.linkedin - INFO - Popup cookies LinkedIn fermÃ©
2026-01-18 15:12:01 - budgetfamille-bot.platforms.base - INFO - Connexion requise...
2026-01-18 15:12:01 - budgetfamille-bot.platforms.linkedin - INFO - Connexion Ã  LinkedIn...
2026-01-18 15:12:03 - budgetfamille-bot.platforms.linkedin - INFO - Popup cookies LinkedIn fermÃ©
2026-01-18 15:12:17 - budgetfamille-bot.platforms.linkedin - WARNING - âš ï¸ Challenge de sÃ©curitÃ© dÃ©tectÃ©!
2026-01-18 15:12:17 - budgetfamille-bot.platforms.linkedin - WARNING - Connectez-vous manuellement d'abord sur LinkedIn, puis rÃ©essayez.
2026-01-18 15:12:19 - budgetfamille-bot.platforms.base - ERROR - âŒ Erreur sur linkedin: Ã‰chec de la connexion
2026-01-18 15:12:25 - budgetfamille-bot.platforms.base - INFO - DÃ©marrage publication sur instagram
2026-01-18 15:12:28 - budgetfamille-bot.platforms.base - INFO - ðŸ”“ Utilisation du profil Chrome existant (sessions sauvegardÃ©es)
2026-01-18 15:12:30 - budgetfamille-bot.platforms.base - WARNING - âš ï¸ Impossible d'utiliser le profil Chrome: BrowserType.launch_persistent_context: Target page, context or browser has been closed
Browser logs:

<launching> C:\Program Files\Google\Chrome\Application\chrome.exe --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AvoidUnnecessaryBeforeUnloadCheckSync,DestroyProfileOnBrowserClose,DialMediaRouteProvider,GlobalMediaControls,HttpsUpgrades,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate,AutoDeElevate,RenderDocument,OptimizationHints --enable-features=CDPScreenshotNewSurface --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --edge-skip-compat-layer-relaunch --enable-automation --disable-infobars --disable-search-engine-choice-screen --disable-sync --no-sandbox --disable-blink-features=AutomationControlled --no-sandbox --disable-dev-shm-usage --user-data-dir=C:\Users\libasse.dia\AppData\Local\Google\Chrome\User Data --remote-debugging-pipe about:blank
<launched> pid=27004
Call log:
  - <launching> C:\Program Files\Google\Chrome\Application\chrome.exe --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AvoidUnnecessaryBeforeUnloadCheckSync,DestroyProfileOnBrowserClose,DialMediaRouteProvider,GlobalMediaControls,HttpsUpgrades,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate,AutoDeElevate,RenderDocument,OptimizationHints --enable-features=CDPScreenshotNewSurface --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --edge-skip-compat-layer-relaunch --enable-automation --disable-infobars --disable-search-engine-choice-screen --disable-sync --no-sandbox --disable-blink-features=AutomationControlled --no-sandbox --disable-dev-shm-usage --user-data-dir=C:\Users\libasse.dia\AppData\Local\Google\Chrome\User Data --remote-debugging-pipe about:blank
  - <launched> pid=27004
  - [pid=27004] <gracefully close start>
  - [pid=27004] <kill>
  - [pid=27004] <will force kill>
  - [pid=27004] taskkill stderr: Erreurï¿½: le processus "27004" est introuvable.
  - [pid=27004] <process did exit: exitCode=21, signal=null>
  - [pid=27004] starting temporary directories cleanup
  - [pid=27004] finished temporary directories cleanup
  - [pid=27004] <gracefully close end>

2026-01-18 15:12:30 - budgetfamille-bot.platforms.base - INFO - Fallback vers navigateur isolÃ©...
2026-01-18 15:12:42 - budgetfamille-bot.platforms.instagram - INFO - Popup cookies Instagram fermÃ©
2026-01-18 15:12:43 - budgetfamille-bot.platforms.base - INFO - Connexion requise...
2026-01-18 15:12:43 - budgetfamille-bot.platforms.instagram - INFO - Connexion Ã  Instagram...
2026-01-18 15:13:11 - budgetfamille-bot.platforms.instagram - INFO - âœ… Connexion Instagram rÃ©ussie
2026-01-18 15:13:14 - budgetfamille-bot.platforms.instagram - INFO - Publication sur Instagram...
2026-01-18 15:13:45 - budgetfamille-bot.platforms.instagram - INFO - âœ… Publication Instagram terminÃ©e
2026-01-18 15:13:45 - budgetfamille-bot.platforms.base - INFO - âœ… Publication rÃ©ussie sur instagram
2026-01-18 15:13:51 - budgetfamille-bot.platforms.base - INFO - DÃ©marrage publication sur facebook
2026-01-18 15:13:55 - budgetfamille-bot.platforms.base - INFO - ðŸ”“ Utilisation du profil Chrome existant (sessions sauvegardÃ©es)
2026-01-18 15:13:56 - budgetfamille-bot.platforms.base - WARNING - âš ï¸ Impossible d'utiliser le profil Chrome: BrowserType.launch_persistent_context: Target page, context or browser has been closed
Browser logs:

<launching> C:\Program Files\Google\Chrome\Application\chrome.exe --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AvoidUnnecessaryBeforeUnloadCheckSync,DestroyProfileOnBrowserClose,DialMediaRouteProvider,GlobalMediaControls,HttpsUpgrades,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate,AutoDeElevate,RenderDocument,OptimizationHints --enable-features=CDPScreenshotNewSurface --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --edge-skip-compat-layer-relaunch --enable-automation --disable-infobars --disable-search-engine-choice-screen --disable-sync --no-sandbox --disable-blink-features=AutomationControlled --no-sandbox --disable-dev-shm-usage --user-data-dir=C:\Users\libasse.dia\AppData\Local\Google\Chrome\User Data --remote-debugging-pipe about:blank
<launched> pid=14368
Call log:
  - <launching> C:\Program Files\Google\Chrome\Application\chrome.exe --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AvoidUnnecessaryBeforeUnloadCheckSync,DestroyProfileOnBrowserClose,DialMediaRouteProvider,GlobalMediaControls,HttpsUpgrades,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate,AutoDeElevate,RenderDocument,OptimizationHints --enable-features=CDPScreenshotNewSurface --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --edge-skip-compat-layer-relaunch --enable-automation --disable-infobars --disable-search-engine-choice-screen --disable-sync --no-sandbox --disable-blink-features=AutomationControlled --no-sandbox --disable-dev-shm-usage --user-data-dir=C:\Users\libasse.dia\AppData\Local\Google\Chrome\User Data --remote-debugging-pipe about:blank
  - <launched> pid=14368
  - [pid=14368] <gracefully close start>
  - [pid=14368] <kill>
  - [pid=14368] <will force kill>
  - [pid=14368] taskkill stderr: Erreurï¿½: le processus "14368" est introuvable.
  - [pid=14368] <process did exit: exitCode=21, signal=null>
  - [pid=14368] starting temporary directories cleanup
  - [pid=14368] finished temporary directories cleanup
  - [pid=14368] <gracefully close end>

2026-01-18 15:13:56 - budgetfamille-bot.platforms.base - INFO - Fallback vers navigateur isolÃ©...
2026-01-18 15:14:06 - budgetfamille-bot.platforms.facebook - INFO - Recherche du popup de cookies...
2026-01-18 15:14:09 - budgetfamille-bot.platforms.facebook - INFO - Popup cookies fermÃ© via JavaScript
2026-01-18 15:14:09 - budgetfamille-bot.platforms.base - INFO - Connexion requise...
2026-01-18 15:14:09 - budgetfamille-bot.platforms.facebook - INFO - Connexion Ã  Facebook...
2026-01-18 15:14:13 - budgetfamille-bot.platforms.facebook - INFO - Recherche du popup de cookies...
2026-01-18 15:14:15 - budgetfamille-bot.platforms.facebook - INFO - Popup cookies fermÃ© via JavaScript
2026-01-18 15:14:29 - budgetfamille-bot.platforms.facebook - INFO - Recherche du popup de cookies...
2026-01-18 15:14:32 - budgetfamille-bot.platforms.facebook - INFO - Popup cookies fermÃ© via JavaScript
2026-01-18 15:14:38 - budgetfamille-bot.platforms.facebook - INFO - Recherche du popup de cookies...
2026-01-18 15:14:41 - budgetfamille-bot.platforms.facebook - INFO - Popup cookies fermÃ© via JavaScript
2026-01-18 15:14:41 - budgetfamille-bot.platforms.facebook - ERROR - Ã‰chec de la connexion Facebook
2026-01-18 15:14:41 - budgetfamille-bot.platforms.base - ERROR - âŒ Erreur sur facebook: Ã‰chec de la connexion
2026-01-18 15:14:47 - budgetfamille-bot.platforms.base - INFO - DÃ©marrage publication sur twitter
2026-01-18 15:14:51 - budgetfamille-bot.platforms.base - INFO - ðŸ”“ Utilisation du profil Chrome existant (sessions sauvegardÃ©es)
2026-01-18 15:14:53 - budgetfamille-bot.platforms.base - WARNING - âš ï¸ Impossible d'utiliser le profil Chrome: BrowserType.launch_persistent_context: Target page, context or browser has been closed
Browser logs:

<launching> C:\Program Files\Google\Chrome\Application\chrome.exe --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AvoidUnnecessaryBeforeUnloadCheckSync,DestroyProfileOnBrowserClose,DialMediaRouteProvider,GlobalMediaControls,HttpsUpgrades,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate,AutoDeElevate,RenderDocument,OptimizationHints --enable-features=CDPScreenshotNewSurface --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --edge-skip-compat-layer-relaunch --enable-automation --disable-infobars --disable-search-engine-choice-screen --disable-sync --no-sandbox --disable-blink-features=AutomationControlled --no-sandbox --disable-dev-shm-usage --user-data-dir=C:\Users\libasse.dia\AppData\Local\Google\Chrome\User Data --remote-debugging-pipe about:blank
<launched> pid=30192
Call log:
  - <launching> C:\Program Files\Google\Chrome\Application\chrome.exe --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AvoidUnnecessaryBeforeUnloadCheckSync,DestroyProfileOnBrowserClose,DialMediaRouteProvider,GlobalMediaControls,HttpsUpgrades,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate,AutoDeElevate,RenderDocument,OptimizationHints --enable-features=CDPScreenshotNewSurface --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --edge-skip-compat-layer-relaunch --enable-automation --disable-infobars --disable-search-engine-choice-screen --disable-sync --no-sandbox --disable-blink-features=AutomationControlled --no-sandbox --disable-dev-shm-usage --user-data-dir=C:\Users\libasse.dia\AppData\Local\Google\Chrome\User Data --remote-debugging-pipe about:blank
  - <launched> pid=30192
  - [pid=30192] <gracefully close start>
  - [pid=30192] <kill>
  - [pid=30192] <will force kill>
  - [pid=30192] taskkill stderr: Erreurï¿½: le processus "30192" est introuvable.
  - [pid=30192] <process did exit: exitCode=21, signal=null>
  - [pid=30192] starting temporary directories cleanup
  - [pid=30192] finished temporary directories cleanup
  - [pid=30192] <gracefully close end>

2026-01-18 15:14:53 - budgetfamille-bot.platforms.base - INFO - Fallback vers navigateur isolÃ©...
2026-01-18 15:15:11 - budgetfamille-bot.platforms.base - INFO - Connexion requise...
2026-01-18 15:15:11 - budgetfamille-bot.platforms.twitter - INFO - Connexion Ã  X (Twitter)...
2026-01-18 15:15:19 - budgetfamille-bot.platforms.twitter - INFO - Connexion Ã  X via Google...
2026-01-18 15:15:54 - budgetfamille-bot.platforms.twitter - ERROR - Erreur connexion Google: Timeout 30000ms exceeded while waiting for event "page"
2026-01-18 15:16:13 - budgetfamille-bot.platforms.twitter - ERROR - Erreur connexion X: Locator.wait_for: Timeout 15000ms exceeded.
Call log:
  - waiting for locator("input[type=\"password\"]").first to be visible

2026-01-18 15:16:14 - budgetfamille-bot.platforms.base - ERROR - âŒ Erreur sur twitter: Ã‰chec de la connexion
2026-01-18 15:16:15 - budgetfamille-bot - INFO - TerminÃ© - SuccÃ¨s: 1, Ã‰checs: 3




=========================================
FILE PATH: C:\Users\libasse.dia\Documents\budget\budgetfamille-social-bot\logs\errors.log
=========================================
2026-01-18 14:42:53 - budgetfamille-bot.platforms.base - ERROR - âŒ Erreur sur linkedin: Ã‰chec de la connexion
2026-01-18 14:44:38 - budgetfamille-bot.platforms.base - ERROR - âŒ Erreur sur linkedin: Ã‰chec de la connexion
2026-01-18 14:45:49 - budgetfamille-bot.platforms.instagram - ERROR - Erreur vÃ©rification connexion Instagram: Page.goto: Timeout 30000ms exceeded.
Call log:
  - navigating to "https://www.instagram.com/", waiting until "networkidle"

2026-01-18 14:45:49 - budgetfamille-bot.platforms.instagram - ERROR - Ã‰chec de la connexion Instagram
2026-01-18 14:45:49 - budgetfamille-bot.platforms.base - ERROR - âŒ Erreur sur instagram: Ã‰chec de la connexion
2026-01-18 14:46:41 - budgetfamille-bot.platforms.facebook - ERROR - Erreur connexion Facebook: Locator.click: Timeout 30000ms exceeded.
Call log:
  - waiting for locator("#email")
    - locator resolved to <input value="" id="email" type="text" name="email" tabindex="0" autofocus="1" autocomplete="username webauthn" aria-label="Adresse e-mail ou numÃ©ro de tÃ©l." placeholder="Adresse e-mail ou numÃ©ro de tÃ©l." class="inputtext _55r1 inputtext _1kbt inputtext _1kbt"/>
  - attempting click action
    2 Ã— waiting for element to be visible, enabled and stable
      - element is visible, enabled and stable
      - scrolling into view if needed
      - done scrolling
      - <span dir="auto" id="_r_0_" class="x193iq5w xeuugli x13faqbe x1vvkbs xlh3980 xvmahel x1n0sxbx x1lliihq x1s928wv xhkezso x1gmr53x x1cpjm7i x1fgarty x1943h6x xtoi2st x41vudc xngnso2 x1qb5hxa x1xlr1w8 xzsf02u">Autoriser lâ€™utilisation des cookies de Facebook sâ€¦</span> from <div class="_10 uiLayer _4-hy _3qw" data-testid="cookie-policy-manage-dialog">â€¦</div> subtree intercepts pointer events
    - retrying click action
    - waiting 20ms
    2 Ã— waiting for element to be visible, enabled and stable
      - element is visible, enabled and stable
      - scrolling into view if needed
      - done scrolling
      - <span dir="auto" id="_r_0_" class="x193iq5w xeuugli x13faqbe x1vvkbs xlh3980 xvmahel x1n0sxbx x1lliihq x1s928wv xhkezso x1gmr53x x1cpjm7i x1fgarty x1943h6x xtoi2st x41vudc xngnso2 x1qb5hxa x1xlr1w8 xzsf02u">Autoriser lâ€™utilisation des cookies de Facebook sâ€¦</span> from <div class="_10 uiLayer _4-hy _3qw" data-testid="cookie-policy-manage-dialog">â€¦</div> subtree intercepts pointer events
    - retrying click action
      - waiting 100ms
    5 Ã— waiting for element to be visible, enabled and stable
      - element is visible, enabled and stable
      - scrolling into view if needed
      - done scrolling
      - <span dir="auto" id="_r_0_" class="x193iq5w xeuugli x13faqbe x1vvkbs xlh3980 xvmahel x1n0sxbx x1lliihq x1s928wv xhkezso x1gmr53x x1cpjm7i x1fgarty x1943h6x xtoi2st x41vudc xngnso2 x1qb5hxa x1xlr1w8 xzsf02u">Autoriser lâ€™utilisation des cookies de Facebook sâ€¦</span> from <div class="_10 uiLayer _4-hy _3qw" data-testid="cookie-policy-manage-dialog">â€¦</div> subtree intercepts pointer events
    - retrying click action
      - waiting 500ms
    2 Ã— waiting for element to be visible, enabled and stable
      - element is visible, enabled and stable
      - scrolling into view if needed
      - done scrolling
      - <div class="x9f619 x1n2onr6 x1ja2u2z x78zum5 xdt5ytf x2lah0s x193iq5w xeuugli x1icxu4v x25sj25 x10b6aqq x1yrsyyn">â€¦</div> from <div class="_10 uiLayer _4-hy _3qw" data-testid="cookie-policy-manage-dialog">â€¦</div> subtree intercepts pointer events
    - retrying click action
      - waiting 500ms
    11 Ã— waiting for element to be visible, enabled and stable
       - element is visible, enabled and stable
       - scrolling into view if needed
       - done scrolling
       - <div role="none" class="x1ja2u2z x78zum5 x2lah0s x1n2onr6 xl56j7k x6s0dn4 xozqiw3 x1q0g3np x14ldlfn x1b1wa69 xws8118 x5fzff1 x972fbf x10w94by x1qhh985 x14e42zd x9f619 xpdmqnj x1g0dm76 x1qhmfi1 x1r1pt67">â€¦</div> from <div class="_10 uiLayer _4-hy _3qw" data-testid="cookie-policy-manage-dialog">â€¦</div> subtree intercepts pointer events
     - retrying click action
       - waiting 500ms
    3 Ã— waiting for element to be visible, enabled and stable
      - element is visible, enabled and stable
      - scrolling into view if needed
      - done scrolling
      - <img alt="" width="100%" referrerpolicy="origin-when-cross-origin" class="xz74otr x15mokao x1ga7v0g x16uus16 xbiv7yw" src="/images/cookies/cookie_info_card_image_3.png"/> from <div class="_10 uiLayer _4-hy _3qw" data-testid="cookie-policy-manage-dialog">â€¦</div> subtree intercepts pointer events
    - retrying click action
      - waiting 500ms
    - waiting for element to be visible, enabled and stable
    - element is visible, enabled and stable
    - scrolling into view if needed
    - done scrolling
    - <div class="x9f619 x1n2onr6 x1ja2u2z x78zum5 xdt5ytf x2lah0s x193iq5w xeuugli x1icxu4v x25sj25 x10b6aqq x1yrsyyn">â€¦</div> from <div class="_10 uiLayer _4-hy _3qw" data-testid="cookie-policy-manage-dialog">â€¦</div> subtree intercepts pointer events
  - retrying click action
    - waiting 500ms
    - waiting for element to be visible, enabled and stable
    - element is visible, enabled and stable
    - scrolling into view if needed
    - done scrolling
    - <div class="x9orja2">â€¦</div> from <div class="_10 uiLayer _4-hy _3qw" data-testid="cookie-policy-manage-dialog">â€¦</div> subtree intercepts pointer events
  2 Ã— retrying click action
      - waiting 500ms
      - waiting for element to be visible, enabled and stable
      - element is visible, enabled and stable
      - scrolling into view if needed
      - done scrolling
      - <div class="x9f619 x1n2onr6 x1ja2u2z x78zum5 xdt5ytf x2lah0s x193iq5w xeuugli x1icxu4v x25sj25 x10b6aqq x1yrsyyn">â€¦</div> from <div class="_10 uiLayer _4-hy _3qw" data-testid="cookie-policy-manage-dialog">â€¦</div> subtree intercepts pointer events
  6 Ã— retrying click action
      - waiting 500ms
      - waiting for element to be visible, enabled and stable
      - element is visible, enabled and stable
      - scrolling into view if needed
      - done scrolling
      - <span dir="auto" id="_r_0_" class="x193iq5w xeuugli x13faqbe x1vvkbs xlh3980 xvmahel x1n0sxbx x1lliihq x1s928wv xhkezso x1gmr53x x1cpjm7i x1fgarty x1943h6x xtoi2st x41vudc xngnso2 x1qb5hxa x1xlr1w8 xzsf02u">Autoriser lâ€™utilisation des cookies de Facebook sâ€¦</span> from <div class="_10 uiLayer _4-hy _3qw" data-testid="cookie-policy-manage-dialog">â€¦</div> subtree intercepts pointer events
  18 Ã— retrying click action
       - waiting 500ms
       - waiting for element to be visible, enabled and stable
       - element is visible, enabled and stable
       - scrolling into view if needed
       - done scrolling
       - <div role="none" class="x1ja2u2z x78zum5 x2lah0s x1n2onr6 xl56j7k x6s0dn4 xozqiw3 x1q0g3np x14ldlfn x1b1wa69 xws8118 x5fzff1 x972fbf x10w94by x1qhh985 x14e42zd x9f619 xpdmqnj x1g0dm76 x1qhmfi1 x1r1pt67">â€¦</div> from <div class="_10 uiLayer _4-hy _3qw" data-testid="cookie-policy-manage-dialog">â€¦</div> subtree intercepts pointer events
  - retrying click action
    - waiting 500ms
  - element was detached from the DOM, retrying
    - waiting for" https://www.facebook.com/login" navigation to finish...
    - navigated to "https://www.facebook.com/login"
    - locator resolved to <input value="" id="email" type="text" name="email" tabindex="0" autofocus="1" autocomplete="username webauthn" aria-label="Adresse e-mail ou numÃ©ro de tÃ©l." placeholder="Adresse e-mail ou numÃ©ro de tÃ©l." class="inputtext _55r1 inputtext _1kbt inputtext _1kbt"/>
  - attempting click action
    2 Ã— waiting for element to be visible, enabled and stable
      - element is visible, enabled and stable
      - scrolling into view if needed
      - done scrolling
      - <span dir="auto" id="_r_0_" class="x193iq5w xeuugli x13faqbe x1vvkbs xlh3980 xvmahel x1n0sxbx x1lliihq x1s928wv xhkezso x1gmr53x x1cpjm7i x1fgarty x1943h6x xtoi2st x41vudc xngnso2 x1qb5hxa x1xlr1w8 xzsf02u">Autoriser lâ€™utilisation des cookies de Facebook sâ€¦</span> from <div class="_10 uiLayer _4-hy _3qw" data-testid="cookie-policy-manage-dialog">â€¦</div> subtree intercepts pointer events
    - retrying click action
    - waiting 20ms
    2 Ã— waiting for element to be visible, enabled and stable
      - element is visible, enabled and stable
      - scrolling into view if needed
      - done scrolling
      - <span dir="auto" id="_r_0_" class="x193iq5w xeuugli x13faqbe x1vvkbs xlh3980 xvmahel x1n0sxbx x1lliihq x1s928wv xhkezso x1gmr53x x1cpjm7i x1fgarty x1943h6x xtoi2st x41vudc xngnso2 x1qb5hxa x1xlr1w8 xzsf02u">Autoriser lâ€™utilisation des cookies de Facebook sâ€¦</span> from <div class="_10 uiLayer _4-hy _3qw" data-testid="cookie-policy-manage-dialog">â€¦</div> subtree intercepts pointer events
    - retrying click action
      - waiting 100ms
    4 Ã— waiting for element to be visible, enabled and stable
      - element is visible, enabled and stable
      - scrolling into view if needed
      - done scrolling
      - <span dir="auto" id="_r_0_" class="x193iq5w xeuugli x13faqbe x1vvkbs xlh3980 xvmahel x1n0sxbx x1lliihq x1s928wv xhkezso x1gmr53x x1cpjm7i x1fgarty x1943h6x xtoi2st x41vudc xngnso2 x1qb5hxa x1xlr1w8 xzsf02u">Autoriser lâ€™utilisation des cookies de Facebook sâ€¦</span> from <div class="_10 uiLayer _4-hy _3qw" data-testid="cookie-policy-manage-dialog">â€¦</div> subtree intercepts pointer events
    - retrying click action
      - waiting 500ms

2026-01-18 14:46:41 - budgetfamille-bot.platforms.base - ERROR - âŒ Erreur sur facebook: Ã‰chec de la connexion
2026-01-18 14:47:34 - budgetfamille-bot.platforms.twitter - ERROR - Erreur connexion X: Timeout 30000ms exceeded.
2026-01-18 14:47:35 - budgetfamille-bot.platforms.base - ERROR - âŒ Erreur sur twitter: Ã‰chec de la connexion
2026-01-18 15:03:57 - budgetfamille-bot.platforms.base - ERROR - âŒ Erreur sur linkedin: Ã‰chec de la connexion
2026-01-18 15:04:41 - budgetfamille-bot.platforms.instagram - ERROR - Erreur connexion Instagram: Page.wait_for_selector: Timeout 15000ms exceeded.
Call log:
  - waiting for locator("input[name=\"username\"]") to be visible

2026-01-18 15:04:42 - budgetfamille-bot.platforms.base - ERROR - âŒ Erreur sur instagram: Ã‰chec de la connexion
2026-01-18 15:05:36 - budgetfamille-bot.platforms.facebook - ERROR - Ã‰chec de la connexion Facebook
2026-01-18 15:05:36 - budgetfamille-bot.platforms.base - ERROR - âŒ Erreur sur facebook: Ã‰chec de la connexion
2026-01-18 15:06:50 - budgetfamille-bot.platforms.twitter - ERROR - Erreur connexion Google: Timeout 30000ms exceeded while waiting for event "page"
2026-01-18 15:07:11 - budgetfamille-bot.platforms.twitter - ERROR - Erreur connexion X: Locator.wait_for: Timeout 15000ms exceeded.
Call log:
  - waiting for locator("input[type=\"password\"]").first to be visible

2026-01-18 15:07:12 - budgetfamille-bot.platforms.base - ERROR - âŒ Erreur sur twitter: Ã‰chec de la connexion
2026-01-18 15:12:19 - budgetfamille-bot.platforms.base - ERROR - âŒ Erreur sur linkedin: Ã‰chec de la connexion
2026-01-18 15:14:41 - budgetfamille-bot.platforms.facebook - ERROR - Ã‰chec de la connexion Facebook
2026-01-18 15:14:41 - budgetfamille-bot.platforms.base - ERROR - âŒ Erreur sur facebook: Ã‰chec de la connexion
2026-01-18 15:15:54 - budgetfamille-bot.platforms.twitter - ERROR - Erreur connexion Google: Timeout 30000ms exceeded while waiting for event "page"
2026-01-18 15:16:13 - budgetfamille-bot.platforms.twitter - ERROR - Erreur connexion X: Locator.wait_for: Timeout 15000ms exceeded.
Call log:
  - waiting for locator("input[type=\"password\"]").first to be visible

2026-01-18 15:16:14 - budgetfamille-bot.platforms.base - ERROR - âŒ Erreur sur twitter: Ã‰chec de la connexion




=========================================
FILE PATH: C:\Users\libasse.dia\Documents\budget\budgetfamille-social-bot\platforms\base.py
=========================================
"""
Budget Famille - Base Poster (Fixed v3)
========================================
Utilise le profil Chrome existant de l'utilisateur pour Ã©viter les blocages de sÃ©curitÃ©.
"""

import os
import time
import random
from abc import ABC, abstractmethod
from pathlib import Path
from playwright.sync_api import sync_playwright, Page, Browser
from utils.logger import get_logger

logger = get_logger(__name__)


def get_chrome_path():
    """Trouve le chemin de Chrome selon l'OS."""
    import platform
    system = platform.system()
    
    if system == "Windows":
        paths = [
            os.path.expandvars(r"%ProgramFiles%\Google\Chrome\Application\chrome.exe"),
            os.path.expandvars(r"%ProgramFiles(x86)%\Google\Chrome\Application\chrome.exe"),
            os.path.expandvars(r"%LocalAppData%\Google\Chrome\Application\chrome.exe"),
        ]
    elif system == "Darwin":  # macOS
        paths = [
            "/Applications/Google Chrome.app/Contents/MacOS/Google Chrome",
        ]
    else:  # Linux
        paths = [
            "/usr/bin/google-chrome",
            "/usr/bin/google-chrome-stable",
            "/usr/bin/chromium-browser",
        ]
    
    for path in paths:
        if os.path.exists(path):
            return path
    
    return None


def get_chrome_user_data_dir():
    """Trouve le dossier User Data de Chrome."""
    import platform
    system = platform.system()
    
    if system == "Windows":
        return os.path.expandvars(r"%LocalAppData%\Google\Chrome\User Data")
    elif system == "Darwin":  # macOS
        return os.path.expanduser("~/Library/Application Support/Google/Chrome")
    else:  # Linux
        return os.path.expanduser("~/.config/google-chrome")


class BasePoster(ABC):
    """
    Classe de base pour les posters de rÃ©seaux sociaux.
    Utilise le profil Chrome existant pour rÃ©utiliser les sessions.
    """
    
    PLATFORM_NAME = "base"
    LOGIN_URL = ""
    
    def __init__(self, headless: bool = True):
        self.headless = headless
        self.browser = None
        self.page = None
        self.playwright = None
        self.context = None
        
        # Dossier pour les screenshots
        self.screenshots_dir = Path('screenshots')
        self.screenshots_dir.mkdir(exist_ok=True)
        
        # Utiliser le profil Chrome existant ?
        self.use_existing_chrome = os.getenv('USE_EXISTING_CHROME', 'true').lower() == 'true'
    
    def _random_delay(self, min_sec: float = 1.0, max_sec: float = 3.0):
        """DÃ©lai alÃ©atoire pour simuler un comportement humain."""
        delay = random.uniform(min_sec, max_sec)
        time.sleep(delay)
    
    def _take_screenshot(self, name: str):
        """Capture d'Ã©cran pour debug."""
        if self.page:
            timestamp = time.strftime("%Y%m%d-%H%M%S")
            filename = self.screenshots_dir / f"{self.PLATFORM_NAME}_{name}_{timestamp}.png"
            try:
                self.page.screenshot(path=str(filename))
                logger.debug(f"Screenshot: {filename}")
            except:
                pass
    
    def _start_browser(self):
        """DÃ©marre le navigateur en utilisant le profil Chrome existant."""
        self.playwright = sync_playwright().start()
        
        chrome_path = get_chrome_path()
        user_data_dir = get_chrome_user_data_dir()
        
        if self.use_existing_chrome and chrome_path and os.path.exists(user_data_dir):
            logger.info("ðŸ”“ Utilisation du profil Chrome existant (sessions sauvegardÃ©es)")
            
            # IMPORTANT: Ferme Chrome avant de lancer le bot !
            # Playwright ne peut pas utiliser un profil dÃ©jÃ  ouvert
            
            try:
                # Lancer Chrome avec le profil utilisateur existant
                self.context = self.playwright.chromium.launch_persistent_context(
                    user_data_dir=user_data_dir,
                    channel="chrome",  # Utilise Chrome installÃ©, pas Chromium
                    headless=self.headless,
                    args=[
                        '--disable-blink-features=AutomationControlled',
                        '--no-sandbox',
                        '--disable-dev-shm-usage',
                    ],
                    viewport={'width': 1920, 'height': 1080},
                    locale='fr-FR',
                    timezone_id='Europe/Paris',
                )
                
                # Utiliser la premiÃ¨re page ou en crÃ©er une
                if self.context.pages:
                    self.page = self.context.pages[0]
                else:
                    self.page = self.context.new_page()
                
                logger.info("âœ… Chrome lancÃ© avec ton profil existant")
                
            except Exception as e:
                logger.warning(f"âš ï¸ Impossible d'utiliser le profil Chrome: {e}")
                logger.info("Fallback vers navigateur isolÃ©...")
                self._start_isolated_browser()
        else:
            logger.info("Utilisation d'un navigateur isolÃ©")
            self._start_isolated_browser()
        
        self.page.set_default_timeout(60000)  # 60 secondes timeout
    
    def _start_isolated_browser(self):
        """DÃ©marre un navigateur isolÃ© (sans profil existant)."""
        self.browser = self.playwright.chromium.launch(
            headless=self.headless,
            args=[
                '--disable-blink-features=AutomationControlled',
                '--no-sandbox',
            ]
        )
        
        self.context = self.browser.new_context(
            viewport={'width': 1920, 'height': 1080},
            user_agent='Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36',
            locale='fr-FR',
            timezone_id='Europe/Paris',
        )
        
        # Masquer l'automatisation
        self.context.add_init_script("""
            Object.defineProperty(navigator, 'webdriver', { get: () => undefined });
        """)
        
        self.page = self.context.new_page()
    
    def _close_browser(self):
        """Ferme proprement le navigateur."""
        try:
            if self.context:
                self.context.close()
            if self.browser:
                self.browser.close()
            if self.playwright:
                self.playwright.stop()
        except Exception as e:
            logger.error(f"Erreur fermeture: {e}")
    
    def _check_logged_in(self) -> bool:
        """VÃ©rifie si connectÃ©. Ã€ implÃ©menter."""
        return False
    
    @abstractmethod
    def _login(self) -> bool:
        """Se connecte. Ã€ implÃ©menter."""
        pass
    
    @abstractmethod
    def _publish(self, text: str, image_path: str = None, video_path: str = None) -> bool:
        """Publie. Ã€ implÃ©menter."""
        pass
    
    def post(self, text: str, image_path: str = None, video_path: str = None) -> dict:
        """MÃ©thode principale pour publier."""
        result = {
            'success': False,
            'platform': self.PLATFORM_NAME,
            'timestamp': time.strftime('%Y-%m-%d %H:%M:%S'),
            'error': None
        }
        
        try:
            logger.info(f"DÃ©marrage publication sur {self.PLATFORM_NAME}")
            
            self._start_browser()
            
            # Aller sur la page
            self.page.goto(self.LOGIN_URL, wait_until='domcontentloaded', timeout=60000)
            self._random_delay(2, 4)
            
            # VÃ©rifier si dÃ©jÃ  connectÃ© (grÃ¢ce au profil Chrome)
            if not self._check_logged_in():
                logger.info("Connexion requise...")
                if not self._login():
                    raise Exception("Ã‰chec de la connexion")
            else:
                logger.info("âœ… DÃ©jÃ  connectÃ© (session Chrome existante)")
            
            # Publier
            self._random_delay(2, 4)
            
            if not self._publish(text, image_path, video_path):
                raise Exception("Ã‰chec de la publication")
            
            result['success'] = True
            logger.info(f"âœ… Publication rÃ©ussie sur {self.PLATFORM_NAME}")
            
        except Exception as e:
            result['error'] = str(e)
            logger.error(f"âŒ Erreur sur {self.PLATFORM_NAME}: {e}")
            self._take_screenshot("error")
            
        finally:
            self._close_browser()
        
        return result


class PostContent:
    """Utilitaire pour formater le contenu."""
    
    @staticmethod
    def truncate_for_twitter(text: str, max_length: int = 280) -> str:
        if len(text) <= max_length:
            return text
        return text[:max_length-3] + "..."




=========================================
FILE PATH: C:\Users\libasse.dia\Documents\budget\budgetfamille-social-bot\platforms\facebook.py
=========================================
"""
Budget Famille - Facebook Poster (Fixed)
=========================================
Module pour publier automatiquement sur Facebook.
Gestion amÃ©liorÃ©e des popups de cookies.
"""

import os
import time
from pathlib import Path
from .base import BasePoster
from utils.logger import get_logger

logger = get_logger(__name__)


class FacebookPoster(BasePoster):
    """Poster pour Facebook."""
    
    PLATFORM_NAME = "facebook"
    LOGIN_URL = "https://www.facebook.com/login"
    HOME_URL = "https://www.facebook.com/"
    
    def __init__(self, headless: bool = True):
        super().__init__(headless)
        self.email = os.getenv('FACEBOOK_EMAIL')
        self.password = os.getenv('FACEBOOK_PASS')
        self.page_name = os.getenv('FACEBOOK_PAGE_NAME')
    
    def _handle_cookie_popup(self):
        """GÃ¨re le popup de cookies Facebook - DOIT Ãªtre appelÃ© en premier."""
        logger.info("Recherche du popup de cookies...")
        
        cookie_selectors = [
            # Boutons "Tout accepter" / "Allow all"
            'button[data-cookiebanner="accept_button"]',
            'button[data-testid="cookie-policy-manage-dialog-accept-button"]',
            'button[title="Tout accepter"]',
            'button[title="Allow all cookies"]',
            'button:has-text("Autoriser tous les cookies")',
            'button:has-text("Tout accepter")',
            'button:has-text("Allow all cookies")',
            'button:has-text("Accept all")',
            # Boutons dans le dialogue
            'div[data-testid="cookie-policy-manage-dialog"] button:first-of-type',
            # SÃ©lecteurs gÃ©nÃ©riques
            '[aria-label="Tout accepter"]',
            '[aria-label="Allow all cookies"]',
        ]
        
        for selector in cookie_selectors:
            try:
                btn = self.page.locator(selector).first
                if btn.is_visible(timeout=2000):
                    logger.info(f"Popup cookies trouvÃ©, clic sur: {selector}")
                    btn.click(force=True)  # Force click pour bypasser les overlays
                    self._random_delay(2, 3)
                    return True
            except Exception as e:
                continue
        
        # Essayer avec JavaScript si les sÃ©lecteurs ne marchent pas
        try:
            self.page.evaluate("""
                () => {
                    // Chercher tous les boutons contenant "accepter" ou "allow"
                    const buttons = document.querySelectorAll('button');
                    for (const btn of buttons) {
                        const text = btn.textContent.toLowerCase();
                        if (text.includes('accepter') || text.includes('allow') || 
                            text.includes('autoriser') || text.includes('accept')) {
                            btn.click();
                            return true;
                        }
                    }
                    return false;
                }
            """)
            self._random_delay(2, 3)
            logger.info("Popup cookies fermÃ© via JavaScript")
            return True
        except:
            pass
        
        logger.info("Pas de popup de cookies dÃ©tectÃ©")
        return False
    
    def _dismiss_popups(self):
        """Ferme les popups Facebook courants."""
        # D'abord gÃ©rer les cookies
        self._handle_cookie_popup()
        
        popups = [
            '[aria-label="Close"]',
            '[aria-label="Fermer"]',
            'div[aria-label="Close"]',
            'button:has-text("Not Now")',
            'button:has-text("Pas maintenant")',
        ]
        
        for popup_selector in popups:
            try:
                popup = self.page.locator(popup_selector).first
                if popup.is_visible(timeout=1000):
                    popup.click(force=True)
                    self._random_delay(0.5, 1)
            except:
                continue
    
    def _check_logged_in(self) -> bool:
        """VÃ©rifie si on est connectÃ© Ã  Facebook."""
        try:
            self.page.goto(self.HOME_URL, wait_until='domcontentloaded', timeout=60000)
            self._random_delay(2, 3)
            
            # GÃ©rer les cookies d'abord
            self._handle_cookie_popup()
            
            # VÃ©rifier si on est sur la page de login
            current_url = self.page.url.lower()
            if 'login' in current_url or 'checkpoint' in current_url:
                return False
            
            # Chercher des Ã©lÃ©ments qui indiquent une connexion
            indicators = [
                '[aria-label="Create a post"]',
                '[aria-label="CrÃ©er une publication"]',
                '[aria-label="Your profile"]',
                '[aria-label="Votre profil"]',
                '[aria-label="Account"]',
                '[aria-label="Compte"]',
                'div[role="navigation"]',
            ]
            
            for indicator in indicators:
                try:
                    if self.page.locator(indicator).count() > 0:
                        return True
                except:
                    continue
            
            return False
            
        except Exception as e:
            logger.error(f"Erreur vÃ©rification connexion Facebook: {e}")
            return False
    
    def _login(self) -> bool:
        """Se connecte Ã  Facebook."""
        try:
            logger.info("Connexion Ã  Facebook...")
            
            # Aller sur la page de login
            self.page.goto(self.LOGIN_URL, wait_until='domcontentloaded', timeout=60000)
            self._random_delay(2, 3)
            
            # IMPORTANT: GÃ©rer les cookies EN PREMIER
            self._handle_cookie_popup()
            self._random_delay(1, 2)
            
            # Attendre que le formulaire soit interactif
            self.page.wait_for_selector('#email', state='visible', timeout=10000)
            
            # Remplir l'email
            email_field = self.page.locator('#email')
            email_field.click(force=True)
            self._random_delay(0.3, 0.5)
            email_field.fill('')  # Clear first
            email_field.type(self.email, delay=50)
            
            self._random_delay(0.5, 1)
            
            # Remplir le mot de passe
            password_field = self.page.locator('#pass')
            password_field.click(force=True)
            self._random_delay(0.3, 0.5)
            password_field.fill('')
            password_field.type(self.password, delay=50)
            
            self._random_delay(0.5, 1)
            
            # Cliquer sur "Se connecter"
            login_button = self.page.locator('button[name="login"], button[type="submit"], #loginbutton').first
            login_button.click(force=True)
            
            # Attendre la redirection
            self._random_delay(5, 8)
            self.page.wait_for_load_state('domcontentloaded', timeout=60000)
            
            # GÃ©rer les vÃ©rifications de sÃ©curitÃ©
            current_url = self.page.url.lower()
            if 'checkpoint' in current_url or 'challenge' in current_url or 'two_step_verification' in current_url:
                logger.warning("âš ï¸ VÃ©rification de sÃ©curitÃ© Facebook dÃ©tectÃ©e!")
                logger.warning("Connectez-vous manuellement d'abord pour valider l'appareil.")
                self._take_screenshot("security_challenge")
                return False
            
            # Fermer les popups post-login
            self._dismiss_popups()
            
            # VÃ©rifier le succÃ¨s
            self._random_delay(2, 3)
            
            if self._check_logged_in():
                logger.info("âœ… Connexion Facebook rÃ©ussie")
                return True
            
            logger.error("Ã‰chec de la connexion Facebook")
            return False
            
        except Exception as e:
            logger.error(f"Erreur connexion Facebook: {e}")
            self._take_screenshot("login_error")
            return False
    
    def _go_to_page(self) -> bool:
        """Navigue vers la page Facebook (si configurÃ©e)."""
        if not self.page_name:
            return True
        
        try:
            logger.info(f"Navigation vers la page: {self.page_name}")
            
            self.page.goto('https://www.facebook.com/pages/?category=your_pages', timeout=60000)
            self.page.wait_for_load_state('domcontentloaded')
            self._random_delay(2, 3)
            
            page_link = self.page.locator(f'a:has-text("{self.page_name}")').first
            
            if page_link.is_visible(timeout=5000):
                page_link.click()
                self._random_delay(2, 3)
                logger.info(f"Page '{self.page_name}' trouvÃ©e et sÃ©lectionnÃ©e")
                return True
            else:
                logger.warning(f"Page '{self.page_name}' non trouvÃ©e, publication sur le profil")
                self.page.goto(self.HOME_URL)
                return True
                
        except Exception as e:
            logger.warning(f"Impossible d'accÃ©der Ã  la page: {e}")
            self.page.goto(self.HOME_URL)
            return True
    
    def _publish(self, text: str, image_path: str = None, video_path: str = None) -> bool:
        """Publie un post sur Facebook."""
        try:
            logger.info("Publication sur Facebook...")
            
            # Aller sur la page si configurÃ©e
            self._go_to_page()
            
            self.page.wait_for_load_state('domcontentloaded', timeout=60000)
            self._random_delay(2, 3)
            
            # Fermer les popups
            self._dismiss_popups()
            
            # Cliquer sur "Ã€ quoi pensez-vous ?"
            create_post_selectors = [
                '[aria-label="Create a post"]',
                '[aria-label="CrÃ©er une publication"]',
                'div[role="button"]:has-text("What\'s on your mind")',
                'div[role="button"]:has-text("Ã€ quoi pensez-vous")',
                'div[role="button"]:has-text("Quoi de neuf")',
                'span:has-text("What\'s on your mind")',
                'span:has-text("Ã€ quoi pensez-vous")',
            ]
            
            clicked = False
            for selector in create_post_selectors:
                try:
                    element = self.page.locator(selector).first
                    if element.is_visible(timeout=3000):
                        element.click(force=True)
                        clicked = True
                        break
                except:
                    continue
            
            if not clicked:
                raise Exception("Bouton de crÃ©ation de post non trouvÃ©")
            
            self._random_delay(2, 3)
            
            # Attendre que le modal s'ouvre
            text_field_selectors = [
                'div[contenteditable="true"][role="textbox"]',
                'div[aria-label*="What\'s on your mind"]',
                'div[aria-label*="quoi pensez-vous"]',
                'div[data-contents="true"]',
            ]
            
            text_field = None
            for selector in text_field_selectors:
                try:
                    field = self.page.locator(selector).first
                    if field.is_visible(timeout=5000):
                        text_field = field
                        break
                except:
                    continue
            
            if not text_field:
                raise Exception("Champ de texte non trouvÃ©")
            
            # Cliquer et taper le texte
            text_field.click(force=True)
            self._random_delay(0.5, 1)
            text_field.type(text, delay=30)
            
            self._random_delay(2, 3)
            
            # Ajouter une image si fournie
            if image_path and Path(image_path).exists():
                logger.info(f"Ajout de l'image: {image_path}")
                
                try:
                    file_input = self.page.locator('input[type="file"]').first
                    if file_input.count() > 0:
                        file_input.set_input_files(image_path)
                        self._random_delay(3, 5)
                        logger.info("Image ajoutÃ©e")
                except Exception as e:
                    logger.warning(f"Ã‰chec ajout image: {e}")
            
            self._random_delay(2, 3)
            
            # Cliquer sur "Publier"
            publish_selectors = [
                'div[aria-label="Post"][role="button"]',
                'div[aria-label="Publier"][role="button"]',
                'span:has-text("Post")',
                'span:has-text("Publier")',
            ]
            
            published = False
            for selector in publish_selectors:
                try:
                    btn = self.page.locator(selector).last
                    if btn.is_visible(timeout=3000):
                        btn.click(force=True)
                        published = True
                        break
                except:
                    continue
            
            if not published:
                raise Exception("Bouton Publier non trouvÃ©")
            
            self._random_delay(5, 8)
            
            self._take_screenshot("published")
            logger.info("âœ… Publication Facebook terminÃ©e")
            return True
            
        except Exception as e:
            logger.error(f"Erreur publication Facebook: {e}")
            self._take_screenshot("publish_error")
            return False




=========================================
FILE PATH: C:\Users\libasse.dia\Documents\budget\budgetfamille-social-bot\platforms\instagram.py
=========================================
"""
Budget Famille - Instagram Poster (Fixed)
==========================================
Module pour publier automatiquement sur Instagram.
Meilleure gestion des cookies et timeouts.
"""

import os
import time
from pathlib import Path
from .base import BasePoster
from utils.logger import get_logger

logger = get_logger(__name__)


class InstagramPoster(BasePoster):
    """Poster pour Instagram via la version web."""
    
    PLATFORM_NAME = "instagram"
    LOGIN_URL = "https://www.instagram.com/accounts/login/"
    HOME_URL = "https://www.instagram.com/"
    
    def __init__(self, headless: bool = True):
        super().__init__(headless)
        self.username = os.getenv('INSTAGRAM_USER')
        self.password = os.getenv('INSTAGRAM_PASS')
    
    def _handle_cookie_popup(self):
        """GÃ¨re le popup de cookies Instagram."""
        cookie_selectors = [
            'button:has-text("Allow all cookies")',
            'button:has-text("Autoriser tous les cookies")',
            'button:has-text("Accept All")',
            'button:has-text("Tout accepter")',
            'button:has-text("Accept")',
            'button:has-text("Accepter")',
            'button:has-text("Allow essential and optional cookies")',
        ]
        
        for selector in cookie_selectors:
            try:
                btn = self.page.locator(selector).first
                if btn.is_visible(timeout=3000):
                    btn.click(force=True)
                    self._random_delay(2, 3)
                    logger.info("Popup cookies Instagram fermÃ©")
                    return True
            except:
                continue
        return False
    
    def _dismiss_popups(self):
        """Ferme les popups Instagram courants."""
        self._handle_cookie_popup()
        
        popups = [
            'button:has-text("Not Now")',
            'button:has-text("Pas maintenant")',
            'button:has-text("Plus tard")',
            'button:has-text("Cancel")',
            '[aria-label="Close"]',
            '[aria-label="Fermer"]',
        ]
        
        for popup_selector in popups:
            try:
                popup = self.page.locator(popup_selector).first
                if popup.is_visible(timeout=2000):
                    popup.click(force=True)
                    self._random_delay(0.5, 1)
            except:
                continue
    
    def _check_logged_in(self) -> bool:
        """VÃ©rifie si on est connectÃ© Ã  Instagram."""
        try:
            self.page.goto(self.HOME_URL, wait_until='domcontentloaded', timeout=60000)
            self._random_delay(3, 4)
            
            self._handle_cookie_popup()
            self._dismiss_popups()
            
            if 'login' in self.page.url.lower():
                return False
            
            indicators = [
                'svg[aria-label="New post"]',
                'svg[aria-label="Nouvelle publication"]',
                '[aria-label="Home"]',
                '[aria-label="Accueil"]',
            ]
            
            for indicator in indicators:
                try:
                    if self.page.locator(indicator).count() > 0:
                        return True
                except:
                    continue
            
            return False
            
        except Exception as e:
            logger.error(f"Erreur vÃ©rification connexion Instagram: {e}")
            return False
    
    def _login(self) -> bool:
        """Se connecte Ã  Instagram."""
        try:
            logger.info("Connexion Ã  Instagram...")
            
            self.page.goto(self.LOGIN_URL, wait_until='domcontentloaded', timeout=60000)
            self._random_delay(3, 4)
            
            # GÃ©rer les cookies EN PREMIER
            self._handle_cookie_popup()
            self._random_delay(1, 2)
            
            # Attendre le formulaire
            self.page.wait_for_selector('input[name="username"]', state='visible', timeout=15000)
            
            # Remplir le nom d'utilisateur
            username_field = self.page.locator('input[name="username"]')
            username_field.click(force=True)
            self._random_delay(0.3, 0.5)
            username_field.type(self.username, delay=50)
            
            self._random_delay(0.5, 1)
            
            # Remplir le mot de passe
            password_field = self.page.locator('input[name="password"]')
            password_field.click(force=True)
            self._random_delay(0.3, 0.5)
            password_field.type(self.password, delay=50)
            
            self._random_delay(0.5, 1)
            
            # Se connecter
            login_button = self.page.locator('button[type="submit"]')
            login_button.click(force=True)
            
            self._random_delay(5, 8)
            
            # VÃ©rifier les challenges
            if 'challenge' in self.page.url.lower() or 'suspicious' in self.page.url.lower():
                logger.warning("âš ï¸ VÃ©rification de sÃ©curitÃ© Instagram dÃ©tectÃ©e!")
                logger.warning("Connectez-vous manuellement d'abord.")
                self._take_screenshot("security_challenge")
                return False
            
            # Fermer les popups post-login
            self._dismiss_popups()
            
            self._random_delay(2, 3)
            
            if self._check_logged_in():
                logger.info("âœ… Connexion Instagram rÃ©ussie")
                return True
            
            logger.error("Ã‰chec de la connexion Instagram")
            return False
            
        except Exception as e:
            logger.error(f"Erreur connexion Instagram: {e}")
            self._take_screenshot("login_error")
            return False
    
    def _publish(self, text: str, image_path: str = None, video_path: str = None) -> bool:
        """Publie un post sur Instagram."""
        try:
            media_path = image_path or video_path
            
            if not media_path:
                logger.error("Instagram requiert une image ou une vidÃ©o!")
                return False
            
            if not Path(media_path).exists():
                logger.error(f"Fichier mÃ©dia non trouvÃ©: {media_path}")
                return False
            
            logger.info("Publication sur Instagram...")
            
            self.page.goto(self.HOME_URL, wait_until='domcontentloaded', timeout=60000)
            self._random_delay(2, 3)
            
            self._dismiss_popups()
            
            # Cliquer sur "CrÃ©er"
            create_selectors = [
                'svg[aria-label="New post"]',
                'svg[aria-label="Nouvelle publication"]',
                '[aria-label="Create"]',
                '[aria-label="CrÃ©er"]',
            ]
            
            clicked = False
            for selector in create_selectors:
                try:
                    element = self.page.locator(selector).first
                    if element.is_visible(timeout=3000):
                        parent = element.locator('xpath=..')
                        parent.click(force=True)
                        clicked = True
                        break
                except:
                    continue
            
            if not clicked:
                # Essayer le menu latÃ©ral
                try:
                    self.page.locator('span:has-text("CrÃ©er"), span:has-text("Create")').first.click(force=True)
                    clicked = True
                except:
                    pass
            
            if not clicked:
                raise Exception("Bouton CrÃ©er non trouvÃ©")
            
            self._random_delay(2, 3)
            
            # Upload du fichier
            file_input = self.page.locator('input[type="file"]').first
            file_input.set_input_files(media_path)
            
            self._random_delay(3, 5)
            
            # Cliquer sur "Suivant" (recadrage)
            next_btn = self.page.locator('button:has-text("Next"), button:has-text("Suivant")').first
            if next_btn.is_visible(timeout=5000):
                next_btn.click(force=True)
            
            self._random_delay(2, 3)
            
            # Cliquer sur "Suivant" (filtres)
            next_btn = self.page.locator('button:has-text("Next"), button:has-text("Suivant")').first
            if next_btn.is_visible(timeout=3000):
                next_btn.click(force=True)
            
            self._random_delay(2, 3)
            
            # Ajouter la lÃ©gende
            caption_selectors = [
                'textarea[aria-label*="caption"]',
                'textarea[aria-label*="lÃ©gende"]',
                '[contenteditable="true"]',
            ]
            
            for selector in caption_selectors:
                try:
                    field = self.page.locator(selector).first
                    if field.is_visible(timeout=3000):
                        field.click(force=True)
                        self._random_delay(0.5, 1)
                        field.type(text, delay=30)
                        break
                except:
                    continue
            
            self._random_delay(2, 3)
            
            # Partager
            share_btn = self.page.locator('button:has-text("Share"), button:has-text("Partager")').first
            if share_btn.is_visible(timeout=3000):
                share_btn.click(force=True)
            
            self._random_delay(5, 10)
            
            self._take_screenshot("published")
            logger.info("âœ… Publication Instagram terminÃ©e")
            return True
            
        except Exception as e:
            logger.error(f"Erreur publication Instagram: {e}")
            self._take_screenshot("publish_error")
            return False




=========================================
FILE PATH: C:\Users\libasse.dia\Documents\budget\budgetfamille-social-bot\platforms\linkedin.py
=========================================
"""
Budget Famille - LinkedIn Poster (Fixed)
=========================================
Module pour publier automatiquement sur LinkedIn.
Meilleure gestion des cookies et timeouts.
"""

import os
import time
from pathlib import Path
from .base import BasePoster
from utils.logger import get_logger

logger = get_logger(__name__)


class LinkedInPoster(BasePoster):
    """Poster pour LinkedIn."""
    
    PLATFORM_NAME = "linkedin"
    LOGIN_URL = "https://www.linkedin.com/login"
    FEED_URL = "https://www.linkedin.com/feed/"
    
    def __init__(self, headless: bool = True):
        super().__init__(headless)
        self.email = os.getenv('LINKEDIN_EMAIL')
        self.password = os.getenv('LINKEDIN_PASS')
    
    def _handle_cookie_popup(self):
        """GÃ¨re le popup de cookies LinkedIn."""
        cookie_selectors = [
            'button:has-text("Accept & Join")',
            'button:has-text("Accepter et rejoindre")',
            'button:has-text("Accept")',
            'button:has-text("Accepter")',
            'button[action-type="ACCEPT"]',
            '.artdeco-global-alert__action',
        ]
        
        for selector in cookie_selectors:
            try:
                btn = self.page.locator(selector).first
                if btn.is_visible(timeout=2000):
                    btn.click(force=True)
                    self._random_delay(1, 2)
                    logger.info("Popup cookies LinkedIn fermÃ©")
                    return True
            except:
                continue
        return False
    
    def _check_logged_in(self) -> bool:
        """VÃ©rifie si on est connectÃ© Ã  LinkedIn."""
        try:
            self.page.goto(self.FEED_URL, wait_until='domcontentloaded', timeout=60000)
            self._random_delay(2, 3)
            
            self._handle_cookie_popup()
            
            if 'login' in self.page.url.lower() or 'checkpoint' in self.page.url.lower():
                return False
            
            logged_in = self.page.locator('button[aria-label*="Start a post"], button[aria-label*="Commencer un post"], .share-box-feed-entry__trigger').count() > 0
            
            return logged_in
            
        except Exception as e:
            logger.error(f"Erreur vÃ©rification connexion: {e}")
            return False
    
    def _login(self) -> bool:
        """Se connecte Ã  LinkedIn."""
        try:
            logger.info("Connexion Ã  LinkedIn...")
            
            if 'login' not in self.page.url.lower():
                self.page.goto(self.LOGIN_URL, wait_until='domcontentloaded', timeout=60000)
                self._random_delay(2, 3)
            
            self._handle_cookie_popup()
            
            # Attendre le formulaire
            self.page.wait_for_selector('#username', state='visible', timeout=10000)
            
            # Remplir email
            email_field = self.page.locator('#username')
            email_field.click(force=True)
            email_field.fill('')
            self._random_delay(0.5, 1)
            email_field.type(self.email, delay=50)
            
            self._random_delay(0.5, 1)
            
            # Remplir mot de passe
            password_field = self.page.locator('#password')
            password_field.click(force=True)
            password_field.fill('')
            self._random_delay(0.5, 1)
            password_field.type(self.password, delay=50)
            
            self._random_delay(0.5, 1.5)
            
            # Se connecter
            self.page.click('button[type="submit"]', force=True)
            
            self._random_delay(5, 8)
            
            # VÃ©rifier les challenges
            if 'checkpoint' in self.page.url.lower() or 'challenge' in self.page.url.lower():
                logger.warning("âš ï¸ Challenge de sÃ©curitÃ© dÃ©tectÃ©!")
                logger.warning("Connectez-vous manuellement d'abord sur LinkedIn, puis rÃ©essayez.")
                self._take_screenshot("security_challenge")
                return False
            
            if 'feed' in self.page.url.lower():
                logger.info("âœ… Connexion LinkedIn rÃ©ussie")
                return True
            
            self._random_delay(2, 3)
            return self._check_logged_in()
            
        except Exception as e:
            logger.error(f"Erreur connexion LinkedIn: {e}")
            self._take_screenshot("login_error")
            return False
    
    def _publish(self, text: str, image_path: str = None, video_path: str = None) -> bool:
        """Publie un post sur LinkedIn."""
        try:
            logger.info("Publication sur LinkedIn...")
            
            self.page.goto(self.FEED_URL, wait_until='domcontentloaded', timeout=60000)
            self._random_delay(2, 4)
            
            # Cliquer sur "Commencer un post"
            start_post_selectors = [
                'button[aria-label*="Start a post"]',
                'button[aria-label*="Commencer un post"]',
                '.share-box-feed-entry__trigger',
            ]
            
            clicked = False
            for selector in start_post_selectors:
                try:
                    element = self.page.locator(selector).first
                    if element.is_visible(timeout=5000):
                        element.click(force=True)
                        clicked = True
                        break
                except:
                    continue
            
            if not clicked:
                raise Exception("Bouton 'Commencer un post' non trouvÃ©")
            
            self._random_delay(2, 3)
            
            # Trouver l'Ã©diteur
            editor = self.page.locator('.ql-editor, [role="textbox"]').first
            editor.wait_for(state='visible', timeout=10000)
            
            editor.click(force=True)
            self._random_delay(0.5, 1)
            editor.type(text, delay=30)
            
            self._random_delay(1, 2)
            
            # Ajouter une image
            if image_path and Path(image_path).exists():
                logger.info(f"Ajout de l'image: {image_path}")
                
                try:
                    file_input = self.page.locator('input[type="file"]').first
                    if file_input.count() > 0:
                        file_input.set_input_files(image_path)
                        self._random_delay(3, 5)
                        logger.info("Image ajoutÃ©e")
                except Exception as e:
                    logger.warning(f"Ã‰chec ajout image: {e}")
            
            self._random_delay(2, 3)
            
            # Publier
            publish_selectors = [
                'button.share-actions__primary-action',
                'button:has-text("Post")',
                'button:has-text("Publier")',
            ]
            
            for selector in publish_selectors:
                try:
                    btn = self.page.locator(selector).first
                    if btn.is_visible() and btn.is_enabled():
                        btn.click(force=True)
                        break
                except:
                    continue
            
            self._random_delay(3, 5)
            
            self._take_screenshot("published")
            logger.info("âœ… Publication LinkedIn terminÃ©e")
            return True
            
        except Exception as e:
            logger.error(f"Erreur publication LinkedIn: {e}")
            self._take_screenshot("publish_error")
            return False




=========================================
FILE PATH: C:\Users\libasse.dia\Documents\budget\budgetfamille-social-bot\platforms\twitter.py
=========================================
"""
Budget Famille - Twitter/X Poster (Fixed)
==========================================
Module pour publier automatiquement sur X (Twitter).
Support de la connexion via Google.
"""

import os
import time
from pathlib import Path
from .base import BasePoster, PostContent
from utils.logger import get_logger

logger = get_logger(__name__)


class TwitterPoster(BasePoster):
    """Poster pour X (Twitter)."""
    
    PLATFORM_NAME = "twitter"
    LOGIN_URL = "https://x.com/i/flow/login"
    HOME_URL = "https://x.com/home"
    
    def __init__(self, headless: bool = True):
        super().__init__(headless)
        self.username = os.getenv('TWITTER_USER')
        self.password = os.getenv('TWITTER_PASS')
        self.google_email = os.getenv('GOOGLE_EMAIL')
        self.google_password = os.getenv('GOOGLE_PASS')
        self.use_google_login = os.getenv('TWITTER_USE_GOOGLE', 'false').lower() == 'true'
    
    def _handle_cookie_popup(self):
        """GÃ¨re les popups de cookies."""
        cookie_selectors = [
            'button:has-text("Accept all cookies")',
            'button:has-text("Accepter tous les cookies")',
            'button:has-text("Accept")',
            'button:has-text("Accepter")',
            '[data-testid="cookie-banner-accept"]',
        ]
        
        for selector in cookie_selectors:
            try:
                btn = self.page.locator(selector).first
                if btn.is_visible(timeout=2000):
                    btn.click(force=True)
                    self._random_delay(1, 2)
                    logger.info("Popup cookies fermÃ©")
                    return True
            except:
                continue
        return False
    
    def _dismiss_popups(self):
        """Ferme les popups X courants."""
        self._handle_cookie_popup()
        
        popups = [
            'div[data-testid="confirmationSheetConfirm"]',
            '[aria-label="Close"]',
            '[aria-label="Fermer"]',
            'button:has-text("Not now")',
            'button:has-text("Pas maintenant")',
            'button:has-text("Maybe later")',
            'button:has-text("Skip for now")',
        ]
        
        for popup_selector in popups:
            try:
                popup = self.page.locator(popup_selector).first
                if popup.is_visible(timeout=1000):
                    popup.click(force=True)
                    self._random_delay(0.5, 1)
            except:
                continue
    
    def _check_logged_in(self) -> bool:
        """VÃ©rifie si on est connectÃ© Ã  X."""
        try:
            self.page.goto(self.HOME_URL, wait_until='domcontentloaded', timeout=60000)
            self._random_delay(2, 3)
            
            self._handle_cookie_popup()
            
            if 'login' in self.page.url.lower() or 'flow' in self.page.url.lower():
                return False
            
            indicators = [
                '[data-testid="SideNav_NewTweet_Button"]',
                '[aria-label="Post"]',
                '[aria-label="Poster"]',
                '[data-testid="tweetTextarea_0"]',
            ]
            
            for indicator in indicators:
                try:
                    if self.page.locator(indicator).count() > 0:
                        return True
                except:
                    continue
            
            return False
            
        except Exception as e:
            logger.error(f"Erreur vÃ©rification connexion X: {e}")
            return False
    
    def _login_with_google(self) -> bool:
        """Se connecte via Google."""
        try:
            logger.info("Connexion Ã  X via Google...")
            
            # Chercher le bouton "Sign in with Google"
            google_btn_selectors = [
                'button:has-text("Sign in with Google")',
                'button:has-text("Se connecter avec Google")',
                'div[data-provider="google"]',
                '[aria-label="Sign in with Google"]',
            ]
            
            for selector in google_btn_selectors:
                try:
                    btn = self.page.locator(selector).first
                    if btn.is_visible(timeout=3000):
                        btn.click()
                        break
                except:
                    continue
            
            self._random_delay(3, 5)
            
            # Une nouvelle fenÃªtre/popup Google s'ouvre
            # Attendre et basculer vers elle
            with self.page.context.expect_page() as new_page_info:
                pass  # Le clic a dÃ©jÃ  Ã©tÃ© fait
            
            google_page = new_page_info.value
            google_page.wait_for_load_state('domcontentloaded')
            
            # Entrer l'email Google
            email_field = google_page.locator('input[type="email"]')
            email_field.fill(self.google_email)
            google_page.locator('button:has-text("Next"), button:has-text("Suivant")').click()
            
            self._random_delay(2, 3)
            
            # Entrer le mot de passe
            password_field = google_page.locator('input[type="password"]')
            password_field.wait_for(state='visible', timeout=10000)
            password_field.fill(self.google_password)
            google_page.locator('button:has-text("Next"), button:has-text("Suivant")').click()
            
            # Attendre la redirection vers X
            self._random_delay(5, 8)
            
            return True
            
        except Exception as e:
            logger.error(f"Erreur connexion Google: {e}")
            return False
    
    def _login(self) -> bool:
        """Se connecte Ã  X (Twitter)."""
        try:
            logger.info("Connexion Ã  X (Twitter)...")
            
            # Aller sur la page de login
            self.page.goto(self.LOGIN_URL, wait_until='domcontentloaded', timeout=60000)
            self._random_delay(3, 5)
            
            # GÃ©rer les cookies
            self._handle_cookie_popup()
            
            # Option: Connexion via Google
            if self.use_google_login and self.google_email:
                if self._login_with_google():
                    return self._check_logged_in()
            
            # Connexion classique
            # Ã‰tape 1: Entrer le nom d'utilisateur
            username_selectors = [
                'input[autocomplete="username"]',
                'input[name="text"]',
                'input[type="text"]',
            ]
            
            username_field = None
            for selector in username_selectors:
                try:
                    field = self.page.locator(selector).first
                    if field.is_visible(timeout=5000):
                        username_field = field
                        break
                except:
                    continue
            
            if not username_field:
                raise Exception("Champ nom d'utilisateur non trouvÃ©")
            
            username_field.click(force=True)
            self._random_delay(0.3, 0.5)
            username_field.fill(self.username)
            
            self._random_delay(1, 2)
            
            # Cliquer sur "Suivant"
            next_btn = self.page.locator('button:has-text("Next"), button:has-text("Suivant")').first
            next_btn.click(force=True)
            
            self._random_delay(2, 3)
            
            # VÃ©rifier s'il y a une vÃ©rification supplÃ©mentaire
            try:
                verification_field = self.page.locator('input[data-testid="ocfEnterTextTextInput"]').first
                if verification_field.is_visible(timeout=3000):
                    logger.info("VÃ©rification supplÃ©mentaire demandÃ©e")
                    # Entrer l'email ou le username
                    verification_field.fill(self.username)
                    self._random_delay(1, 2)
                    self.page.locator('button:has-text("Next")').first.click(force=True)
                    self._random_delay(2, 3)
            except:
                pass
            
            # Ã‰tape 2: Entrer le mot de passe
            password_field = self.page.locator('input[type="password"]').first
            password_field.wait_for(state='visible', timeout=15000)
            
            password_field.click(force=True)
            self._random_delay(0.3, 0.5)
            password_field.fill(self.password)
            
            self._random_delay(1, 2)
            
            # Cliquer sur "Se connecter"
            login_btn = self.page.locator('button[data-testid="LoginForm_Login_Button"], button:has-text("Log in"), button:has-text("Se connecter")').first
            login_btn.click(force=True)
            
            # Attendre la redirection
            self._random_delay(5, 8)
            
            # GÃ©rer les vÃ©rifications de sÃ©curitÃ©
            current_url = self.page.url.lower()
            if 'challenge' in current_url or 'verify' in current_url:
                logger.warning("âš ï¸ VÃ©rification de sÃ©curitÃ© X dÃ©tectÃ©e!")
                self._take_screenshot("security_challenge")
                return False
            
            # Fermer les popups
            self._dismiss_popups()
            
            if self._check_logged_in():
                logger.info("âœ… Connexion X rÃ©ussie")
                return True
            
            logger.error("Ã‰chec de la connexion X")
            return False
            
        except Exception as e:
            logger.error(f"Erreur connexion X: {e}")
            self._take_screenshot("login_error")
            return False
    
    def _publish(self, text: str, image_path: str = None, video_path: str = None) -> bool:
        """Publie un tweet sur X."""
        try:
            logger.info("Publication sur X (Twitter)...")
            
            # Tronquer le texte si nÃ©cessaire
            original_length = len(text)
            text = PostContent.truncate_for_twitter(text, 280)
            if len(text) < original_length:
                logger.info(f"Texte tronquÃ© de {original_length} Ã  {len(text)} caractÃ¨res")
            
            # Aller sur l'accueil
            self.page.goto(self.HOME_URL, wait_until='domcontentloaded', timeout=60000)
            self._random_delay(2, 3)
            
            self._dismiss_popups()
            
            # Trouver le champ de texte
            tweet_box = self.page.locator('[data-testid="tweetTextarea_0"]').first
            
            if not tweet_box.is_visible(timeout=5000):
                # Cliquer sur le bouton de nouveau tweet
                new_tweet_btn = self.page.locator('[data-testid="SideNav_NewTweet_Button"]').first
                if new_tweet_btn.is_visible():
                    new_tweet_btn.click(force=True)
                    self._random_delay(2, 3)
                    tweet_box = self.page.locator('[data-testid="tweetTextarea_0"]').first
            
            if not tweet_box.is_visible(timeout=5000):
                raise Exception("Zone de texte non trouvÃ©e")
            
            tweet_box.click(force=True)
            self._random_delay(0.5, 1)
            tweet_box.type(text, delay=30)
            
            self._random_delay(1, 2)
            
            # Ajouter une image si fournie
            if image_path and Path(image_path).exists():
                logger.info(f"Ajout de l'image: {image_path}")
                
                try:
                    file_input = self.page.locator('input[type="file"]').first
                    if file_input.count() > 0:
                        file_input.set_input_files(image_path)
                        self._random_delay(3, 5)
                        logger.info("Image ajoutÃ©e")
                except Exception as e:
                    logger.warning(f"Ã‰chec ajout image: {e}")
            
            self._random_delay(2, 3)
            
            # Cliquer sur "Post"
            post_btn = self.page.locator('[data-testid="tweetButtonInline"], [data-testid="tweetButton"]').first
            
            if post_btn.is_visible() and post_btn.is_enabled():
                post_btn.click(force=True)
            else:
                raise Exception("Bouton Post non trouvÃ© ou dÃ©sactivÃ©")
            
            self._random_delay(3, 5)
            
            self._take_screenshot("published")
            logger.info("âœ… Publication X terminÃ©e")
            return True
            
        except Exception as e:
            logger.error(f"Erreur publication X: {e}")
            self._take_screenshot("publish_error")
            return False




=========================================
FILE PATH: C:\Users\libasse.dia\Documents\budget\budgetfamille-social-bot\platforms\__init__.py
=========================================
"""
Budget Famille - Social Media Platforms
========================================
Modules pour publier sur diffÃ©rentes plateformes.
"""

from .linkedin import LinkedInPoster
from .instagram import InstagramPoster
from .facebook import FacebookPoster
from .twitter import TwitterPoster

__all__ = [
    'LinkedInPoster',
    'InstagramPoster',
    'FacebookPoster',
    'TwitterPoster',
]




=========================================
FILE PATH: C:\Users\libasse.dia\Documents\budget\budgetfamille-social-bot\platforms\__pycache__\base.cpython-314.pyc
=========================================
+
    üélio"  ã                   ó¤   € R t ^ RIt^ RIt^ RIt^ RIHtHt ^ RIHt ^ RI	H
t
HtHt ^ RIHt ]! ]4      tR tR t ! R R	]4      t ! R
 R4      tR# )u®   
Budget Famille - Base Poster (Fixed v3)
========================================
Utilise le profil Chrome existant de l'utilisateur pour Ã©viter les blocages de sÃ©curitÃ©.
N)ÚABCÚabstractmethod)ÚPath)Úsync_playwrightÚPageÚBrowser)Ú
get_loggerc                 óx  € ^ RI p V P                  4       pVR8X  d^   \        P                  P	                  R4      \        P                  P	                  R4      \        P                  P	                  R4      .pMVR8X  d   R.pM. ROpV F,  p\        P                  P                  V4      '       g   K*  Vu # 	  R# )	z&Trouve le chemin de Chrome selon l'OS.NÚWindowsz3%ProgramFiles%\Google\Chrome\Application\chrome.exez8%ProgramFiles(x86)%\Google\Chrome\Application\chrome.exez3%LocalAppData%\Google\Chrome\Application\chrome.exeÚDarwinz</Applications/Google Chrome.app/Contents/MacOS/Google Chrome)z/usr/bin/google-chromez/usr/bin/google-chrome-stablez/usr/bin/chromium-browser)ÚplatformÚsystemÚosÚpathÚ
expandvarsÚexists)r   r   Úpathsr   s       ÚPC:\Users\libasse.dia\Documents\budget\budgetfamille-social-bot\platforms\base.pyÚget_chrome_pathr      s   € ãØ_‰_Ó€FàÔäG‰G×ÑÐUÓVÜG‰G×ÑÐZÓ[ÜG‰G×ÑÐUÓVð
‰ð
 
8Ô	àJð
‰ò
ˆó ˆÜ7‰7>‰>˜$×ÔØŠKñ ñ ó    c                 ó   € ^ RI p V P                  4       pVR8X  d    \        P                  P	                  R4      # VR8X  d    \        P                  P                  R4      # \        P                  P                  R4      # )z&Trouve le dossier User Data de Chrome.Nr
   z&%LocalAppData%\Google\Chrome\User Datar   z+~/Library/Application Support/Google/Chromez~/.config/google-chrome)r   r   r   r   r   Ú
expanduser)r   r   s     r   Úget_chrome_user_data_dirr   /   sc   € ãØ_‰_Ó€FàÔÜw‰w×!Ñ!Ð"KÓLÐLØ	8Ô	Üw‰w×!Ñ!Ð"OÓPÐPäw‰w×!Ñ!Ð";Ó<Ð<r   c                   óà   a € ] tR t^<t o RtRtRtRV 3R lR lltRV 3R lR lltV 3R lR	 lt	R
 t
R tR tV 3R lR lt]V 3R lR l4       t]RV 3R lR ll4       tRV 3R lR lltRtV tR# )Ú
BasePosteruw   
Classe de base pour les posters de rÃ©seaux sociaux.
Utilise le profil Chrome existant pour rÃ©utiliser les sessions.
ÚbaseÚ c                ó    <€ V ^8„  d   QhRS[ /# )é   Úheadless©Úbool)ÚformatÚ__classdict__s   "€r   Ú__annotate__ÚBasePoster.__annotate__E   s   ø€ ÷ ^ñ ^¡ñ ^r   c                óü   € Wn         R V n        R V n        R V n        R V n        \        R4      V n        V P                  P                  RR7       \        P                  ! RR4      P                  4       R8H  V n        R # )NÚscreenshotsT)Úexist_okÚUSE_EXISTING_CHROMEÚtrue)r   ÚbrowserÚpageÚ
playwrightÚcontextr   Úscreenshots_dirÚmkdirr   ÚgetenvÚlowerÚuse_existing_chrome)Úselfr   s   &&r   Ú__init__ÚBasePoster.__init__E   sn   € Ø ŒØˆŒØˆŒ	ØˆŒØˆŒô  $ MÓ2ˆÔØ×Ñ×"Ñ"¨DÐ"Ô1ô $&§9¢9Ð-BÀFÓ#K×#QÑ#QÓ#SÐW]Ñ#]ˆÖ r   c                ó&   <€ V ^8„  d   QhRS[ RS[ /# )r   Úmin_secÚmax_sec)Úfloat)r"   r#   s   "€r   r$   r%   S   s   ø€ ÷ ñ ¡Uð ¹5ñ r   c                ó^   € \         P                  ! W4      p\        P                  ! V4       R# )u6   DÃ©lai alÃ©atoire pour simuler un comportement humain.N)ÚrandomÚuniformÚtimeÚsleep)r4   r8   r9   Údelays   &&& r   Ú_random_delayÚBasePoster._random_delayS   s   € ä—’˜wÓ0ˆÜ
Š
5Ör   c                ó    <€ V ^8„  d   QhRS[ /# )r   Úname)Ústr)r"   r#   s   "€r   r$   r%   X   s   ø€ ÷ 	ñ 	¡Sñ 	r   c                ó2  € V P                   '       d}   \        P                  ! R4      pV P                  V P                   RV RV R2,          p V P                   P                  \        V4      R7       \        P                  RV 24       R# R#     R# ; i)u   Capture d'Ã©cran pour debug.z%Y%m%d-%H%M%SÚ_z.png)r   zScreenshot: N)	r,   r>   Ústrftimer/   ÚPLATFORM_NAMEÚ
screenshotrE   ÚloggerÚdebug)r4   rD   Ú	timestampÚfilenames   &&  r   Ú_take_screenshotÚBasePoster._take_screenshotX   s„   € à99ˆ9ÜŸš oÓ6ˆIØ×+Ñ+°×1CÑ1CÐ0DÀAÀdÀVÈ1ÈYÈKÐW[Ð.\Õ\ˆHðØ—	‘	×$Ñ$¬#¨h«-Ð$Ô8Ü—‘˜|¨H¨:Ð6Ö7ñ øðÚús   Á=B ÂBc           
     ó¦  € \        4       P                  4       V n        \        4       p\	        4       pV P
                  '       dù   V'       dñ   \        P                  P                  V4      '       dÌ   \        P                  R4        V P                  P                  P                  VRV P                  . RORRRR/RRR	7      V n        V P                  P                  '       d$   V P                  P                  ^ ,          V n        MV P                  P#                  4       V n        \        P                  R
4       M%\        P                  R4       V P)                  4        V P                   P+                  R4       R#   \$         dH   p\        P'                  RT 24       \        P                  R4       T P)                  4         Rp?LjRp?ii ; i)u>   DÃ©marre le navigateur en utilisant le profil Chrome existant.uC   ðŸ”“ Utilisation du profil Chrome existant (sessions sauvegardÃ©es)ÚchromeÚwidthé€  Úheighté8  úfr-FRúEurope/Paris)Úuser_data_dirÚchannelr   ÚargsÚviewportÚlocaleÚtimezone_idu*   âœ… Chrome lancÃ© avec ton profil existantu/   âš ï¸ Impossible d'utiliser le profil Chrome: u"   Fallback vers navigateur isolÃ©...Nu"   Utilisation d'un navigateur isolÃ©é`ê  )ú---disable-blink-features=AutomationControlledú--no-sandboxz--disable-dev-shm-usage)r   Ústartr-   r   r   r3   r   r   r   rK   ÚinfoÚchromiumÚlaunch_persistent_contextr   r.   Úpagesr,   Únew_pageÚ	ExceptionÚwarningÚ_start_isolated_browserÚset_default_timeout)r4   Úchrome_pathrY   Úes   &   r   Ú_start_browserÚBasePoster._start_browserc   sY  € ä)Ó+×1Ñ1Ó3ˆŒä%Ó'ˆÜ0Ó2ˆà×#×#Ð#¯¼¿¹¿¹À}×8UÒ8UÜK‰KÐ]Ô^ð
/à#Ÿ™×7Ñ7×QÑQØ"/Ø$Ø!Ÿ]™]òð
 & t¨X°tÐ<Ø"Ø .ð  Ró  ”ð —<‘<×%×%Ð%Ø $§¡× 2Ñ 2°1Õ 5D•Ià $§¡× 5Ñ 5Ó 7D”Iä—‘ÐHÕIô K‰KÐ<Ô=Ø×(Ñ(Ô*à	‰	×%Ñ% eÖ,øô ô /Ü—‘Ð!PÐQRÐPSÐTÔUÜ—‘Ð@ÔAØ×,Ñ,×.Ñ.ûð/ús   ÂB4E> Å>GÆ	=GÇGc                ó:  € V P                   P                  P                  V P                  RR.R7      V n        V P                  P                  RRRR/RR	R
R7      V n        V P                  P                  R4       V P                  P                  4       V n	        R# )u5   DÃ©marre un navigateur isolÃ© (sans profil existant).r`   ra   )r   r[   rS   rT   rU   rV   zoMozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36rW   rX   )r\   Ú
user_agentr]   r^   z^
            Object.defineProperty(navigator, 'webdriver', { get: () => undefined });
        N)
r-   rd   Úlaunchr   r+   Únew_contextr.   Úadd_init_scriptrg   r,   ©r4   s   &r   rj   Ú"BasePoster._start_isolated_browser’   s™   € à—‘×/Ñ/×6Ñ6Ø—]‘]à?Øðð 7ó 
ˆŒð —|‘|×/Ñ/Ø˜t X¨tÐ4ð IØØ&ð	 0ó 
ˆŒð 	‰×$Ñ$ð &ô 	ð —L‘L×)Ñ)Ó+ˆŽ	r   c                óv  €  V P                   '       d   V P                   P                  4        V P                  '       d   V P                  P                  4        V P                  '       d   V P                  P	                  4        R# R#   \
         d$   p\        P                  RT 24        Rp?R# Rp?ii ; i)zFerme proprement le navigateur.zErreur fermeture: N)r.   Úcloser+   r-   Ústoprh   rK   Úerror)r4   rm   s   & r   Ú_close_browserÚBasePoster._close_browserª   s~   € ð	3Ø||ˆ|Ø—‘×"Ñ"Ô$Ø||ˆ|Ø—‘×"Ñ"Ô$ØˆØ—‘×$Ñ$Ö&ñ øäô 	3ÜL‰LÐ-¨a¨SÐ1×2Ò2ûð	3ús(   ‚B
 ”+B
 Á +B
 Á,B
 Â
B8ÂB3Â3B8c                ó    <€ V ^8„  d   QhRS[ /# ©r   Úreturnr    )r"   r#   s   "€r   r$   r%   ¶   s   ø€ ÷ ñ ¡$ñ r   c                ó   € R# )u'   VÃ©rifie si connectÃ©. Ã€ implÃ©menter.F© ru   s   &r   Ú_check_logged_inÚBasePoster._check_logged_in¶   s   € ár   c                ó    <€ V ^8„  d   QhRS[ /# r~   r    )r"   r#   s   "€r   r$   r%   »   s   ø€ ÷ ñ ™ñ r   c                ó   € R# )u   Se connecte. Ã€ implÃ©menter.Nr   ru   s   &r   Ú_loginÚBasePoster._loginº   ó   € ñ 	r   Nc                ó2   <€ V ^8„  d   QhRS[ RS[ RS[ RS[/# ©r   ÚtextÚ
image_pathÚ
video_pathr   )rE   r!   )r"   r#   s   "€r   r$   r%   À   s*   ø€ ÷ ñ ™Sð ©cð Ácð ÑUYñ r   c                ó   € R# )u   Publie. Ã€ implÃ©menter.Nr   )r4   r‹   rŒ   r   s   &&&&r   Ú_publishÚBasePoster._publish¿   rˆ   r   c                ó2   <€ V ^8„  d   QhRS[ RS[ RS[ RS[/# rŠ   )rE   Údict)r"   r#   s   "€r   r$   r%   Ä   s*   ø€ ÷ +ñ +™ð +©#ð +Á#ð +ÑQUñ +r   c                ó®  € RRRV P                   R\        P                  ! R4      RR/p \        P	                  RV P                    24       V P                  4        V P                  P                  V P                  R	R
R7       V P                  ^^4       V P                  4       '       g8   \        P	                  R4       V P                  4       '       g   \        R4      hM\        P	                  R4       V P                  ^^4       V P                  WV4      '       g   \        R4      hRVR&   \        P	                  RV P                    24       V P#                  4        V#   \         dO   p\        T4      TR&   \        P                  RT P                    RT 24       T P!                  R4        Rp?LfRp?ii ; i  T P#                  4        i ; i)u!   MÃ©thode principale pour publier.ÚsuccessFr   rM   z%Y-%m-%d %H:%M:%Srz   Nu   DÃ©marrage publication sur Údomcontentloadedr_   )Ú
wait_untilÚtimeoutzConnexion requise...u   Ã‰chec de la connexionu/   âœ… DÃ©jÃ  connectÃ© (session Chrome existante)u   Ã‰chec de la publicationTu   âœ… Publication rÃ©ussie sur u   âŒ Erreur sur z: )rI   r>   rH   rK   rc   rn   r,   ÚgotoÚ	LOGIN_URLrA   r‚   r†   rh   r   rE   rz   rO   r{   )r4   r‹   rŒ   r   Úresultrm   s   &&&&  r   ÚpostÚBasePoster.postÄ   s˜  € ð uØ˜×*Ñ*ØœŸšÐ':Ó;ØTð	
ˆð 	"ÜK‰KÐ5°d×6HÑ6HÐ5IÐJÔKà×ÑÔ!ð I‰IN‰N˜4Ÿ>™>Ð6HÐRWˆNÔXØ×Ñ˜q !Ô$ð ×(Ñ(×*Ò*Ü—‘Ð2Ô3Ø—{‘{—}’}Ü#Ð$<Ó=Ð=ð %ô —‘ÐMÔNð ×Ñ˜q !Ô$à—=‘= °:×>Ò>ÜÐ :Ó;Ð;à $ˆF9ÑÜK‰KÐ7¸×8JÑ8JÐ7KÐLÔMð ×ÑÔ!àˆøô ô 	+Ü! !›fˆF7‰OÜL‰L˜?¨4×+=Ñ+=Ð*>¸bÀÀÐDÔEØ×!Ñ! '×*Ñ*ûð	+ûð ×ÑÕ!ús2   ªB,E& ÃA=E& Å&F?Å1AF:Æ5G Æ:F?Æ?G ÇG)r+   r.   r   r,   r-   r/   r3   )T)g      ð?g      @)NN)Ú__name__Ú
__module__Ú__qualname__Ú__firstlineno__Ú__doc__rI   r™   r5   rA   rO   rn   rj   r{   r‚   r   r†   r   r›   Ú__static_attributes__Ú__classdictcell__©r#   s   @r   r   r   <   sŒ   ø‡ € ñð
 €MØ€I÷^ò ^÷ò ÷
	ð 	ò--ò^,ò0
3÷ð ð ÷ó ðð ÷ñ ó ð÷+÷ +ð +r   r   c                   óD   a € ] tR t^òt o Rt]RV 3R lR ll4       tRtV tR# )ÚPostContentz$Utilitaire pour formater le contenu.c                ó,   <€ V ^8„  d   QhRS[ RS[RS[ /# )r   r‹   Ú
max_lengthr   )rE   Úint)r"   r#   s   "€r   r$   ÚPostContent.__annotate__ö   s"   ø€ ÷ +ñ +¡3ð +±Cð +Á#ñ +r   c                óL   € \        V 4      V8:  d   V # V R V^,
           R,           # )Nz...)Úlen)r‹   r¨   s   &&r   Útruncate_for_twitterÚ PostContent.truncate_for_twitterõ   s)   € äˆt‹9˜
Ô"ØˆKØMZ •\Ð" UÕ*Ð*r   r   N)i  )	r   rž   rŸ   r    r¡   Ústaticmethodr­   r¢   r£   r¤   s   @r   r¦   r¦   ò   s   ø‡ € Ù.à÷+ñ +ó ö+r   r¦   )r¡   r   r>   r<   Úabcr   r   Úpathlibr   Úplaywright.sync_apir   r   r   Úutils.loggerr   r   rK   r   r   r   r¦   r   r   r   Ú<module>r´      sQ   ðñó 
Û Û ß #Ý ß >Ñ >Ý #á	HÓ	€òò:
=ôsô s÷l+ó +r   



=========================================
FILE PATH: C:\Users\libasse.dia\Documents\budget\budgetfamille-social-bot\platforms\__pycache__\facebook.cpython-314.pyc
=========================================
+
    ûéliÅ5  ã                   ód   € R t ^ RIt^ RIt^ RIHt ^RIHt ^ RIHt ]! ]	4      t
 ! R R]4      tR# )u±   
Budget Famille - Facebook Poster (Fixed)
=========================================
Module pour publier automatiquement sur Facebook.
Gestion amÃ©liorÃ©e des popups de cookies.
N)ÚPath)Ú
BasePoster)Ú
get_loggerc                   óª   a a€ ] tR t^t oRtRtRtRtRV3R lV 3R llltR t	R t
V3R	 lR
 ltV3R lR ltV3R lR ltRV3R lR lltRtVtV ;t# )ÚFacebookPosterzPoster pour Facebook.Úfacebookzhttps://www.facebook.com/loginzhttps://www.facebook.com/c                ó    <€ V ^8„  d   QhRS[ /# )é   Úheadless©Úbool)ÚformatÚ__classdict__s   "€ÚTC:\Users\libasse.dia\Documents\budget\budgetfamille-social-bot\platforms\facebook.pyÚ__annotate__ÚFacebookPoster.__annotate__   s   ø€ ÷ 9ñ 9¡ñ 9ó    c                óÈ   <€ \         SV `  V4       \        P                  ! R 4      V n        \        P                  ! R4      V n        \        P                  ! R4      V n        R# )ÚFACEBOOK_EMAILÚFACEBOOK_PASSÚFACEBOOK_PAGE_NAMEN)ÚsuperÚ__init__ÚosÚgetenvÚemailÚpasswordÚ	page_name)Úselfr
   Ú	__class__s   &&€r   r   ÚFacebookPoster.__init__   sB   ø€ Ü‰Ñ˜Ô"Ü—Y’YÐ/Ó0ˆŒ
ÜŸ	š	 /Ó2ˆŒÜŸšÐ#7Ó8ˆŽr   c                ó8  € \         P                  R4       . ROpV F€  p V P                  P                  V4      P                  pVP                  RR7      '       d@   \         P                  RV 24       VP                  RR7       V P                  ^^4        R# K‚  	   V P                  P                  R4       V P                  ^^4       \         P                  R	4       R#   \         d   p Rp?KÚ  Rp?ii ; i    M; i\         P                  R
4       R# )uC   GÃ¨re le popup de cookies Facebook - DOIT Ãªtre appelÃ© en premier.z Recherche du popup de cookies...iÐ  ©Útimeoutu!   Popup cookies trouvÃ©, clic sur: T©ÚforceNa“  
                () => {
                    // Chercher tous les boutons contenant "accepter" ou "allow"
                    const buttons = document.querySelectorAll('button');
                    for (const btn of buttons) {
                        const text = btn.textContent.toLowerCase();
                        if (text.includes('accepter') || text.includes('allow') || 
                            text.includes('autoriser') || text.includes('accept')) {
                            btn.click();
                            return true;
                        }
                    }
                    return false;
                }
            u#   Popup cookies fermÃ© via JavaScriptu!   Pas de popup de cookies dÃ©tectÃ©F)z)button[data-cookiebanner="accept_button"]z?button[data-testid="cookie-policy-manage-dialog-accept-button"]zbutton[title="Tout accepter"]z!button[title="Allow all cookies"]z-button:has-text("Autoriser tous les cookies")z button:has-text("Tout accepter")z$button:has-text("Allow all cookies")zbutton:has-text("Accept all")zCdiv[data-testid="cookie-policy-manage-dialog"] button:first-of-typez[aria-label="Tout accepter"]z [aria-label="Allow all cookies"])
ÚloggerÚinfoÚpageÚlocatorÚfirstÚ
is_visibleÚclickÚ_random_delayÚ	ExceptionÚevaluate)r   Úcookie_selectorsÚselectorÚbtnÚes   &    r   Ú_handle_cookie_popupÚ#FacebookPoster._handle_cookie_popup   sù   € ä‰Ð6Ô7ò
Ðó" )ˆHðØ—i‘i×'Ñ'¨Ó1×7Ñ7Ø—>‘>¨$>×/Ò/Ü—K‘KÐ"CÀHÀ:Ð NÔOØ—I‘I DIÔ)Ø×&Ñ& q¨!Ô,Úñ	 0ñ )ð	ØI‰I×Ñð  ô ð ×Ñ˜q !Ô$ÜK‰KÐ=Ô>Ùøô- ô Ýûðûð.	Ùúä‰Ð7Ô8Ùs    A9C%Â!AC> Ã%C;Ã6C;Ã>Dc                ó  € V P                  4        . ROpV Fg  p V P                  P                  V4      P                  pVP	                  RR7      '       d'   VP                  RR7       V P                  R^4       Kg  Ki  	  R#     Kr  ; i)z#Ferme les popups Facebook courants.iè  r"   Tr$   ç      à?N)z[aria-label="Close"]z[aria-label="Fermer"]zdiv[aria-label="Close"]zbutton:has-text("Not Now")z!button:has-text("Pas maintenant"))r4   r(   r)   r*   r+   r,   r-   )r   ÚpopupsÚpopup_selectorÚpopups   &   r   Ú_dismiss_popupsÚFacebookPoster._dismiss_popupsX   sƒ   € ð 	×!Ñ!Ô#ò
ˆó %ˆNðØŸ	™	×)Ñ)¨.Ó9×?Ñ?Ø×#Ñ#¨DÐ#×1Ò1Ø—K‘K dKÔ+Ø×&Ñ& s¨AÖ.ñ 2ó %øðÚús   ›A!BÂB	c                ó    <€ V ^8„  d   QhRS[ /# ©r	   Úreturnr   )r   r   s   "€r   r   r   n   s   ø€ ÷ $ñ $¡$ñ $r   c                óô  €  V P                   P                  V P                  RRR7       V P                  ^^4       V P	                  4        V P                   P
                  P                  4       pRV9   g   RV9   d   R# . R
OpV F5  p V P                   P                  V4      P                  4       ^ 8”  d    R# K7  	  R#     K@  ; i  \         d$   p\        P                  RT 24        R	p?R# R	p?ii ; i)u)   VÃ©rifie si on est connectÃ© Ã  Facebook.Údomcontentloadedé`ê  ©Ú
wait_untilr#   ÚloginÚ
checkpointFTu)   Erreur vÃ©rification connexion Facebook: N)ú[aria-label="Create a post"]õ%   [aria-label="CrÃ©er une publication"]z[aria-label="Your profile"]z[aria-label="Votre profil"]z[aria-label="Account"]z[aria-label="Compte"]zdiv[role="navigation"])r(   ÚgotoÚHOME_URLr-   r4   ÚurlÚlowerr)   Úcountr.   r&   Úerror)r   Úcurrent_urlÚ
indicatorsÚ	indicatorr3   s   &    r   Ú_check_logged_inÚFacebookPoster._check_logged_inn   sã   € ð"	ØI‰IN‰N˜4Ÿ=™=Ð5GÐQVˆNÔWØ×Ñ˜q !Ô$ð ×%Ñ%Ô'ð Ÿ)™)Ÿ-™-×-Ñ-Ó/ˆKØ˜+Ô%¨¸Ô)DÙòˆJó (	ðØ—y‘y×(Ñ(¨Ó3×9Ñ9Ó;¸aÔ?Ú#ñ @ñ (ñ øðÚûô ô 	ÜL‰LÐDÀQÀCÐHÔIÝûð	ús<   ‚A<C	 Â 	C	 Â
.CÂ8C	 Â;C	 ÃCÃC	 Ã	C7ÃC2Ã2C7c                ó    <€ V ^8„  d   QhRS[ /# r>   r   )r   r   s   "€r   r   r   ”   s   ø€ ÷ Bñ B™ñ Br   c                ó&  €  \         P                  R4       V P                  P                  V P                  RRR7       V P                  ^^4       V P                  4        V P                  ^^4       V P                  P                  RRRR7       V P                  P                  R4      pVP                  R	R
7       V P                  RR4       VP                  R4       VP                  V P                  ^2R7       V P                  R^4       V P                  P                  R4      pVP                  R	R
7       V P                  RR4       VP                  R4       VP                  V P                  ^2R7       V P                  R^4       V P                  P                  R4      P                  pVP                  R	R
7       V P                  ^^4       V P                  P                  RRR7       V P                  P                   P#                  4       pRV9   g   RV9   g   RV9   d>   \         P%                  R4       \         P%                  R4       V P'                  R4       R# V P)                  4        V P                  ^^4       V P+                  4       '       d   \         P                  R4       R	# \         P-                  R4       R#   \.         d5   p\         P-                  RT 24       T P'                  R4        Rp?R# Rp?ii ; i)u   Se connecte Ã  Facebook.u   Connexion Ã  Facebook...rA   rB   rC   z#emailÚvisiblei'  )Ústater#   Tr$   g333333Ó?r7   Ú ©Údelayz#passz9button[name="login"], button[type="submit"], #loginbuttonr"   rF   Ú	challengeÚtwo_step_verificationu7   âš ï¸ VÃ©rification de sÃ©curitÃ© Facebook dÃ©tectÃ©e!z<Connectez-vous manuellement d'abord pour valider l'appareil.Úsecurity_challengeFu   âœ… Connexion Facebook rÃ©ussieu   Ã‰chec de la connexion FacebookzErreur connexion Facebook: Úlogin_errorN)r&   r'   r(   rI   Ú	LOGIN_URLr-   r4   Úwait_for_selectorr)   r,   ÚfillÚtyper   r   r*   Úwait_for_load_staterK   rL   ÚwarningÚ_take_screenshotr;   rR   rN   r.   )r   Úemail_fieldÚpassword_fieldÚlogin_buttonrO   r3   s   &     r   Ú_loginÚFacebookPoster._login”   sŒ  € ð@	ÜK‰KÐ2Ô3ð I‰IN‰N˜4Ÿ>™>Ð6HÐRWˆNÔXØ×Ñ˜q !Ô$ð ×%Ñ%Ô'Ø×Ñ˜q !Ô$ð I‰I×'Ñ'¨¸	È5Ð'ÔQð Ÿ)™)×+Ñ+¨HÓ5ˆKØ×Ñ DÐÔ)Ø×Ñ˜s CÔ(Ø×Ñ˜RÔ Ø×Ñ˜TŸZ™Z¨rÐÔ2à×Ñ˜s AÔ&ð "ŸY™Y×.Ñ.¨wÓ7ˆNØ× Ñ  tÐ Ô,Ø×Ñ˜s CÔ(Ø×Ñ Ô#Ø×Ñ §¡°RÐÔ8à×Ñ˜s AÔ&ð  Ÿ9™9×,Ñ,Ð-hÓi×oÑoˆLØ×Ñ TÐÔ*ð ×Ñ˜q !Ô$ØI‰I×)Ñ)Ð*<ÀeÐ)ÔLð Ÿ)™)Ÿ-™-×-Ñ-Ó/ˆKØ˜{Ô*¨k¸[Ô.HÐLcÐgrÔLrÜ—‘ÐXÔYÜ—‘Ð]Ô^Ø×%Ñ%Ð&:Ô;Ùð × Ñ Ô"ð ×Ñ˜q !Ô$à×$Ñ$×&Ò&Ü—‘Ð=Ô>ÙäL‰LÐ:Ô;Ùøäô 	ÜL‰LÐ6°q°cÐ:Ô;Ø×!Ñ! -Ô0Ýûð	ús*   ‚I'K É+7K Ê#K Ê:K ËLË)LÌLc                ó    <€ V ^8„  d   QhRS[ /# r>   r   )r   r   s   "€r   r   r   Ø   s   ø€ ÷ ñ ™Tñ r   c                óh  € V P                   '       g   R#  \        P                  RV P                    24       V P                  P	                  RRR7       V P                  P                  R4       V P                  ^^4       V P                  P                  RV P                    R24      P                  pVP                  R	R7      '       dH   VP                  4        V P                  ^^4       \        P                  R
V P                    R24       R# \        P                  R
V P                    R24       V P                  P	                  V P                  4       R#   \         dI   p\        P                  RT 24       T P                  P	                  T P                  4        Rp?R# Rp?ii ; i)u/   Navigue vers la page Facebook (si configurÃ©e).TzNavigation vers la page: z3https://www.facebook.com/pages/?category=your_pagesrB   r"   rA   za:has-text("z")éˆ  zPage 'u   ' trouvÃ©e et sÃ©lectionnÃ©eu)   ' non trouvÃ©e, publication sur le profilu"   Impossible d'accÃ©der Ã  la page: N)r   r&   r'   r(   rI   rc   r-   r)   r*   r+   r,   rd   rJ   r.   )r   Ú	page_linkr3   s   &  r   Ú_go_to_pageÚFacebookPoster._go_to_pageØ   sF  € à~~ˆ~Ùð	ÜK‰KÐ3°D·N±NÐ3CÐDÔEàI‰IN‰NÐPÐZ_ˆNÔ`ØI‰I×)Ñ)Ð*<Ô=Ø×Ñ˜q !Ô$àŸ	™	×)Ñ)¨L¸¿¹Ð8HÈÐ*KÓL×RÑRˆIà×#Ñ#¨DÐ#×1Ò1Ø—‘Ô!Ø×"Ñ" 1 aÔ(Ü—‘˜f T§^¡^Ð$4Ð4PÐQÔRÙä—‘ ¨¯©Ð'7Ð7`ÐaÔbØ—	‘	—‘˜tŸ}™}Ô-Ùøäô 	ÜN‰NÐ?À¸sÐCÔDØI‰IN‰N˜4Ÿ=™=Ô)Ýûð	ús&   –B6E ÃAE ÄAE ÅF1Å)=F,Æ,F1c                ó2   <€ V ^8„  d   QhRS[ RS[ RS[ RS[/# )r	   ÚtextÚ
image_pathÚ
video_pathr?   )Ústrr   )r   r   s   "€r   r   r   õ   s0   ø€ ÷ sñ s™Sð s©cð sÁcð sÑUYñ sr   c                ó6  €  \         P                  R4       V P                  4        V P                  P	                  RRR7       V P                  ^^4       V P                  4        . ROpRpV FW  p V P                  P                  V4      P                  pVP                  RR7      '       d   VP                  RR7       Rp MKY  	  V'       g   \        R	4      hV P                  ^^4       . ROpR
p	V FE  p V P                  P                  V4      P                  p
V
P                  RR7      '       d   T
p	 MKG  	  V	'       g   \        R4      hV	P                  RR7       V P                  R^4       V	P                  V^R7       V P                  ^^4       V'       d«   \        V4      P                  4       '       dŒ   \         P                  RV 24        V P                  P                  R4      P                  pVP                  4       ^ 8”  d9   VP!                  V4       V P                  ^^4       \         P                  R4       V P                  ^^4       . ROpRpV FW  p V P                  P                  V4      P$                  pVP                  RR7      '       d   VP                  RR7       Rp MKY  	  V'       g   \        R4      hV P                  ^^4       V P'                  R4       \         P                  R4       R#     EK§  ; i    EK(  ; i  \         d#   p\         P#                  RT 24        R
p?LüR
p?ii ; i    Kï  ; i  \         d5   p\         P)                  RT 24       T P'                  R4        R
p?R# R
p?ii ; i)zPublie un post sur Facebook.zPublication sur Facebook...rA   rB   r"   Fi¸  Tr$   u'   Bouton de crÃ©ation de post non trouvÃ©Nrm   u   Champ de texte non trouvÃ©r7   rY   zAjout de l'image: zinput[type="file"]u   Image ajoutÃ©eu   Ã‰chec ajout image: u   Bouton Publier non trouvÃ©Ú	publishedu"   âœ… Publication Facebook terminÃ©ezErreur publication Facebook: Úpublish_error)rG   rH   z2div[role="button"]:has-text("What's on your mind")u2   div[role="button"]:has-text("Ã€ quoi pensez-vous")z+div[role="button"]:has-text("Quoi de neuf")z$span:has-text("What's on your mind")u$   span:has-text("Ã€ quoi pensez-vous"))z+div[contenteditable="true"][role="textbox"]z&div[aria-label*="What's on your mind"]z#div[aria-label*="quoi pensez-vous"]zdiv[data-contents="true"])z%div[aria-label="Post"][role="button"]z(div[aria-label="Publier"][role="button"]zspan:has-text("Post")zspan:has-text("Publier"))r&   r'   ro   r(   rc   r-   r;   r)   r*   r+   r,   r.   rb   r   ÚexistsrM   Úset_input_filesrd   Úlastre   rN   )r   rr   rs   rt   Úcreate_post_selectorsÚclickedr1   ÚelementÚtext_field_selectorsÚ
text_fieldÚfieldÚ
file_inputr3   Úpublish_selectorsrw   r2   s   &&&&            r   Ú_publishÚFacebookPoster._publishõ   sF  € ðq	ÜK‰KÐ5Ô6ð ×ÑÔàI‰I×)Ñ)Ð*<ÀeÐ)ÔLØ×Ñ˜q !Ô$ð × Ñ Ô"ò%Ð!ð ˆGÛ1ðØ"Ÿi™i×/Ñ/°Ó9×?Ñ?GØ×)Ñ)°$Ð)×7Ò7ØŸ™¨D˜Ô1Ø"&˜Ùñ 8ñ 2÷ ÜÐ IÓJÐJà×Ñ˜q !Ô$ò$Ð ð ˆJÛ0ðØ ŸI™I×-Ñ-¨hÓ7×=Ñ=EØ×'Ñ'°Ð'×5Ò5Ø%*˜
Ùñ 6ñ 1÷ ÜÐ <Ó=Ð=ð ×Ñ 4ÐÔ(Ø×Ñ˜s AÔ&ØO‰O˜D¨ˆOÔ+à×Ñ˜q !Ô$÷ œd :Ó.×5Ñ5×7Ò7Ü—‘Ð0°°Ð=Ô>ð?Ø!%§¡×!2Ñ!2Ð3GÓ!H×!NÑ!NJØ!×'Ñ'Ó)¨AÔ-Ø"×2Ñ2°:Ô>Ø×*Ñ*¨1¨aÔ0ÜŸ™Ð$4Ô5ð ×Ñ˜q !Ô$ò!Ðð ˆIÛ-ðØŸ)™)×+Ñ+¨HÓ5×:Ñ:CØ—~‘~¨d~×3Ò3ØŸ	™	¨˜	Ô-Ø$(˜	Ùñ 4ñ .÷ ÜÐ <Ó=Ð=à×Ñ˜q !Ô$à×!Ñ! +Ô.ÜK‰KÐ<Ô=Ùøð[Ûûð,Ûûô, !ô ?Ü—N‘NÐ%9¸!¸Ð#=×>Ñ>ûð?ûð*Úûô ô 	ÜL‰LÐ8¸¸Ð<Ô=Ø×!Ñ! /Ô2Ýûð	ús§   ‚A/M Á2ALÃM Ã(M Ã:?LÄ9M ÅAM Æ#7M ÇA2L! ÉM É+AMÊ<M Ë
AM ÌLÌM ÌLÌM Ì!MÌ,M	ÍM Í	MÍM ÍMÍM ÍNÍ$)NÎN)r   r   r   )T)NN)Ú__name__Ú
__module__Ú__qualname__Ú__firstlineno__Ú__doc__ÚPLATFORM_NAMEr_   rJ   r   r4   r;   rR   ri   ro   r„   Ú__static_attributes__Ú__classdictcell__Ú__classcell__)r   r   s   @@r   r   r      s`   ù‡ € Ùà€MØ0€IØ*€H÷9õ 9ò8òt÷,$ð $÷LBð B÷Hð ÷:s÷ sò sr   r   )rŠ   r   ÚtimeÚpathlibr   Úbaser   Úutils.loggerr   r†   r&   r   © r   r   Ú<module>r”      s3   ðñó 
Û Ý Ý Ý #á	HÓ	€ôWZö Wr   



=========================================
FILE PATH: C:\Users\libasse.dia\Documents\budget\budgetfamille-social-bot\platforms\__pycache__\instagram.cpython-314.pyc
=========================================
+
    üéliì&  ã                   ód   € R t ^ RIt^ RIt^ RIHt ^RIHt ^ RIHt ]! ]	4      t
 ! R R]4      tR# )z´
Budget Famille - Instagram Poster (Fixed)
==========================================
Module pour publier automatiquement sur Instagram.
Meilleure gestion des cookies et timeouts.
N)ÚPath)Ú
BasePoster)Ú
get_loggerc                   ó˜   a a€ ] tR t^t oRtRtRtRtRV3R lV 3R llltR t	R t
V3R	 lR
 ltV3R lR ltRV3R lR lltRtVtV ;t# )ÚInstagramPosterz)Poster pour Instagram via la version web.Ú	instagramz)https://www.instagram.com/accounts/login/zhttps://www.instagram.com/c                ó    <€ V ^8„  d   QhRS[ /# )é   Úheadless©Úbool)ÚformatÚ__classdict__s   "€ÚUC:\Users\libasse.dia\Documents\budget\budgetfamille-social-bot\platforms\instagram.pyÚ__annotate__ÚInstagramPoster.__annotate__   s   ø€ ÷ 4ñ 4¡ñ 4ó    c                ó’   <€ \         SV `  V4       \        P                  ! R 4      V n        \        P                  ! R4      V n        R# )ÚINSTAGRAM_USERÚINSTAGRAM_PASSN)ÚsuperÚ__init__ÚosÚgetenvÚusernameÚpassword)Úselfr
   Ú	__class__s   &&€r   r   ÚInstagramPoster.__init__   s2   ø€ Ü‰Ñ˜Ô"ÜŸ	š	Ð"2Ó3ˆŒÜŸ	š	Ð"2Ó3ˆŽr   c                ó$  € . ROpV F}  p V P                   P                  V4      P                  pVP                  RR7      '       d=   VP	                  RR7       V P                  ^^4       \        P                  R4        R# K  	  R#     Kˆ  ; i)u$   GÃ¨re le popup de cookies Instagram.é¸  ©ÚtimeoutT©Úforceu   Popup cookies Instagram fermÃ©F)z$button:has-text("Allow all cookies")z-button:has-text("Autoriser tous les cookies")zbutton:has-text("Accept All")z button:has-text("Tout accepter")zbutton:has-text("Accept")zbutton:has-text("Accepter")z7button:has-text("Allow essential and optional cookies"))ÚpageÚlocatorÚfirstÚ
is_visibleÚclickÚ_random_delayÚloggerÚinfo)r   Úcookie_selectorsÚselectorÚbtns   &   r   Ú_handle_cookie_popupÚ$InstagramPoster._handle_cookie_popup   sˆ   € ò
Ðó )ˆHðØ—i‘i×'Ñ'¨Ó1×7Ñ7Ø—>‘>¨$>×/Ò/Ø—I‘I DIÔ)Ø×&Ñ& q¨!Ô,Ü—K‘KÐ @ÔAÚñ	 0ñ )ñ øðÚús   ‹A6B
Â
Bc                ó  € V P                  4        . ROpV Fg  p V P                  P                  V4      P                  pVP	                  RR7      '       d'   VP                  RR7       V P                  R^4       Kg  Ki  	  R#     Kr  ; i)z$Ferme les popups Instagram courants.iÐ  r!   Tr#   ç      à?N)zbutton:has-text("Not Now")z!button:has-text("Pas maintenant")zbutton:has-text("Plus tard")zbutton:has-text("Cancel")z[aria-label="Close"]z[aria-label="Fermer"])r0   r%   r&   r'   r(   r)   r*   )r   ÚpopupsÚpopup_selectorÚpopups   &   r   Ú_dismiss_popupsÚInstagramPoster._dismiss_popups5   s   € à×!Ñ!Ô#ò
ˆó %ˆNðØŸ	™	×)Ñ)¨.Ó9×?Ñ?Ø×#Ñ#¨DÐ#×1Ò1Ø—K‘K dKÔ+Ø×&Ñ& s¨AÖ.ñ 2ó %øðÚús   ›A!BÂB	c                ó    <€ V ^8„  d   QhRS[ /# ©r	   Úreturnr   )r   r   s   "€r   r   r   K   s   ø€ ÷ ñ ¡$ñ r   c                ó  €  V P                   P                  V P                  RRR7       V P                  ^^4       V P	                  4        V P                  4        RV P                   P                  P                  4       9   d   R# . R	OpV F5  p V P                   P                  V4      P                  4       ^ 8”  d    R# K7  	  R#     K@  ; i  \         d$   p\        P                  RT 24        Rp?R# Rp?ii ; i)
u*   VÃ©rifie si on est connectÃ© Ã  Instagram.Údomcontentloadedé`ê  ©Ú
wait_untilr"   ÚloginFTu*   Erreur vÃ©rification connexion Instagram: N)úsvg[aria-label="New post"]ú&svg[aria-label="Nouvelle publication"]z[aria-label="Home"]z[aria-label="Accueil"])r%   ÚgotoÚHOME_URLr*   r0   r7   ÚurlÚlowerr&   ÚcountÚ	Exceptionr+   Úerror)r   Ú
indicatorsÚ	indicatorÚes   &   r   Ú_check_logged_inÚ InstagramPoster._check_logged_inK   sß   € ð	ØI‰IN‰N˜4Ÿ=™=Ð5GÐQVˆNÔWØ×Ñ˜q !Ô$à×%Ñ%Ô'Ø× Ñ Ô"à˜$Ÿ)™)Ÿ-™-×-Ñ-Ó/Ô/ÙòˆJó (	ðØ—y‘y×(Ñ(¨Ó3×9Ñ9Ó;¸aÔ?Ú#ñ @ñ (ñ øðÚûô ô 	ÜL‰LÐEÀaÀSÐIÔJÝûð	ús<   ‚BC Â	C Â.CÂ?C ÃC ÃCÃ
C ÃC>ÃC9Ã9C>c                ó    <€ V ^8„  d   QhRS[ /# r:   r   )r   r   s   "€r   r   r   k   s   ø€ ÷ ;ñ ;™ñ ;r   c                óÆ  €  \         P                  R4       V P                  P                  V P                  RRR7       V P                  ^^4       V P                  4        V P                  ^^4       V P                  P                  RRRR7       V P                  P                  R4      pVP                  R	R
7       V P                  RR4       VP                  V P                  ^2R7       V P                  R^4       V P                  P                  R4      pVP                  R	R
7       V P                  RR4       VP                  V P                  ^2R7       V P                  R^4       V P                  P                  R4      pVP                  R	R
7       V P                  ^^4       RV P                  P                  P                  4       9   g*   RV P                  P                  P                  4       9   d>   \         P                  R4       \         P                  R4       V P!                  R4       R# V P#                  4        V P                  ^^4       V P%                  4       '       d   \         P                  R4       R	# \         P'                  R4       R#   \(         d5   p\         P'                  RT 24       T P!                  R4        Rp?R# Rp?ii ; i)u   Se connecte Ã  Instagram.u   Connexion Ã  Instagram...r=   r>   r?   zinput[name="username"]Úvisiblei˜:  )Ústater"   Tr#   g333333Ó?r3   ©Údelayzinput[name="password"]zbutton[type="submit"]Ú	challengeÚ
suspiciousu8   âš ï¸ VÃ©rification de sÃ©curitÃ© Instagram dÃ©tectÃ©e!z$Connectez-vous manuellement d'abord.Úsecurity_challengeFu    âœ… Connexion Instagram rÃ©ussieu    Ã‰chec de la connexion InstagramzErreur connexion Instagram: Úlogin_errorN)r+   r,   r%   rD   Ú	LOGIN_URLr*   r0   Úwait_for_selectorr&   r)   Útyper   r   rF   rG   ÚwarningÚ_take_screenshotr7   rN   rJ   rI   )r   Úusername_fieldÚpassword_fieldÚlogin_buttonrM   s   &    r   Ú_loginÚInstagramPoster._logink   sR  € ð9	ÜK‰KÐ3Ô4àI‰IN‰N˜4Ÿ>™>Ð6HÐRWˆNÔXØ×Ñ˜q !Ô$ð ×%Ñ%Ô'Ø×Ñ˜q !Ô$ð I‰I×'Ñ'Ð(@È	Ð[`Ð'Ôað "ŸY™Y×.Ñ.Ð/GÓHˆNØ× Ñ  tÐ Ô,Ø×Ñ˜s CÔ(Ø×Ñ §¡°RÐÔ8à×Ñ˜s AÔ&ð "ŸY™Y×.Ñ.Ð/GÓHˆNØ× Ñ  tÐ Ô,Ø×Ñ˜s CÔ(Ø×Ñ §¡°RÐÔ8à×Ñ˜s AÔ&ð  Ÿ9™9×,Ñ,Ð-DÓEˆLØ×Ñ TÐÔ*à×Ñ˜q !Ô$ð ˜dŸi™iŸm™m×1Ñ1Ó3Ô3°|ÀtÇyÁyÇ}Á}×GZÑGZÓG\Ô7\Ü—‘ÐYÔZÜ—‘ÐEÔFØ×%Ñ%Ð&:Ô;Ùð × Ñ Ô"à×Ñ˜q !Ô$à×$Ñ$×&Ò&Ü—‘Ð>Ô?ÙäL‰LÐ;Ô<Ùøäô 	ÜL‰LÐ7¸°sÐ;Ô<Ø×!Ñ! -Ô0Ýûð	ús*   ‚H7J! È;7J! É3J! Ê
J! Ê!K Ê,)KËK c                ó2   <€ V ^8„  d   QhRS[ RS[ RS[ RS[/# )r	   ÚtextÚ
image_pathÚ
video_pathr;   )Ústrr   )r   r   s   "€r   r   r   ¨   s0   ø€ ÷ kñ k™Sð k©cð kÁcð kÑUYñ kr   c                óF  €  T;'       g    TpV'       g   \         P                  R4       R# \        V4      P                  4       '       g   \         P                  RV 24       R# \         P	                  R4       V P
                  P                  V P                  RRR7       V P                  ^^4       V P                  4        . ROpRpV Fh  p V P
                  P                  V4      P                  pVP                  RR	7      '       d(   VP                  R
4      p	V	P                  RR7       Rp MKj  	  V'       g9    V P
                  P                  R4      P                  P                  RR7       RpV'       g   \        R4      hV P                  ^^4       V P
                  P                  R4      P                  p
V
P                  V4       V P                  ^^4       V P
                  P                  R4      P                  pVP                  RR	7      '       d   VP                  RR7       V P                  ^^4       V P
                  P                  R4      P                  pVP                  RR	7      '       d   VP                  RR7       V P                  ^^4       . ROpV Fz  p V P
                  P                  V4      P                  pVP                  RR	7      '       d:   VP                  RR7       V P                  R^4       VP!                  V^R7        MK|  	  V P                  ^^4       V P
                  P                  R4      P                  pVP                  RR	7      '       d   VP                  RR7       V P                  ^^
4       V P#                  R4       \         P	                  R4       R#     EK   ; i    EL\; i    EK0  ; i  \         d5   p\         P                  RT 24       T P#                  R4        Rp?R# Rp?ii ; i)zPublie un post sur Instagram.u+   Instagram requiert une image ou une vidÃ©o!Fu   Fichier mÃ©dia non trouvÃ©: zPublication sur Instagram...r=   r>   r?   r    r!   zxpath=..Tr#   u0   span:has-text("CrÃ©er"), span:has-text("Create")u   Bouton CrÃ©er non trouvÃ©zinput[type="file"]z3button:has-text("Next"), button:has-text("Suivant")iˆ  r3   rT   z5button:has-text("Share"), button:has-text("Partager")Ú	publishedu#   âœ… Publication Instagram terminÃ©ezErreur publication Instagram: Úpublish_errorN)rB   rC   z[aria-label="Create"]u   [aria-label="CrÃ©er"])ztextarea[aria-label*="caption"]u    textarea[aria-label*="lÃ©gende"]z[contenteditable="true"])r+   rJ   r   Úexistsr,   r%   rD   rE   r*   r7   r&   r'   r(   r)   rI   Úset_input_filesr\   r^   )r   re   rf   rg   Ú
media_pathÚcreate_selectorsÚclickedr.   ÚelementÚparentÚ
file_inputÚnext_btnÚcaption_selectorsÚfieldÚ	share_btnrM   s   &&&&            r   Ú_publishÚInstagramPoster._publish¨   sŽ  € ði	Ø#×1Ð1 zˆJçÜ—‘ÐJÔKÙä˜
Ó#×*Ñ*×,Ò,Ü—‘Ð;¸J¸<ÐHÔIÙäK‰KÐ6Ô7àI‰IN‰N˜4Ÿ=™=Ð5GÐQVˆNÔWØ×Ñ˜q !Ô$à× Ñ Ô"ò Ðð ˆGÛ,ðØ"Ÿi™i×/Ñ/°Ó9×?Ñ?GØ×)Ñ)°$Ð)×7Ò7Ø!(§¡°Ó!<˜ØŸ™¨4˜Ô0Ø"&˜Ùñ	 8ñ -÷ ðØ—I‘I×%Ñ%Ð&XÓY×_Ñ_×eÑeÐlpÐeÔqØ"G÷ ÜÐ ;Ó<Ð<à×Ñ˜q !Ô$ð Ÿ™×*Ñ*Ð+?Ó@×FÑFˆJØ×&Ñ& zÔ2à×Ñ˜q !Ô$ð —y‘y×(Ñ(Ð)^Ó_×eÑeˆHØ×"Ñ"¨4Ð"×0Ò0Ø—‘ TÔ*à×Ñ˜q !Ô$ð —y‘y×(Ñ(Ð)^Ó_×eÑeˆHØ×"Ñ"¨4Ð"×0Ò0Ø—‘ TÔ*à×Ñ˜q !Ô$ò!Ðó .ðØ ŸI™I×-Ñ-¨hÓ7×=Ñ=EØ×'Ñ'°Ð'×5Ò5ØŸ™¨$˜Ô/Ø×*Ñ*¨3°Ô2ØŸ
™
 4¨r˜
Ô2Ùñ	 6ñ .ð ×Ñ˜q !Ô$ð Ÿ	™	×)Ñ)Ð*aÓb×hÑhˆIØ×#Ñ#¨DÐ#×1Ò1Ø—‘ dÔ+à×Ñ˜q "Ô%à×!Ñ! +Ô.ÜK‰KÐ=Ô>ÙøðCÛûðÚûðTÛûô ô 	ÜL‰LÐ9¸!¸Ð=Ô>Ø×!Ñ! /Ô2Ýûð	ús“   ‚O! ‹
O! –O! ­7O! Á&A*O! ÃA"OÄ3O! Å7O Å9O! ÆB!O! È#A O! Ê-O! Ê2A4OÌ&AO! Í;A
O! ÏOÏ	O! ÏOÏO! ÏOÏO! Ï!P Ï,)PÐP )r   r   )T)NN)Ú__name__Ú
__module__Ú__qualname__Ú__firstlineno__Ú__doc__ÚPLATFORM_NAMErZ   rE   r   r0   r7   rN   rb   rx   Ú__static_attributes__Ú__classdictcell__Ú__classcell__)r   r   s   @@r   r   r      sS   ù‡ € Ù3à€MØ;€IØ+€H÷4õ 4ò
ò0÷,ð ÷@;ð ;÷zk÷ kò kr   r   )r~   r   ÚtimeÚpathlibr   Úbaser   Úutils.loggerr   rz   r+   r   © r   r   Ú<module>rˆ      s3   ðñó 
Û Ý Ý Ý #á	HÓ	€ôBjö Br   



=========================================
FILE PATH: C:\Users\libasse.dia\Documents\budget\budgetfamille-social-bot\platforms\__pycache__\linkedin.cpython-314.pyc
=========================================
+
    üéliÎ  ã                   ód   € R t ^ RIt^ RIt^ RIHt ^RIHt ^ RIHt ]! ]	4      t
 ! R R]4      tR# )z±
Budget Famille - LinkedIn Poster (Fixed)
=========================================
Module pour publier automatiquement sur LinkedIn.
Meilleure gestion des cookies et timeouts.
N)ÚPath)Ú
BasePoster)Ú
get_loggerc                   ó’   a a€ ] tR t^t oRtRtRtRtRV3R lV 3R llltR t	V3R lR	 lt
V3R
 lR ltRV3R lR lltRtVtV ;t# )ÚLinkedInPosterzPoster pour LinkedIn.Úlinkedinzhttps://www.linkedin.com/loginzhttps://www.linkedin.com/feed/c                ó    <€ V ^8„  d   QhRS[ /# )é   Úheadless©Úbool)ÚformatÚ__classdict__s   "€ÚTC:\Users\libasse.dia\Documents\budget\budgetfamille-social-bot\platforms\linkedin.pyÚ__annotate__ÚLinkedInPoster.__annotate__   s   ø€ ÷ 3ñ 3¡ñ 3ó    c                ó’   <€ \         SV `  V4       \        P                  ! R 4      V n        \        P                  ! R4      V n        R# )ÚLINKEDIN_EMAILÚLINKEDIN_PASSN)ÚsuperÚ__init__ÚosÚgetenvÚemailÚpassword)Úselfr
   Ú	__class__s   &&€r   r   ÚLinkedInPoster.__init__   s1   ø€ Ü‰Ñ˜Ô"Ü—Y’YÐ/Ó0ˆŒ
ÜŸ	š	 /Ó2ˆŽr   c                ó$  € . ROpV F}  p V P                   P                  V4      P                  pVP                  RR7      '       d=   VP	                  RR7       V P                  ^^4       \        P                  R4        R# K  	  R#     Kˆ  ; i)u#   GÃ¨re le popup de cookies LinkedIn.iÐ  ©ÚtimeoutT©Úforceu   Popup cookies LinkedIn fermÃ©F)z button:has-text("Accept & Join")z(button:has-text("Accepter et rejoindre")zbutton:has-text("Accept")zbutton:has-text("Accepter")zbutton[action-type="ACCEPT"]z.artdeco-global-alert__action)ÚpageÚlocatorÚfirstÚ
is_visibleÚclickÚ_random_delayÚloggerÚinfo)r   Úcookie_selectorsÚselectorÚbtns   &   r   Ú_handle_cookie_popupÚ#LinkedInPoster._handle_cookie_popup   sˆ   € ò
Ðó )ˆHðØ—i‘i×'Ñ'¨Ó1×7Ñ7Ø—>‘>¨$>×/Ò/Ø—I‘I DIÔ)Ø×&Ñ& q¨!Ô,Ü—K‘KÐ ?Ô@Úñ	 0ñ )ñ øðÚús   ‹A6B
Â
Bc                ó    <€ V ^8„  d   QhRS[ /# ©r	   Úreturnr   )r   r   s   "€r   r   r   4   s   ø€ ÷ ñ ¡$ñ r   c                óþ  €  V P                   P                  V P                  RRR7       V P                  ^^4       V P	                  4        RV P                   P
                  P                  4       9   g*   RV P                   P
                  P                  4       9   d   R# V P                   P                  R4      P                  4       ^ 8„  pV#   \         d$   p\        P                  RT 24        R	p?R# R	p?ii ; i)
u)   VÃ©rifie si on est connectÃ© Ã  LinkedIn.Údomcontentloadedé`ê  ©Ú
wait_untilr!   ÚloginÚ
checkpointFzkbutton[aria-label*="Start a post"], button[aria-label*="Commencer un post"], .share-box-feed-entry__triggeru    Erreur vÃ©rification connexion: N)r$   ÚgotoÚFEED_URLr)   r/   ÚurlÚlowerr%   ÚcountÚ	Exceptionr*   Úerror)r   Ú	logged_inÚes   &  r   Ú_check_logged_inÚLinkedInPoster._check_logged_in4   sÚ   € ð	ØI‰IN‰N˜4Ÿ=™=Ð5GÐQVˆNÔWØ×Ñ˜q !Ô$à×%Ñ%Ô'à˜$Ÿ)™)Ÿ-™-×-Ñ-Ó/Ô/°<À4Ç9Á9Ç=Á=×CVÑCVÓCXÔ3XÙàŸ	™	×)Ñ)ð  +Xó  Y÷  _ñ  _ó  að  deñ  eˆIàÐøäô 	ÜL‰LÐ;¸A¸3Ð?Ô@Ýûð	ús   ‚BC Â -C ÃC<ÃC7Ã7C<c                ó    <€ V ^8„  d   QhRS[ /# r2   r   )r   r   s   "€r   r   r   G   s   ø€ ÷ 6ñ 6™ñ 6r   c                ó  €  \         P                  R4       RV P                  P                  P	                  4       9  d;   V P                  P                  V P                  RRR7       V P                  ^^4       V P                  4        V P                  P                  RRRR	7       V P                  P                  R4      pVP                  R
R7       VP                  R4       V P                  R^4       VP                  V P                  ^2R7       V P                  R^4       V P                  P                  R4      pVP                  R
R7       VP                  R4       V P                  R^4       VP                  V P                  ^2R7       V P                  RR4       V P                  P                  RR
R7       V P                  ^^4       RV P                  P                  P	                  4       9   g*   RV P                  P                  P	                  4       9   d>   \         P!                  R4       \         P!                  R4       V P#                  R4       R# RV P                  P                  P	                  4       9   d   \         P                  R4       R
# V P                  ^^4       V P%                  4       #   \&         d5   p\         P)                  RT 24       T P#                  R4        Rp?R# Rp?ii ; i)u   Se connecte Ã  LinkedIn.u   Connexion Ã  LinkedIn...r9   r5   r6   r7   z	#usernameÚvisibleé'  ©Ústater!   Tr"   Ú ç      à?©Údelayz	#passwordg      ø?zbutton[type="submit"]r:   Ú	challengeu)   âš ï¸ Challenge de sÃ©curitÃ© dÃ©tectÃ©!uB   Connectez-vous manuellement d'abord sur LinkedIn, puis rÃ©essayez.Úsecurity_challengeFÚfeedu   âœ… Connexion LinkedIn rÃ©ussiezErreur connexion LinkedIn: Úlogin_errorN)r*   r+   r$   r=   r>   r;   Ú	LOGIN_URLr)   r/   Úwait_for_selectorr%   r(   ÚfillÚtyper   r   ÚwarningÚ_take_screenshotrD   r@   rA   )r   Úemail_fieldÚpassword_fieldrC   s   &   r   Ú_loginÚLinkedInPoster._loginG   s[  € ð4	ÜK‰KÐ2Ô3à˜dŸi™iŸm™m×1Ñ1Ó3Ô3Ø—	‘	—‘˜tŸ~™~Ð:LÐV[Ô\Ø×"Ñ" 1 aÔ(à×%Ñ%Ô'ð I‰I×'Ñ'¨¸9ÈeÐ'ÔTð Ÿ)™)×+Ñ+¨KÓ8ˆKØ×Ñ DÐÔ)Ø×Ñ˜RÔ Ø×Ñ˜s AÔ&Ø×Ñ˜TŸZ™Z¨rÐÔ2à×Ñ˜s AÔ&ð "ŸY™Y×.Ñ.¨{Ó;ˆNØ× Ñ  tÐ Ô,Ø×Ñ Ô#Ø×Ñ˜s AÔ&Ø×Ñ §¡°RÐÔ8à×Ñ˜s CÔ(ð I‰IO‰OÐ3¸4ˆOÔ@à×Ñ˜q !Ô$ð ˜tŸy™yŸ}™}×2Ñ2Ó4Ô4¸ÀtÇyÁyÇ}Á}×GZÑGZÓG\Ô8\Ü—‘ÐJÔKÜ—‘ÐcÔdØ×%Ñ%Ð&:Ô;Ùà˜Ÿ™Ÿ™×,Ñ,Ó.Ô.Ü—‘Ð=Ô>Ùà×Ñ˜q !Ô$Ø×(Ñ(Ó*Ð*øäô 	ÜL‰LÐ6°q°cÐ:Ô;Ø×!Ñ! -Ô0Ýûð	ús$   ‚I K É$>K Ê$!K ËLË)L Ì Lc                ó2   <€ V ^8„  d   QhRS[ RS[ RS[ RS[/# )r	   ÚtextÚ
image_pathÚ
video_pathr3   )Ústrr   )r   r   s   "€r   r   r      s0   ø€ ÷ Qñ Q™Sð Q©cð QÁcð QÑUYñ Qr   c                ó   €  \         P                  R4       V P                  P                  V P                  RRR7       V P                  ^^4       . ROpRpV FW  p V P                  P                  V4      P                  pVP                  RR7      '       d   VP                  RR	7       Rp MKY  	  V'       g   \        R
4      hV P                  ^^4       V P                  P                  R4      P                  pVP                  RRR7       VP                  RR	7       V P                  R^4       VP                  V^R7       V P                  ^^4       V'       d«   \        V4      P                  4       '       dŒ   \         P                  RV 24        V P                  P                  R4      P                  p	V	P                  4       ^ 8”  d9   V	P!                  V4       V P                  ^^4       \         P                  R4       V P                  ^^4       . ROpV Fk  p V P                  P                  V4      P                  pVP                  4       '       d-   VP%                  4       '       d   VP                  RR	7        MKk  Km  	  V P                  ^^4       V P'                  R4       \         P                  R4       R#     EKz  ; i  \         d#   p
\         P#                  RT
 24        Rp
?
LòRp
?
ii ; i    Kç  ; i  \         d5   p
\         P)                  RT
 24       T P'                  R4        Rp
?
R# Rp
?
ii ; i)zPublie un post sur LinkedIn.zPublication sur LinkedIn...r5   r6   r7   Fiˆ  r    Tr"   u&   Bouton 'Commencer un post' non trouvÃ©z.ql-editor, [role="textbox"]rH   rI   rJ   rM   rN   zAjout de l'image: zinput[type="file"]u   Image ajoutÃ©eu   Ã‰chec ajout image: NÚ	publishedu"   âœ… Publication LinkedIn terminÃ©ezErreur publication LinkedIn: Úpublish_error)z"button[aria-label*="Start a post"]z'button[aria-label*="Commencer un post"]z.share-box-feed-entry__trigger)z$button.share-actions__primary-actionzbutton:has-text("Post")zbutton:has-text("Publier"))r*   r+   r$   r;   r<   r)   r%   r&   r'   r(   r@   Úwait_forrW   r   Úexistsr?   Úset_input_filesrX   Ú
is_enabledrY   rA   )r   r_   r`   ra   Ústart_post_selectorsÚclickedr-   ÚelementÚeditorÚ
file_inputrC   Úpublish_selectorsr.   s   &&&&         r   Ú_publishÚLinkedInPoster._publish   sÕ  € ðO	ÜK‰KÐ5Ô6àI‰IN‰N˜4Ÿ=™=Ð5GÐQVˆNÔWØ×Ñ˜q !Ô$ò$Ð ð ˆGÛ0ðØ"Ÿi™i×/Ñ/°Ó9×?Ñ?GØ×)Ñ)°$Ð)×7Ò7ØŸ™¨D˜Ô1Ø"&˜Ùñ 8ñ 1÷ ÜÐ HÓIÐIà×Ñ˜q !Ô$ð —Y‘Y×&Ñ&Ð'EÓF×LÑLˆFØO‰O )°UˆOÔ;àL‰L˜tˆLÔ$Ø×Ñ˜s AÔ&ØK‰K˜ BˆKÔ'à×Ñ˜q !Ô$÷ œd :Ó.×5Ñ5×7Ò7Ü—‘Ð0°°Ð=Ô>ð?Ø!%§¡×!2Ñ!2Ð3GÓ!H×!NÑ!NJØ!×'Ñ'Ó)¨AÔ-Ø"×2Ñ2°:Ô>Ø×*Ñ*¨1¨aÔ0ÜŸ™Ð$4Ô5ð ×Ñ˜q !Ô$ò!Ðó .ðØŸ)™)×+Ñ+¨HÓ5×;Ñ;CØ—~‘~×'Ò'¨C¯N©N×,<Ò,<ØŸ	™	¨˜	Ô-Ùñ -=Ñ'ñ .ð ×Ñ˜q !Ô$à×!Ñ! +Ô.ÜK‰KÐ<Ô=ÙøðkÛûô6 !ô ?Ü—N‘NÐ%9¸!¸Ð#=×>Ñ>ûð?ûð$Úûô ô 	ÜL‰LÐ8¸¸Ð<Ô=Ø×!Ñ! /Ô2Ýûð	ús‰   ‚AL ÁAKÂ.L Â<B%L Å"7L ÆA2K ÈL È(ALÉ9LÊA L ËKËL ËLË!K>Ë9L Ë>LÌL ÌLÌL ÌMÌ)MÍM)r   r   )T)NN)Ú__name__Ú
__module__Ú__qualname__Ú__firstlineno__Ú__doc__ÚPLATFORM_NAMErT   r<   r   r/   rD   r\   rp   Ú__static_attributes__Ú__classdictcell__Ú__classcell__)r   r   s   @@r   r   r      sM   ù‡ € Ùà€MØ0€IØ/€H÷3õ 3ò
÷.ð ÷&6ð 6÷pQ÷ Qò Qr   r   )rv   r   ÚtimeÚpathlibr   Úbaser   Úutils.loggerr   rr   r*   r   © r   r   Ú<module>r€      s3   ðñó 
Û Ý Ý Ý #á	HÓ	€ôZö r   



=========================================
FILE PATH: C:\Users\libasse.dia\Documents\budget\budgetfamille-social-bot\platforms\__pycache__\twitter.cpython-314.pyc
=========================================
+
    üéliß1  ã                   óh   € R t ^ RIt^ RIt^ RIHt ^RIHtHt ^ RIH	t	 ]	! ]
4      t ! R R]4      tR# )z¯
Budget Famille - Twitter/X Poster (Fixed)
==========================================
Module pour publier automatiquement sur X (Twitter).
Support de la connexion via Google.
N)ÚPath)Ú
BasePosterÚPostContent)Ú
get_loggerc                   óª   a a€ ] tR t^t oRtRtRtRtRV3R lV 3R llltR t	R t
V3R	 lR
 ltV3R lR ltV3R lR ltRV3R lR lltRtVtV ;t# )ÚTwitterPosterzPoster pour X (Twitter).Útwitterzhttps://x.com/i/flow/loginzhttps://x.com/homec                ó    <€ V ^8„  d   QhRS[ /# )é   Úheadless©Úbool)ÚformatÚ__classdict__s   "€ÚSC:\Users\libasse.dia\Documents\budget\budgetfamille-social-bot\platforms\twitter.pyÚ__annotate__ÚTwitterPoster.__annotate__   s   ø€ ÷ [ñ [¡ñ [ó    c                óX  <€ \         SV `  V4       \        P                  ! R 4      V n        \        P                  ! R4      V n        \        P                  ! R4      V n        \        P                  ! R4      V n        \        P                  ! RR4      P                  4       R8H  V n	        R# )ÚTWITTER_USERÚTWITTER_PASSÚGOOGLE_EMAILÚGOOGLE_PASSÚTWITTER_USE_GOOGLEÚfalseÚtrueN)
ÚsuperÚ__init__ÚosÚgetenvÚusernameÚpasswordÚgoogle_emailÚgoogle_passwordÚlowerÚuse_google_login)Úselfr   Ú	__class__s   &&€r   r   ÚTwitterPoster.__init__   su   ø€ Ü‰Ñ˜Ô"ÜŸ	š	 .Ó1ˆŒÜŸ	š	 .Ó1ˆŒÜŸIšI nÓ5ˆÔÜ!Ÿyšy¨Ó7ˆÔÜ "§	¢	Ð*>ÀÓ H× NÑ NÓ PÐTZÑ ZˆÖr   c                ó$  € . ROpV F}  p V P                   P                  V4      P                  pVP                  RR7      '       d=   VP	                  RR7       V P                  ^^4       \        P                  R4        R# K  	  R#     Kˆ  ; i)u   GÃ¨re les popups de cookies.iÐ  ©ÚtimeoutT©Úforceu   Popup cookies fermÃ©F)z%button:has-text("Accept all cookies")z,button:has-text("Accepter tous les cookies")zbutton:has-text("Accept")zbutton:has-text("Accepter")z$[data-testid="cookie-banner-accept"])ÚpageÚlocatorÚfirstÚ
is_visibleÚclickÚ_random_delayÚloggerÚinfo)r&   Úcookie_selectorsÚselectorÚbtns   &   r   Ú_handle_cookie_popupÚ"TwitterPoster._handle_cookie_popup    sˆ   € ò
Ðó )ˆHðØ—i‘i×'Ñ'¨Ó1×7Ñ7Ø—>‘>¨$>×/Ò/Ø—I‘I DIÔ)Ø×&Ñ& q¨!Ô,Ü—K‘KÐ 6Ô7Úñ	 0ñ )ñ øðÚús   ‹A6B
Â
Bc                ó  € V P                  4        . ROpV Fg  p V P                  P                  V4      P                  pVP	                  RR7      '       d'   VP                  RR7       V P                  R^4       Kg  Ki  	  R#     Kr  ; i)zFerme les popups X courants.iè  r*   Tr,   ç      à?N)z+div[data-testid="confirmationSheetConfirm"]z[aria-label="Close"]z[aria-label="Fermer"]zbutton:has-text("Not now")z!button:has-text("Pas maintenant")zbutton:has-text("Maybe later")zbutton:has-text("Skip for now"))r9   r.   r/   r0   r1   r2   r3   )r&   ÚpopupsÚpopup_selectorÚpopups   &   r   Ú_dismiss_popupsÚTwitterPoster._dismiss_popups6   s   € à×!Ñ!Ô#ò
ˆó %ˆNðØŸ	™	×)Ñ)¨.Ó9×?Ñ?Ø×#Ñ#¨DÐ#×1Ò1Ø—K‘K dKÔ+Ø×&Ñ& s¨AÖ.ñ 2ó %øðÚús   ›A!BÂB	c                ó    <€ V ^8„  d   QhRS[ /# ©r
   Úreturnr   )r   r   s   "€r   r   r   M   s   ø€ ÷ ñ ¡$ñ r   c                ó4  €  V P                   P                  V P                  RRR7       V P                  ^^4       V P	                  4        RV P                   P
                  P                  4       9   g*   RV P                   P
                  P                  4       9   d   R# . R
OpV F5  p V P                   P                  V4      P                  4       ^ 8”  d    R# K7  	  R#     K@  ; i  \         d$   p\        P                  RT 24        R	p?R# R	p?ii ; i)u"   VÃ©rifie si on est connectÃ© Ã  X.Údomcontentloadedé`ê  ©Ú
wait_untilr+   ÚloginÚflowFTu"   Erreur vÃ©rification connexion X: N)ú'[data-testid="SideNav_NewTweet_Button"]z[aria-label="Post"]z[aria-label="Poster"]ú[data-testid="tweetTextarea_0"])r.   ÚgotoÚHOME_URLr3   r9   Úurlr$   r/   ÚcountÚ	Exceptionr4   Úerror)r&   Ú
indicatorsÚ	indicatorÚes   &   r   Ú_check_logged_inÚTwitterPoster._check_logged_inM   së   € ð	ØI‰IN‰N˜4Ÿ=™=Ð5GÐQVˆNÔWØ×Ñ˜q !Ô$à×%Ñ%Ô'à˜$Ÿ)™)Ÿ-™-×-Ñ-Ó/Ô/°6¸T¿Y¹Y¿]¹]×=PÑ=PÓ=RÔ3RÙòˆJó (	ðØ—y‘y×(Ñ(¨Ó3×9Ñ9Ó;¸aÔ?Ú#ñ @ñ (ñ øðÚûô ô 	ÜL‰LÐ=¸a¸SÐAÔBÝûð	ús<   ‚BC) Â 	C) Â*.C!ÃC) ÃC) Ã!C&Ã#C) Ã)DÃ4DÄDc                ó    <€ V ^8„  d   QhRS[ /# rC   r   )r   r   s   "€r   r   r   l   s   ø€ ÷ 4ñ 4¡Dñ 4r   c                óì  €  \         P                  R4       . ROpV FS  p V P                  P                  V4      P                  pVP                  RR7      '       d   VP                  4         MKU  	  V P                  ^^4       V P                  P                  P                  4       ;_uu_ 4       p RRR4       XP                  pVP                  R4       VP                  R4      pVP                  V P                  4       VP                  R4      P                  4        V P                  ^^4       VP                  R4      pVP                  R	R
R7       VP                  V P                  4       VP                  R4      P                  4        V P                  ^^4       R#     EK‘  ; i  + '       g   i     EL; i  \          d$   p\         P#                  RT 24        Rp?R# Rp?ii ; i)zSe connecte via Google.u   Connexion Ã  X via Google...é¸  r*   NrF   zinput[type="email"]ú3button:has-text("Next"), button:has-text("Suivant")úinput[type="password"]Úvisiblei'  ©Ústater+   TzErreur connexion Google: F)z&button:has-text("Sign in with Google")z+button:has-text("Se connecter avec Google")zdiv[data-provider="google"]z"[aria-label="Sign in with Google"])r4   r5   r.   r/   r0   r1   r2   r3   ÚcontextÚexpect_pageÚvalueÚwait_for_load_stateÚfillr"   Úwait_forr#   rR   rS   )	r&   Úgoogle_btn_selectorsr7   r8   Únew_page_infoÚgoogle_pageÚemail_fieldÚpassword_fieldrV   s	   &        r   Ú_login_with_googleÚ TwitterPoster._login_with_googlel   s°  € ð2	ÜK‰KÐ6Ô7ò$Ð ó 1ðØŸ)™)×+Ñ+¨HÓ5×;Ñ;CØ—~‘~¨d~×3Ò3ØŸ	™	œÙñ 4ñ 1ð ×Ñ˜q !Ô$ð —‘×"Ñ"×.Ñ.×0Ô0°MØ÷ 1ð (×-Ñ-ˆKØ×+Ñ+Ð,>Ô?ð &×-Ñ-Ð.CÓDˆKØ×Ñ˜T×.Ñ.Ô/Ø×ÑÐ UÓV×\Ñ\Ô^à×Ñ˜q !Ô$ð )×0Ñ0Ð1IÓJˆNØ×#Ñ#¨)¸UÐ#ÔCØ×Ñ × 4Ñ 4Ô5Ø×ÑÐ UÓV×\Ñ\Ô^ð ×Ñ˜q !Ô$áøð;Ûú÷ 1×0Ð0ûô0 ô 	ÜL‰LÐ4°Q°CÐ8Ô9Ýûð	úsI   ‚G ¡AF(Á.AG Â2F1Â4C2G Æ(F.Æ*G Æ1G	Æ<	G ÇG3ÇG.Ç.G3c                ó    <€ V ^8„  d   QhRS[ /# rC   r   )r   r   s   "€r   r   r   ¢   s   ø€ ÷ dñ d™ñ dr   c                ó†  €  \         P                  R4       V P                  P                  V P                  RRR7       V P                  ^^4       V P                  4        V P                  '       d9   V P                  '       d'   V P                  4       '       d   V P                  4       # . R OpRpV FE  p V P                  P                  V4      P                  pVP                  RR7      '       d   Tp MKG  	  V'       g   \        R4      hVP                  R	R
7       V P                  RR4       VP!                  V P"                  4       V P                  ^^4       V P                  P                  R4      P                  pVP                  R	R
7       V P                  ^^4        V P                  P                  R4      P                  pVP                  RR7      '       dŠ   \         P                  R4       VP!                  V P"                  4       V P                  ^^4       V P                  P                  R4      P                  P                  R	R
7       V P                  ^^4       T P                  P                  R4      P                  pTP%                  RRR7       TP                  R	R
7       T P                  RR4       TP!                  T P&                  4       T P                  ^^4       T P                  P                  R4      P                  pTP                  R	R
7       T P                  ^^4       T P                  P(                  P+                  4       p	RT	9   g   RT	9   d)   \         P-                  R4       T P/                  R4       R# T P1                  4        T P                  4       '       d   \         P                  R4       R	# \         P3                  R4       R#     EKC  ; i    ELŽ; i  \         d5   p
\         P3                  RT
 24       T P/                  R4        Rp
?
R# Rp
?
ii ; i)!u   Se connecte Ã  X (Twitter).u   Connexion Ã  X (Twitter)...rF   rG   rH   Néˆ  r*   u#   Champ nom d'utilisateur non trouvÃ©Tr,   g333333Ó?r<   r\   z*input[data-testid="ocfEnterTextTextInput"]r[   u'   VÃ©rification supplÃ©mentaire demandÃ©ezbutton:has-text("Next")r]   r^   i˜:  r_   zhbutton[data-testid="LoginForm_Login_Button"], button:has-text("Log in"), button:has-text("Se connecter")Ú	challengeÚverifyu0   âš ï¸ VÃ©rification de sÃ©curitÃ© X dÃ©tectÃ©e!Úsecurity_challengeFu   âœ… Connexion X rÃ©ussieu   Ã‰chec de la connexion XzErreur connexion X: Úlogin_error)zinput[autocomplete="username"]zinput[name="text"]zinput[type="text"])r4   r5   r.   rN   Ú	LOGIN_URLr3   r9   r%   r"   rl   rW   r/   r0   r1   rR   r2   re   r    rf   r!   rP   r$   ÚwarningÚ_take_screenshotr@   rS   )r&   Úusername_selectorsÚusername_fieldr7   ÚfieldÚnext_btnÚverification_fieldrk   Ú	login_btnÚcurrent_urlrV   s   &          r   Ú_loginÚTwitterPoster._login¢   s–  € ðb	ÜK‰KÐ5Ô6ð I‰IN‰N˜4Ÿ>™>Ð6HÐRWˆNÔXØ×Ñ˜q !Ô$ð ×%Ñ%Ô'ð ×$×$Ð$¨×):×):Ð):Ø×*Ñ*×,Ò,Ø×0Ñ0Ó2Ð2ò"Ðð "ˆNÛ.ðØ ŸI™I×-Ñ-¨hÓ7×=Ñ=EØ×'Ñ'°Ð'×5Ò5Ø).˜Ùñ 6ñ /÷ "ÜÐ EÓFÐFà× Ñ  tÐ Ô,Ø×Ñ˜s CÔ(Ø×Ñ §¡Ô.à×Ñ˜q !Ô$ð —y‘y×(Ñ(Ð)^Ó_×eÑeˆHØN‰N ˆNÔ&à×Ñ˜q !Ô$ð
Ø%)§Y¡Y×%6Ñ%6Ð7cÓ%d×%jÑ%jÐ"Ø%×0Ñ0¸Ð0×>Ò>Ü—K‘KÐ IÔJà&×+Ñ+¨D¯M©MÔ:Ø×&Ñ& q¨!Ô,Ø—I‘I×%Ñ%Ð&?Ó@×FÑF×LÑLÐSWÐLÔXØ×&Ñ& q¨!Ô,ð
 "ŸY™Y×.Ñ.Ð/GÓH×NÑNˆNØ×#Ñ#¨)¸UÐ#ÔCà× Ñ  tÐ Ô,Ø×Ñ˜s CÔ(Ø×Ñ §¡Ô.à×Ñ˜q !Ô$ð Ÿ	™	×)Ñ)ð  +Uó  V÷  \ñ  \ˆIØO‰O $ˆOÔ'ð ×Ñ˜q !Ô$ð Ÿ)™)Ÿ-™-×-Ñ-Ó/ˆKØ˜kÔ)¨X¸Ô-DÜ—‘ÐQÔRØ×%Ñ%Ð&:Ô;Ùð × Ñ Ô"à×$Ñ$×&Ò&Ü—‘Ð6Ô7ÙäL‰LÐ3Ô4ÙøðÛûð6ÚûôH ô 	ÜL‰LÐ/°¨sÐ3Ô4Ø×!Ñ! -Ô0Ýûð	ús   ‚A0P Á3P ÂP ÂP Â+P Â7?O0Ã6P ÄB%P Æ*<O9 Ç'B	O9 É0D*P Î%P ÏP ÏP Ï0O6Ï2P Ï9O>Ï;P ÐQ Ð)P;Ð;Q c                ó2   <€ V ^8„  d   QhRS[ RS[ RS[ RS[/# )r
   ÚtextÚ
image_pathÚ
video_pathrD   )Ústrr   )r   r   s   "€r   r   r     s0   ø€ ÷ Eñ E™Sð E©cð EÁcð EÑUYñ Er   c                óˆ  €  \         P                  R4       \        V4      p\        P                  ! VR4      p\        V4      V8  d&   \         P                  RV R\        V4       R24       V P
                  P                  V P                  RRR7       V P                  ^^4       V P                  4        V P
                  P                  R	4      P                  pVP                  R
R7      '       g…   V P
                  P                  R4      P                  pVP                  4       '       dJ   VP                  RR7       V P                  ^^4       V P
                  P                  R	4      P                  pVP                  R
R7      '       g   \        R4      hVP                  RR7       V P                  R^4       VP                  V^R7       V P                  ^^4       V'       d«   \!        V4      P#                  4       '       dŒ   \         P                  RV 24        V P
                  P                  R4      P                  pVP%                  4       ^ 8”  d9   VP'                  V4       V P                  ^^4       \         P                  R4       V P                  ^^4       V P
                  P                  R4      P                  p	V	P                  4       '       d*   V	P+                  4       '       d   V	P                  RR7       M\        R4      hV P                  ^^4       V P-                  R4       \         P                  R4       R#   \         d#   p\         P)                  RT 24        Rp?LãRp?ii ; i  \         d5   p\         P/                  RT 24       T P-                  R4        Rp?R# Rp?ii ; i)zPublie un tweet sur X.zPublication sur X (Twitter)...i  u   Texte tronquÃ© de u    Ã  u    caractÃ¨resrF   rG   rH   rM   rp   r*   rL   Tr,   u   Zone de texte non trouvÃ©er<   )ÚdelayzAjout de l'image: zinput[type="file"]u   Image ajoutÃ©eu   Ã‰chec ajout image: Nz>[data-testid="tweetButtonInline"], [data-testid="tweetButton"]u&   Bouton Post non trouvÃ© ou dÃ©sactivÃ©Ú	publishedu   âœ… Publication X terminÃ©ezErreur publication X: Úpublish_errorF)r4   r5   Úlenr   Útruncate_for_twitterr.   rN   rO   r3   r@   r/   r0   r1   r2   rR   Útyper   ÚexistsrQ   Úset_input_filesrv   Ú
is_enabledrw   rS   )
r&   r‚   rƒ   r„   Úoriginal_lengthÚ	tweet_boxÚnew_tweet_btnÚ
file_inputrV   Úpost_btns
   &&&&      r   Ú_publishÚTwitterPoster._publish  s
  € ðC	ÜK‰KÐ8Ô9ô " $›iˆOÜ×3Ò3°D¸#Ó>ˆDÜ4‹y˜?Ô*Ü—‘Ð0°Ð0AÀÄcÈ$ÃiÀ[ÐP\Ð]Ô^ð I‰IN‰N˜4Ÿ=™=Ð5GÐQVˆNÔWØ×Ñ˜q !Ô$à× Ñ Ô"ð Ÿ	™	×)Ñ)Ð*KÓL×RÑRˆIà×'Ñ'°Ð'×5Ò5à $§	¡	× 1Ñ 1Ð2[Ó \× bÑ bØ ×+Ñ+×-Ò-Ø!×'Ñ'¨dÐ'Ô3Ø×&Ñ& q¨!Ô,Ø $§	¡	× 1Ñ 1Ð2SÓ T× ZÑ ZIà×'Ñ'°Ð'×5Ò5ÜÐ <Ó=Ð=àO‰O $ˆOÔ'Ø×Ñ˜s AÔ&ØN‰N˜4 rˆNÔ*à×Ñ˜q !Ô$÷ œd :Ó.×5Ñ5×7Ò7Ü—‘Ð0°°Ð=Ô>ð?Ø!%§¡×!2Ñ!2Ð3GÓ!H×!NÑ!NJØ!×'Ñ'Ó)¨AÔ-Ø"×2Ñ2°:Ô>Ø×*Ñ*¨1¨aÔ0ÜŸ™Ð$4Ô5ð ×Ñ˜q !Ô$ð —y‘y×(Ñ(Ð)iÓj×pÑpˆHà×"Ñ"×$Ò$¨×)<Ñ)<×)>Ò)>Ø—‘ TÕ*äÐ HÓIÐIà×Ñ˜q !Ô$à×!Ñ! +Ô.ÜK‰KÐ5Ô6Ùøô# !ô ?Ü—N‘NÐ%9¸!¸Ð#=×>Ñ>ûð?ûô& ô 	ÜL‰LÐ1°!°Ð5Ô6Ø×!Ñ! /Ô2Ýûð	úsk   ‚C2N Ã5:N Ä0A N ÆAN Ç-7N È%A2M ÊAN Ë$N Ë:AN ÍM?ÍM:Í5N Í:M?Í?N ÎOÎ)N<Î<O)r"   r#   r!   r%   r    )T)NN)Ú__name__Ú
__module__Ú__qualname__Ú__firstlineno__Ú__doc__ÚPLATFORM_NAMEru   rO   r   r9   r@   rW   rl   r   r•   Ú__static_attributes__Ú__classdictcell__Ú__classcell__)r'   r   s   @@r   r   r      sa   ù‡ € Ù"à€MØ,€IØ#€H÷[õ [òò,÷.ð ÷>4ð 4÷ldð d÷LE÷ Eò Er   r   )r›   r   ÚtimeÚpathlibr   Úbaser   r   Úutils.loggerr   r—   r4   r   © r   r   Ú<module>r¥      s3   ðñó 
Û Ý ß )Ý #á	HÓ	€ô|Jö |r   



=========================================
FILE PATH: C:\Users\libasse.dia\Documents\budget\budgetfamille-social-bot\platforms\__pycache__\__init__.cpython-314.pyc
=========================================
+
    üéliˆ  ã                   óB   € R t ^RIHt ^RIHt ^RIHt ^RIHt . ROt	R# )u…   
Budget Famille - Social Media Platforms
========================================
Modules pour publier sur diffÃ©rentes plateformes.
)ÚLinkedInPoster)ÚInstagramPoster)ÚFacebookPoster)ÚTwitterPosterN)r   r   r   r   )
Ú__doc__Úlinkedinr   Ú	instagramr   Úfacebookr   Útwitterr   Ú__all__© ó    ÚTC:\Users\libasse.dia\Documents\budget\budgetfamille-social-bot\platforms\__init__.pyÚ<module>r      s   ðñõ %Ý &Ý $Ý "ò‚r   



=========================================
FILE PATH: C:\Users\libasse.dia\Documents\budget\budgetfamille-social-bot\posts\2025-01-18\caption.txt
=========================================
ðŸš€ Budget Famille est disponible !

GÃ©rez votre budget familial en toute simplicitÃ©.

ðŸ‘‰ budgetfamille.com



=========================================
FILE PATH: C:\Users\libasse.dia\Documents\budget\budgetfamille-social-bot\posts\2025-01-18\config.json
=========================================
{
  "platforms": ["linkedin", "instagram", "facebook", "twitter"],
  "schedule": null,
  "notes": "Post de lancement - remplacer image.jpg par une vraie image avant publication"
}




=========================================
FILE PATH: C:\Users\libasse.dia\Documents\budget\budgetfamille-social-bot\posts\exemple-2025-01-20\caption.txt
=========================================
ðŸš€ Budget Famille est maintenant disponible !

GÃ©rez le budget de votre famille en toute simplicitÃ© avec notre application sÃ©curisÃ©e et respectueuse de votre vie privÃ©e.

âœ¨ FonctionnalitÃ©s :
â€¢ Chiffrement de bout en bout
â€¢ Collaboration familiale en temps rÃ©el
â€¢ Suggestions IA pour Ã©conomiser
â€¢ Connexion bancaire sÃ©curisÃ©e

ðŸ‘‰ DÃ©couvrez sur budgetfamille.com

#BudgetFamille #GestionBudget #Finances #Famille #Privacy #MadeInFrance




=========================================
FILE PATH: C:\Users\libasse.dia\Documents\budget\budgetfamille-social-bot\posts\exemple-2025-01-20\config.json
=========================================
{
  "platforms": ["linkedin", "instagram", "facebook", "twitter"],
  "schedule": null,
  "notes": "Post de lancement - remplacer image.jpg par une vraie image avant publication"
}




=========================================
FILE PATH: C:\Users\libasse.dia\Documents\budget\budgetfamille-social-bot\templates\astuce-budget.txt
=========================================
ðŸ’¡ Astuce budget de la semaine

{{titre}}

{{contenu}}

ðŸ’° Ã‰conomie potentielle : {{economie}}

Utilisez Budget Famille pour suivre vos Ã©conomies ðŸ‘‰ budgetfamille.com

#AstuceBudget #Ã‰conomies #FinancesPersonnelles #BudgetFamille #Argent




=========================================
FILE PATH: C:\Users\libasse.dia\Documents\budget\budgetfamille-social-bot\templates\mise-a-jour.txt
=========================================
ðŸ”„ Mise Ã  jour Budget Famille v{{version}}

Nous avons Ã©coutÃ© vos retours ! Voici les nouveautÃ©s :

{{nouveautes}}

ðŸ› Corrections :
{{corrections}}

Mettez Ã  jour votre application pour en profiter !

ðŸ‘‰ budgetfamille.com

#BudgetFamille #MiseAJour #Changelog #AmÃ©lioration




=========================================
FILE PATH: C:\Users\libasse.dia\Documents\budget\budgetfamille-social-bot\templates\nouvelle-fonctionnalite.txt
=========================================
ðŸŽ‰ Nouvelle fonctionnalitÃ© sur Budget Famille !

{{description}}

âœ¨ Les avantages :
{{avantages}}

ðŸ‘‰ Essayez maintenant sur budgetfamille.com

#BudgetFamille #GestionBudget #Finances #Ã‰conomies #France #Famille




=========================================
FILE PATH: C:\Users\libasse.dia\Documents\budget\budgetfamille-social-bot\templates\promotion.txt
=========================================
ðŸŽ Offre spÃ©ciale Budget Famille !

{{description_offre}}

â° Valable jusqu'au {{date_fin}}

âœ¨ {{avantage_principal}}

ðŸ‘‰ Profitez-en sur budgetfamille.com

#BudgetFamille #Promotion #OffreSpÃ©ciale #Ã‰conomies




=========================================
FILE PATH: C:\Users\libasse.dia\Documents\budget\budgetfamille-social-bot\templates\temoignage.txt
=========================================
â­ TÃ©moignage utilisateur

"{{temoignage}}"

â€” {{nom}}, {{ville}}

Rejoignez {{nombre_utilisateurs}}+ familles qui gÃ¨rent leur budget sereinement avec Budget Famille.

ðŸ”— budgetfamille.com

#TÃ©moignage #BudgetFamille #Satisfaction #Famille #Budget




=========================================
FILE PATH: C:\Users\libasse.dia\Documents\budget\budgetfamille-social-bot\utils\helpers.py
=========================================
"""
Budget Famille - Helpers
=========================
Fonctions utilitaires pour le bot.
"""

import os
import json
import re
from pathlib import Path
from datetime import datetime, date
from typing import Optional, List, Dict, Any

from utils.logger import get_logger

logger = get_logger(__name__)


def load_post(post_dir: Path) -> Dict[str, Any]:
    """
    Charge un post depuis un dossier.
    
    Args:
        post_dir: Chemin vers le dossier du post
        
    Returns:
        Dictionnaire avec le contenu du post
    """
    post = {
        'date': post_dir.name,
        'text': '',
        'image': None,
        'video': None,
        'platforms': None,  # None = toutes les plateformes
    }
    
    # Charger le texte (caption.txt)
    caption_file = post_dir / 'caption.txt'
    if caption_file.exists():
        with open(caption_file, 'r', encoding='utf-8') as f:
            post['text'] = f.read().strip()
    else:
        logger.warning(f"Pas de caption.txt dans {post_dir}")
    
    # Chercher une image
    image_extensions = ['.jpg', '.jpeg', '.png', '.gif', '.webp']
    for ext in image_extensions:
        image_file = post_dir / f'image{ext}'
        if image_file.exists():
            post['image'] = str(image_file.absolute())
            break
        
        # Chercher aussi n'importe quel fichier image
        for file in post_dir.glob(f'*{ext}'):
            post['image'] = str(file.absolute())
            break
        
        if post['image']:
            break
    
    # Chercher une vidÃ©o
    video_extensions = ['.mp4', '.mov', '.avi', '.webm']
    for ext in video_extensions:
        video_file = post_dir / f'video{ext}'
        if video_file.exists():
            post['video'] = str(video_file.absolute())
            break
        
        for file in post_dir.glob(f'*{ext}'):
            post['video'] = str(file.absolute())
            break
        
        if post['video']:
            break
    
    # Charger la configuration optionnelle
    config_file = post_dir / 'config.json'
    if config_file.exists():
        try:
            with open(config_file, 'r', encoding='utf-8') as f:
                config = json.load(f)
                
            if 'platforms' in config:
                post['platforms'] = config['platforms']
            
            if 'schedule' in config:
                post['schedule'] = config['schedule']
                
        except json.JSONDecodeError as e:
            logger.error(f"Erreur parsing config.json: {e}")
    
    return post


def validate_post(post: Dict[str, Any]) -> tuple[bool, List[str]]:
    """
    Valide un post avant publication.
    
    Args:
        post: Dictionnaire du post
        
    Returns:
        Tuple (is_valid, list of errors)
    """
    errors = []
    
    # VÃ©rifier le texte
    if not post.get('text'):
        errors.append("Le texte (caption.txt) est vide")
    
    # VÃ©rifier la longueur pour Twitter
    if post.get('text') and len(post['text']) > 280:
        # Pas une erreur, juste un warning - sera tronquÃ© automatiquement
        logger.warning(f"Texte de {len(post['text'])} caractÃ¨res sera tronquÃ© pour Twitter")
    
    # VÃ©rifier les fichiers mÃ©dia
    if post.get('image') and not Path(post['image']).exists():
        errors.append(f"Image non trouvÃ©e: {post['image']}")
    
    if post.get('video') and not Path(post['video']).exists():
        errors.append(f"VidÃ©o non trouvÃ©e: {post['video']}")
    
    # Instagram nÃ©cessite un mÃ©dia
    platforms = post.get('platforms', ['linkedin', 'instagram', 'facebook', 'twitter'])
    if 'instagram' in platforms and not post.get('image') and not post.get('video'):
        errors.append("Instagram nÃ©cessite une image ou une vidÃ©o")
    
    return len(errors) == 0, errors


def get_pending_posts(posts_dir: Path) -> List[Dict[str, Any]]:
    """
    RÃ©cupÃ¨re tous les posts en attente de publication.
    
    Args:
        posts_dir: Chemin vers le dossier des posts
        
    Returns:
        Liste des posts triÃ©s par date
    """
    posts = []
    
    if not posts_dir.exists():
        logger.warning(f"Dossier des posts non trouvÃ©: {posts_dir}")
        return posts
    
    # Parcourir tous les sous-dossiers
    for item in posts_dir.iterdir():
        if not item.is_dir():
            continue
        
        # Ignorer les dossiers cachÃ©s et les exemples
        if item.name.startswith('.') or item.name.startswith('_'):
            continue
        
        # Charger le post
        post = load_post(item)
        
        # Valider
        is_valid, errors = validate_post(post)
        
        if not is_valid:
            logger.warning(f"Post {item.name} invalide: {errors}")
            continue
        
        # VÃ©rifier la date de planification si prÃ©sente
        if 'schedule' in post and post['schedule']:
            try:
                scheduled_time = datetime.fromisoformat(post['schedule'])
                if scheduled_time > datetime.now():
                    logger.info(f"Post {item.name} planifiÃ© pour {scheduled_time}")
                    continue  # Pas encore l'heure
            except ValueError:
                pass
        
        posts.append(post)
    
    # Trier par date (nom du dossier)
    posts.sort(key=lambda p: p['date'])
    
    return posts


def archive_post(post_dir: Path):
    """
    Archive un post aprÃ¨s publication.
    
    Args:
        post_dir: Chemin vers le dossier du post
    """
    archive_dir = post_dir.parent / '_published'
    archive_dir.mkdir(exist_ok=True)
    
    # Ajouter un timestamp au nom
    timestamp = datetime.now().strftime('%Y%m%d_%H%M%S')
    new_name = f"{post_dir.name}_{timestamp}"
    
    # DÃ©placer le dossier
    new_path = archive_dir / new_name
    post_dir.rename(new_path)
    
    logger.info(f"Post archivÃ©: {new_path}")


def format_text_for_platform(text: str, platform: str) -> str:
    """
    Formate le texte selon la plateforme.
    
    Args:
        text: Texte original
        platform: Nom de la plateforme
        
    Returns:
        Texte formatÃ©
    """
    if platform == 'twitter':
        # Tronquer pour Twitter
        if len(text) > 280:
            # Trouver un bon point de coupure
            truncated = text[:277]
            
            # Essayer de couper Ã  un espace
            last_space = truncated.rfind(' ')
            if last_space > 200:
                truncated = truncated[:last_space]
            
            return truncated + "..."
    
    elif platform == 'linkedin':
        # LinkedIn supporte plus de caractÃ¨res mais prÃ©fÃ¨re les paragraphes
        # Ajouter des sauts de ligne aprÃ¨s les phrases si absent
        pass
    
    elif platform == 'instagram':
        # Instagram a une limite de 2200 caractÃ¨res
        if len(text) > 2200:
            text = text[:2197] + "..."
    
    return text


def extract_hashtags(text: str) -> List[str]:
    """
    Extrait les hashtags d'un texte.
    
    Args:
        text: Texte contenant des hashtags
        
    Returns:
        Liste des hashtags
    """
    return re.findall(r'#\w+', text)


def create_post_from_template(template_name: str, variables: Dict[str, str]) -> str:
    """
    CrÃ©e un texte de post Ã  partir d'un template.
    
    Args:
        template_name: Nom du fichier template (sans extension)
        variables: Dictionnaire de variables Ã  remplacer
        
    Returns:
        Texte formatÃ©
    """
    templates_dir = Path('templates')
    template_file = templates_dir / f'{template_name}.txt'
    
    if not template_file.exists():
        raise FileNotFoundError(f"Template non trouvÃ©: {template_file}")
    
    with open(template_file, 'r', encoding='utf-8') as f:
        template = f.read()
    
    # Remplacer les variables {{variable}}
    for key, value in variables.items():
        template = template.replace(f'{{{{{key}}}}}', value)
    
    return template


def get_optimal_posting_time(platform: str) -> str:
    """
    Retourne l'heure optimale de publication pour une plateforme.
    
    Args:
        platform: Nom de la plateforme
        
    Returns:
        Heure au format HH:MM
    """
    # BasÃ© sur des Ã©tudes de marketing digital
    optimal_times = {
        'linkedin': '10:00',    # Mardi-Jeudi, 10h-12h
        'instagram': '11:00',   # Lundi, Mercredi, 11h
        'facebook': '13:00',    # Mercredi, 13h-16h
        'twitter': '09:00',     # Mercredi, 9h-12h
    }
    
    return optimal_times.get(platform, '10:00')


def estimate_post_time(platforms: List[str]) -> int:
    """
    Estime le temps total de publication en secondes.
    
    Args:
        platforms: Liste des plateformes
        
    Returns:
        Temps estimÃ© en secondes
    """
    delay_between = int(os.getenv('DELAY_BETWEEN_POSTS', 300))
    time_per_platform = 60  # ~1 minute par plateforme
    
    total = len(platforms) * time_per_platform
    total += (len(platforms) - 1) * delay_between
    
    return total




=========================================
FILE PATH: C:\Users\libasse.dia\Documents\budget\budgetfamille-social-bot\utils\logger.py
=========================================
"""
Budget Famille - Logger
========================
Configuration du systÃ¨me de logging.
"""

import os
import logging
from pathlib import Path
from datetime import datetime
from logging.handlers import RotatingFileHandler

# CrÃ©er le dossier de logs s'il n'existe pas
LOGS_DIR = Path('logs')
LOGS_DIR.mkdir(exist_ok=True)

# Format de log
LOG_FORMAT = '%(asctime)s - %(name)s - %(levelname)s - %(message)s'
DATE_FORMAT = '%Y-%m-%d %H:%M:%S'


def setup_logger(name: str = 'budgetfamille-bot', level: str = None) -> logging.Logger:
    """
    Configure et retourne le logger principal.
    
    Args:
        name: Nom du logger
        level: Niveau de log (DEBUG, INFO, WARNING, ERROR)
        
    Returns:
        Logger configurÃ©
    """
    # DÃ©terminer le niveau de log
    if level is None:
        level = 'DEBUG' if os.getenv('DEBUG_MODE', 'false').lower() == 'true' else 'INFO'
    
    log_level = getattr(logging, level.upper(), logging.INFO)
    
    # CrÃ©er le logger
    logger = logging.getLogger(name)
    logger.setLevel(log_level)
    
    # Ã‰viter les doublons de handlers
    if logger.handlers:
        return logger
    
    # Handler console avec couleurs
    console_handler = logging.StreamHandler()
    console_handler.setLevel(log_level)
    
    # Essayer d'utiliser colorlog si disponible
    try:
        import colorlog
        console_formatter = colorlog.ColoredFormatter(
            '%(log_color)s%(asctime)s - %(levelname)s - %(message)s%(reset)s',
            datefmt=DATE_FORMAT,
            log_colors={
                'DEBUG': 'cyan',
                'INFO': 'green',
                'WARNING': 'yellow',
                'ERROR': 'red',
                'CRITICAL': 'red,bg_white',
            }
        )
    except ImportError:
        console_formatter = logging.Formatter(LOG_FORMAT, DATE_FORMAT)
    
    console_handler.setFormatter(console_formatter)
    logger.addHandler(console_handler)
    
    # Handler fichier (un fichier par jour)
    today = datetime.now().strftime('%Y-%m-%d')
    file_handler = RotatingFileHandler(
        LOGS_DIR / f'{today}.log',
        maxBytes=10*1024*1024,  # 10 MB
        backupCount=5,
        encoding='utf-8'
    )
    file_handler.setLevel(logging.DEBUG)
    file_formatter = logging.Formatter(LOG_FORMAT, DATE_FORMAT)
    file_handler.setFormatter(file_formatter)
    logger.addHandler(file_handler)
    
    # Handler pour les erreurs uniquement
    error_handler = RotatingFileHandler(
        LOGS_DIR / 'errors.log',
        maxBytes=5*1024*1024,  # 5 MB
        backupCount=3,
        encoding='utf-8'
    )
    error_handler.setLevel(logging.ERROR)
    error_handler.setFormatter(file_formatter)
    logger.addHandler(error_handler)
    
    return logger


def get_logger(name: str = None) -> logging.Logger:
    """
    RÃ©cupÃ¨re un logger enfant.
    
    Args:
        name: Nom du module (ex: platforms.linkedin)
        
    Returns:
        Logger
    """
    parent_logger = logging.getLogger('budgetfamille-bot')
    
    if name:
        return parent_logger.getChild(name)
    
    return parent_logger


class LogCapture:
    """Context manager pour capturer les logs."""
    
    def __init__(self, logger_name: str = 'budgetfamille-bot'):
        self.logger = logging.getLogger(logger_name)
        self.captured = []
        self.handler = None
    
    def __enter__(self):
        class CaptureHandler(logging.Handler):
            def __init__(self, captured_list):
                super().__init__()
                self.captured = captured_list
            
            def emit(self, record):
                self.captured.append({
                    'level': record.levelname,
                    'message': record.getMessage(),
                    'time': datetime.fromtimestamp(record.created)
                })
        
        self.handler = CaptureHandler(self.captured)
        self.logger.addHandler(self.handler)
        return self
    
    def __exit__(self, exc_type, exc_val, exc_tb):
        if self.handler:
            self.logger.removeHandler(self.handler)
    
    def get_errors(self):
        """Retourne uniquement les erreurs capturÃ©es."""
        return [log for log in self.captured if log['level'] in ('ERROR', 'CRITICAL')]
    
    def get_warnings(self):
        """Retourne les warnings et erreurs."""
        return [log for log in self.captured if log['level'] in ('WARNING', 'ERROR', 'CRITICAL')]




=========================================
FILE PATH: C:\Users\libasse.dia\Documents\budget\budgetfamille-social-bot\utils\__init__.py
=========================================
"""
Budget Famille - Utilities
===========================
Modules utilitaires pour le bot.
"""

from .logger import setup_logger, get_logger, LogCapture
from .helpers import (
    load_post,
    validate_post,
    get_pending_posts,
    archive_post,
    format_text_for_platform,
    extract_hashtags,
    create_post_from_template,
)

__all__ = [
    'setup_logger',
    'get_logger',
    'LogCapture',
    'load_post',
    'validate_post',
    'get_pending_posts',
    'archive_post',
    'format_text_for_platform',
    'extract_hashtags',
    'create_post_from_template',
]




=========================================
FILE PATH: C:\Users\libasse.dia\Documents\budget\budgetfamille-social-bot\utils\__pycache__\helpers.cpython-314.pyc
=========================================
+
    ãli_#  ã                   óÞ   € R t ^ RIt^ RIt^ RIt^ RIHt ^ RIHtHt ^ RIH	t	H
t
HtHt ^ RIHt ]! ]4      tR R ltR R	 ltR
 R ltR R ltR R ltR R ltR R ltR R ltR R ltR# )zW
Budget Famille - Helpers
=========================
Fonctions utilitaires pour le bot.
N©ÚPath)ÚdatetimeÚdate)ÚOptionalÚListÚDictÚAny)Ú
get_loggerc                óR   € V ^8„  d   QhR\         R\        \        \        3,          /# )é   Úpost_dirÚreturn)r   r   Ústrr	   )Úformats   "ÚOC:\Users\libasse.dia\Documents\budget\budgetfamille-social-bot\utils\helpers.pyÚ__annotate__r      s&   € ÷ Iñ Iœð I¤¤c¬3 h¥ñ Ió    c           
     ó4  € RV P                   RRRRRRRR/pV R,          pVP                  4       '       dB   \        VR	R
R7      ;_uu_ 4       pVP                  4       P	                  4       VR&   RRR4       M\
        P                  RV  24       . ROpV F‹  pV RV 2,          pVP                  4       '       d   \        VP                  4       4      VR&    MLV P                  RV 24       F  p\        VP                  4       4      VR&    M	  VR,          '       g   K‹   M	  . ROpV F‹  pV RV 2,          p	V	P                  4       '       d   \        V	P                  4       4      VR&    MLV P                  RV 24       F  p\        VP                  4       4      VR&    M	  VR,          '       g   K‹   M	  V R,          p
V
P                  4       '       d_    \        V
R	R
R7      ;_uu_ 4       p\        P                  ! V4      pRRR4       RX9   d   VR,          VR&   RV9   d   VR,          VR&   V# V#   + '       g   i     ELº; i  + '       g   i     LN; i  \        P                   d$   p\
        P                  RT 24        Rp?T# Rp?ii ; i)zŽ
Charge un post depuis un dossier.

Args:
    post_dir: Chemin vers le dossier du post
    
Returns:
    Dictionnaire avec le contenu du post
r   ÚtextÚ ÚimageNÚvideoÚ	platformszcaption.txtÚrúutf-8©ÚencodingzPas de caption.txt dans Ú*zconfig.jsonÚschedulezErreur parsing config.json: )z.jpgz.jpegz.pngz.gifz.webp)z.mp4z.movz.aviz.webm)ÚnameÚexistsÚopenÚreadÚstripÚloggerÚwarningr   ÚabsoluteÚglobÚjsonÚloadÚJSONDecodeErrorÚerror)r   ÚpostÚcaption_fileÚfÚimage_extensionsÚextÚ
image_fileÚfileÚvideo_extensionsÚ
video_fileÚconfig_fileÚconfigÚes   &            r   Ú	load_postr9      se  € ð 	—‘ØØØØTð€Dð ˜mÕ+€LØ×Ñ×ÒÜ, ¨g×6Õ6¸!ØŸ6™6›8Ÿ>™>Ó+ˆD‰L÷ 7Ð6ô 	‰Ð1°(°Ð<Ô=ò BÐÛˆØ %¨ u Õ-ˆ
Ø×Ñ×ÒÜ 
× 3Ñ 3Ó 5Ó6ˆD‰MÙð —M‘M A c U )Ö,ˆDÜ §¡£Ó0ˆD‰MÙñ -ð =Ž=Ùñ  ò 9ÐÛˆØ %¨ u Õ-ˆ
Ø×Ñ×ÒÜ 
× 3Ñ 3Ó 5Ó6ˆD‰MÙà—M‘M A c U )Ö,ˆDÜ §¡£Ó0ˆD‰MÙñ -ð =Ž=Ùñ  ð ˜]Õ*€KØ×Ñ×Òð	=Ük 3°×9Õ9¸QÜŸš 1›÷ :ð ˜fÔ$Ø$*¨;Õ$7[Ñ!à˜VÔ#Ø#)¨*Õ#5ZÑ ð
 €Kˆ4€K÷i 7×6Ð6ú÷P :×9ûô ×#Ñ#ô 	=ÜL‰LÐ7¸°sÐ;×<Ð<à€Kûð	=ús<   Á"H8ÇI Ç/IÈ.I È8I		ÉI	ÉI ÉJÉ4JÊJc                óŠ   € V ^8„  d   QhR\         \        \        3,          R\        \        \
        \        ,          3,          /# )r   r-   r   )r   r   r	   ÚtupleÚboolr   )r   s   "r   r   r   _   s/   € ÷ !$ñ !$œœS¤#˜Xð !$¬5´´t¼Cµy°Õ+Añ !$r   c                ó8  € . pV P                  R4      '       g   VP                  R4       V P                  R4      '       dA   \        V R,          4      R8”  d*   \        P	                  R\        V R,          4       R24       V P                  R4      '       dB   \        V R,          4      P                  4       '       g   VP                  RV R,           24       V P                  R4      '       dB   \        V R,          4      P                  4       '       g   VP                  R	V R,           24       V P                  R
. RO4      pRV9   d@   V P                  R4      '       g)   V P                  R4      '       g   VP                  R4       \        V4      ^ 8H  V3# )z|
Valide un post avant publication.

Args:
    post: Dictionnaire du post
    
Returns:
    Tuple (is_valid, list of errors)
r   zLe texte (caption.txt) est videé  z	Texte de u'    caractÃ¨res sera tronquÃ© pour Twitterr   u   Image non trouvÃ©e: r   u   VidÃ©o non trouvÃ©e: r   Ú	instagramu,   Instagram nÃ©cessite une image ou une vidÃ©o)Úlinkedinr?   ÚfacebookÚtwitter)ÚgetÚappendÚlenr%   r&   r   r!   )r-   Úerrorsr   s   &  r   Úvalidate_postrG   _   s>  € ð €Fð 8‰8F×ÒØ‰Ð7Ô8ð ‡xx×ÒœC  V¥Ó-°Ô3ä‰˜¤3 t¨F¥|Ó#4Ð"5Ð5\Ð]Ô^ð ‡xx×Ò¤ d¨7¥mÓ!4×!;Ñ!;×!=Ò!=Ø‰Ð,¨T°'­]¨OÐ<Ô=à‡xx×Ò¤ d¨7¥mÓ!4×!;Ñ!;×!=Ò!=Ø‰Ð-¨d°7­m¨_Ð=Ô>ð —‘˜Ò&VÓW€IØiÔ¨¯©°×(9Ò(9À$Ç(Á(È7×BSÒBSØ‰ÐDÔEäˆv‹;˜!Ñ˜VÐ#Ð#r   c                óh   € V ^8„  d   QhR\         R\        \        \        \        3,          ,          /# )r   Ú	posts_dirr   )r   r   r   r   r	   )r   s   "r   r   r   ƒ   s'   € ÷ 2ñ 2¤ð 2¬$¬t´C¼°H­~Õ*>ñ 2r   c                ó:  € . pV P                  4       '       g   \        P                  RV  24       V# V P                  4        EF/  pVP	                  4       '       g   K  VP
                  P                  R4      '       g"   VP
                  P                  R4      '       d   K`  \        V4      p\        V4      w  rEV'       g(   \        P                  RVP
                   RV 24       K§  RV9   dq   VR,          '       db    \        P                  ! VR,          4      pV\        P                  ! 4       8”  d)   \        P                  RVP
                   RV 24       EK   VP                  V4       EK2  	  VP                  R R	7       V#   \         d     L8i ; i)
uŸ   
RÃ©cupÃ¨re tous les posts en attente de publication.

Args:
    posts_dir: Chemin vers le dossier des posts
    
Returns:
    Liste des posts triÃ©s par date
u   Dossier des posts non trouvÃ©: Ú.Ú_zPost z invalide: r   u    planifiÃ© pour c                 ó   € V R ,          # )r   © )Úps   &r   Ú<lambda>Ú#get_pending_posts.<locals>.<lambda>³   s   € ˜Q˜vžYr   )Úkey)r!   r%   r&   ÚiterdirÚis_dirr    Ú
startswithr9   rG   r   ÚfromisoformatÚnowÚinfoÚ
ValueErrorrD   Úsort)rI   ÚpostsÚitemr-   Úis_validrF   Úscheduled_times   &      r   Úget_pending_postsr_   ƒ   sZ  € ð €Eà×Ñ×ÒÜ‰Ð8¸¸ÐDÔEØˆð ×!Ñ!×#ˆØ{‰{}Š}Ùð 9‰9×Ñ ×$Ò$¨¯	©	×(<Ñ(<¸S×(AÒ(AÙô ˜‹ˆô )¨Ó.ÑˆçÜN‰N˜U 4§9¡9 +¨[¸¸ÐAÔBÙð ˜Ô $ z×"2Ô"2ðÜ!)×!7Ò!7¸¸ZÕ8HÓ!IØ!¤H§L¢L£NÔ2Ü—K‘K %¨¯	©	 {Ð2BÀ>ÐBRÐ SÔTÚð 3ð 	‰T×ñ9 $ð> 
‡JJÑ&€JÔ'à€Løô ô Ùðús   ÄAFÆFÆFc                ó$   € V ^8„  d   QhR\         /# )r   r   r   )r   s   "r   r   r   ¸   s   € ÷ .ñ .œ4ñ .r   c                ó  € V P                   R,          pVP                  RR7       \        P                  ! 4       P	                  R4      pV P
                   RV 2pW,          pV P                  V4       \        P                  RV 24       R# )uY   
Archive un post aprÃ¨s publication.

Args:
    post_dir: Chemin vers le dossier du post
Ú
_publishedT)Úexist_okz%Y%m%d_%H%M%SrL   u   Post archivÃ©: N)	ÚparentÚmkdirr   rW   Ústrftimer    Úrenamer%   rX   )r   Úarchive_dirÚ	timestampÚnew_nameÚnew_paths   &    r   Úarchive_postrl   ¸   sx   € ð —/‘/ LÕ0€KØ×Ñ˜tÐÔ$ô —’“×'Ñ'¨Ó8€IØ—-‘-  ) Ð-€Hð Õ%€HØ‡OOHÔä
‡KK/ ( Ð,Ö-r   c                ó<   € V ^8„  d   QhR\         R\         R\         /# )r   r   Úplatformr   ©r   )r   s   "r   r   r   Í   s!   € ÷ "ñ "¤3ð "´#ð "¼#ñ "r   c                óú   € VR8X  dC   \        V 4      R8”  d0   V R,          pVP                  R4      pV^È8”  d   VRV pVR,           #  V # VR8X  d    V # VR8X  d!   \        V 4      R	8”  d   V R
,          R,           p V # )u‹   
Formate le texte selon la plateforme.

Args:
    text: Texte original
    platform: Nom de la plateforme
    
Returns:
    Texte formatÃ©
rB   r>   :Ni  NÚ Nz...r@   r?   i˜  :Ni•  N)rE   Úrfind)r   rn   Ú	truncatedÚ
last_spaces   &&  r   Úformat_text_for_platformru   Í   sš   € ð 9Ôäˆt‹9sŒ?à˜T
ˆIð #Ÿ™¨Ó-ˆJØ˜CÔØ% k zÐ2	à˜uÕ$Ð$ð ð* €Kð 
ZÔ	ð 	ð €Kð 
[Ô	 äˆt‹9tÔØ˜•; Õ&ˆDà€Kr   c                óF   € V ^8„  d   QhR\         R\        \         ,          /# )r   r   r   )r   r   )r   s   "r   r   r   ò   s   € ÷ 
%ñ 
%œ3ð 
%¤4¬¥9ñ 
%r   c                ó0   € \         P                  ! RV 4      # )zu
Extrait les hashtags d'un texte.

Args:
    text: Texte contenant des hashtags
    
Returns:
    Liste des hashtags
z#\w+)ÚreÚfindall)r   s   &r   Úextract_hashtagsrz   ò   s   € ô :Š:g˜tÓ$Ð$r   c                ó^   € V ^8„  d   QhR\         R\        \         \         3,          R\         /# )r   Útemplate_nameÚ	variablesr   )r   r   )r   s   "r   r   r   ÿ   s*   € ÷ ñ ¬Sð ¼TÄ#ÄsÀ(½^ð ÔPSñ r   c                ó\  € \        R4      pW  R2,          pVP                  4       '       g   \        RV 24      h\        VRRR7      ;_uu_ 4       pVP	                  4       pRRR4       VP                  4        F  w  rgXP                  RV R	2V4      pK  	  X#   + '       g   i     LA; i)
uË   
CrÃ©e un texte de post Ã  partir d'un template.

Args:
    template_name: Nom du fichier template (sans extension)
    variables: Dictionnaire de variables Ã  remplacer
    
Returns:
    Texte formatÃ©
Ú	templatesz.txtu   Template non trouvÃ©: r   r   r   Nz{{z}})r   r!   ÚFileNotFoundErrorr"   r#   ÚitemsÚreplace)r|   r}   Útemplates_dirÚtemplate_filer/   ÚtemplaterR   Úvalues   &&      r   Úcreate_post_from_templater‡   ÿ   s    € ô ˜Ó%€MØ! o°TÐ$:Õ:€Mà×Ñ×!Ò!ÜÐ"8¸¸Ð HÓIÐIä	ˆm˜S¨7×	3Õ	3°qØ—6‘6“8ˆ÷ 
4ð  —o‘oÖ'‰
ˆØ×#Ñ# d¨3¨%¨tÐ$4°eÓ<Šñ (ð €O÷ 
4×	3ús   ÁBÂB+	c                ó0   € V ^8„  d   QhR\         R\         /# )r   rn   r   ro   )r   s   "r   r   r     s   € ÷ 0ñ 0¤sð 0¬sñ 0r   c                ó:   € RRRRRRRR/pVP                  V R4      # )	z‘
Retourne l'heure optimale de publication pour une plateforme.

Args:
    platform: Nom de la plateforme
    
Returns:
    Heure au format HH:MM
r@   z10:00r?   z11:00rA   z13:00rB   z09:00)rC   )rn   Úoptimal_timess   & r   Úget_optimal_posting_timer‹     s4   € ð 	GØWØGØ7ð	€Mð ×Ñ˜X wÓ/Ð/r   c                óF   € V ^8„  d   QhR\         \        ,          R\        /# )r   r   r   )r   r   Úint)r   s   "r   r   r   /  s   € ÷ ñ ¤$¤s¥)ð ´ñ r   c                ó®   € \        \        P                  ! RR4      4      p^<p\        V 4      V,          pV\        V 4      ^,
          V,          ,          pV# )u‹   
Estime le temps total de publication en secondes.

Args:
    platforms: Liste des plateformes
    
Returns:
    Temps estimÃ© en secondes
ÚDELAY_BETWEEN_POSTSi,  )r   ÚosÚgetenvrE   )r   Údelay_betweenÚtime_per_platformÚtotals   &   r   Úestimate_post_timer•   /  sL   € ô œŸ	š	Ð"7¸Ó=Ó>€MØÐä	‹NÐ.Õ.€EØ	Œc)‹n˜qÕ  MÕ1Õ1€Eà€Lr   )Ú__doc__r   r)   rx   Úpathlibr   r   r   Útypingr   r   r   r	   Úutils.loggerr
   Ú__name__r%   r9   rG   r_   rl   ru   rz   r‡   r‹   r•   rN   r   r   Ú<module>r›      s`   ðñó 
Û Û 	Ý ß #ß ,Ó ,å #á	HÓ	€õIõX!$õH2õj.õ*"õJ
%õõ60÷*r   



=========================================
FILE PATH: C:\Users\libasse.dia\Documents\budget\budgetfamille-social-bot\utils\__pycache__\logger.cpython-314.pyc
=========================================
+
    íÁlim  ã                   ó®   € R t ^ RIt^ RIt^ RIHt ^ RIHt ^ RIHt ]! R4      t]P                  RR7       Rt
R	tRR
 R lltRR R llt ! R R4      tR# )uX   
Budget Famille - Logger
========================
Configuration du systÃ¨me de logging.
N)ÚPath)Údatetime)ÚRotatingFileHandlerÚlogsT)Úexist_okz4%(asctime)s - %(name)s - %(levelname)s - %(message)sz%Y-%m-%d %H:%M:%Sc                óP   € V ^8„  d   QhR\         R\         R\        P                  /# )é   ÚnameÚlevelÚreturn©ÚstrÚloggingÚLogger)Úformats   "ÚNC:\Users\libasse.dia\Documents\budget\budgetfamille-social-bot\utils\logger.pyÚ__annotate__r      s*   € ÷ Iñ I”sð I¼ð IÌÏÉñ Ió    c                ór  € Vf/   \         P                  ! RR4      P                  4       R8X  d   RMRp\        \        VP                  4       \        P                  4      p\        P                  ! V 4      pVP                  V4       VP                  '       d   V# \        P                  ! 4       pVP                  V4        ^ RIpVP                  R\        RRRR	R
RRRRR/R7      pVP#                  V4       VP%                  V4       \&        P(                  ! 4       P+                  R4      p\-        \.        V R2,          R^RR7      pVP                  \        P0                  4       \        P                  ! \         \        4      p	VP#                  V	4       VP%                  V4       \-        \.        R,          R^RR7      p
V
P                  \        P2                  4       V
P#                  V	4       VP%                  V
4       V#   \         d$    \        P                  ! \         \        4      p ELMi ; i)u¦   
Configure et retourne le logger principal.

Args:
    name: Nom du logger
    level: Niveau de log (DEBUG, INFO, WARNING, ERROR)
    
Returns:
    Logger configurÃ©
NÚ
DEBUG_MODEÚfalseÚtrueÚDEBUGÚINFOz?%(log_color)s%(asctime)s - %(levelname)s - %(message)s%(reset)sÚcyanÚgreenÚWARNINGÚyellowÚERRORÚredÚCRITICALzred,bg_white)ÚdatefmtÚ
log_colorsz%Y-%m-%dz.logzutf-8)ÚmaxBytesÚbackupCountÚencodingz
errors.logi    i  P )ÚosÚgetenvÚlowerÚgetattrr   Úupperr   Ú	getLoggerÚsetLevelÚhandlersÚStreamHandlerÚcolorlogÚColoredFormatterÚDATE_FORMATÚImportErrorÚ	FormatterÚ
LOG_FORMATÚsetFormatterÚ
addHandlerr   ÚnowÚstrftimer   ÚLOGS_DIRr   r   )r	   r
   Ú	log_levelÚloggerÚconsole_handlerr/   Úconsole_formatterÚtodayÚfile_handlerÚfile_formatterÚerror_handlers   &&         r   Úsetup_loggerrB      så  € ð ‚}ÜŸ9š9 \°7Ó;×AÑAÓCÀvÔM‘ÐSYˆäœ §¡£´·±Ó=€Iô ×Ò˜tÓ$€FØ
‡OOIÔð ‡‡€Øˆô ×+Ò+Ó-€OØ×Ñ˜YÔ'ðGÛØ$×5Ñ5ØMÜà˜Ø˜Ø˜8Ø˜Ø˜Nðð 6ó 

Ðð × Ñ Ð!2Ô3Ø
×ÑoÔ&ô LŠL‹N×#Ñ# JÓ/€EÜ&ÜeW˜D>Õ!ØØØô	€Lð ×Ñœ'Ÿ-™-Ô(Ü×&Ò&¤z´;Ó?€NØ×Ñ˜nÔ-Ø
×ÑlÔ#ô (Ü<ÕØØØô	€Mð ×Ñœ7Ÿ=™=Ô)Ø×Ñ˜~Ô.Ø
×ÑmÔ$à€Møô= ô GÜ#×-Ò-¬j¼+ÓFÓðGús   Ã&H È*H6È5H6c                óD   € V ^8„  d   QhR\         R\        P                  /# )r   r	   r   r   )r   s   "r   r   r   b   s   € ÷ ñ ”Sð ¤G§N¡Nñ r   c                ód   € \         P                  ! R4      pV '       d   VP                  V 4      # V# )uo   
RÃ©cupÃ¨re un logger enfant.

Args:
    name: Nom du module (ex: platforms.linkedin)
    
Returns:
    Logger
úbudgetfamille-bot)r   r+   ÚgetChild)r	   Úparent_loggers   & r   Ú
get_loggerrH   b   s/   € ô ×%Ò%Ð&9Ó:€MçØ×%Ñ% dÓ+Ð+àÐr   c                   óR   a € ] tR t^tt o RtR
V 3R lR lltR tR tR tR t	Rt
V tR	# )Ú
LogCapturez'Context manager pour capturer les logs.c                ó    <€ V ^8„  d   QhRS[ /# )r   Úlogger_name)r   )r   Ú__classdict__s   "€r   r   ÚLogCapture.__annotate__w   s   ø€ ÷ ñ ¡Cñ r   c                óX   € \         P                  ! V4      V n        . V n        R V n        R # ©N)r   r+   r;   ÚcapturedÚhandler)ÚselfrL   s   &&r   Ú__init__ÚLogCapture.__init__w   s"   € Ü×'Ò'¨Ó4ˆŒØˆŒØˆŽr   c                ó°   €  ! R  R\         P                  4      pV! V P                  4      V n        V P                  P                  V P                  4       V # )c                   ó8   a a€ ] tR t^}t oV 3R ltR tRtVtV ;t# )Ú,LogCapture.__enter__.<locals>.CaptureHandlerc                ó0   <€ \         SV `  4        Wn        R # rP   )ÚsuperrT   rQ   )rS   Úcaptured_listÚ	__class__s   &&€r   rT   Ú5LogCapture.__enter__.<locals>.CaptureHandler.__init__~   s   ø€ Ü‘Ñ Ô"Ø -–r   c           
     ó´   € V P                   P                  R VP                  RVP                  4       R\        P
                  ! VP                  4      /4       R# )r
   ÚmessageÚtimeN)rQ   ÚappendÚ	levelnameÚ
getMessager   ÚfromtimestampÚcreated)rS   Úrecords   &&r   ÚemitÚ1LogCapture.__enter__.<locals>.CaptureHandler.emit‚   sF   € Ø—‘×$Ñ$Ø˜V×-Ñ-Ø˜v×0Ñ0Ó2ØœH×2Ò2°6·>±>ÓBð&ö r   ©rQ   )	Ú__name__Ú
__module__Ú__qualname__Ú__firstlineno__rT   rg   Ú__static_attributes__Ú__classdictcell__Ú__classcell__)r\   rM   s   @@r   ÚCaptureHandlerrX   }   s   ù‡ € õ.÷ò r   rq   )r   ÚHandlerrQ   rR   r;   r6   )rS   rq   s   & r   Ú	__enter__ÚLogCapture.__enter__|   s?   € ô
	œWŸ_™_ô 
	ñ & d§m¡mÓ4ˆŒØ‰×Ñ˜tŸ|™|Ô,Øˆr   c                óx   € V P                   '       d(   V P                  P                  V P                   4       R # R # rP   )rR   r;   ÚremoveHandler)rS   Úexc_typeÚexc_valÚexc_tbs   &&&&r   Ú__exit__ÚLogCapture.__exit__   s&   € Ø<<ˆ<ØK‰K×%Ñ% d§l¡lÖ3ñ r   c                ób   € V P                    Uu. uF  qR,          R9   g   K  VNK  	  up# u upi )u+   Retourne uniquement les erreurs capturÃ©es.r
   )r   r    ri   ©rS   Úlogs   & r   Ú
get_errorsÚLogCapture.get_errors‘   s*   € à#Ÿ}š}ÓV™}˜°GµÐ@UÑ0U—™}ÑVÐVùÒVó   ,£,c                ób   € V P                    Uu. uF  qR,          R9   g   K  VNK  	  up# u upi )z!Retourne les warnings et erreurs.r
   )r   r   r    ri   r}   s   & r   Úget_warningsÚLogCapture.get_warnings•   s*   € à#Ÿ}š}Óa™}˜°GµÐ@`Ñ0`—™}ÑaÐaùÒar   )rQ   rR   r;   N)rE   )rj   rk   rl   rm   Ú__doc__rT   rs   rz   r   rƒ   rn   ro   )rM   s   @r   rJ   rJ   t   s.   ø‡ € Ù1÷ò ò
ò"4òW÷bð br   rJ   )rE   NrP   )r…   r&   r   Úpathlibr   r   Úlogging.handlersr   r9   Úmkdirr4   r1   rB   rH   rJ   © r   r   Ú<module>rŠ      sY   ðñó 
Û Ý Ý Ý 0ñ ‹<€Ø ‡˜€Ô ð D€
Ø!€÷I÷X÷$#bó #br   



=========================================
FILE PATH: C:\Users\libasse.dia\Documents\budget\budgetfamille-social-bot\utils\__pycache__\__init__.cpython-314.pyc
=========================================
+
    íÁliD  ã                   óJ   € R t ^RIHtHtHt ^RIHtHtHtH	t	H
t
HtHt . ROtR# )zY
Budget Famille - Utilities
===========================
Modules utilitaires pour le bot.
)Úsetup_loggerÚ
get_loggerÚ
LogCapture)Ú	load_postÚvalidate_postÚget_pending_postsÚarchive_postÚformat_text_for_platformÚextract_hashtagsÚcreate_post_from_templateN)
r   r   r   r   r   r   r   r	   r
   r   )Ú__doc__Úloggerr   r   r   Úhelpersr   r   r   r   r	   r
   r   Ú__all__© ó    ÚPC:\Users\libasse.dia\Documents\budget\budgetfamille-social-bot\utils\__init__.pyÚ<module>r      s(   ðñ÷ 9Ñ 8÷÷ ñ ò‚r   



